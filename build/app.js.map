{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/app.coffee","src/modules/findModule.coffee","src/modules/firebaseframer.coffee","src/modules/inputfield.coffee"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var FirebaseFramer, Input, Slice, _assets, _layers, _slices, anima, asset, c, constant, constraints, container, flexprops, getObject, getParents, groups, j, len, makeLayerFromParent, multiplier, ref, ref1, ref2, ref3, ref4, ref5, ref6, slice, slices, style, ƒ, ƒƒ,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nFirebaseFramer = require('firebaseframer').FirebaseFramer;\n\nInput = require(\"inputfield\").Input;\n\nref = require('findModule'), ƒ = ref.ƒ, ƒƒ = ref.ƒƒ;\n\n_slices = Utils.domLoadJSONSync(\"slices.json\");\n\n_assets = Utils.domLoadJSONSync(\"assets.json\");\n\n_layers = Utils.domLoadJSONSync(\"layers.json\");\n\nmakeLayerFromParent = function(item) {\n  var layer, matches, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8;\n  layer = null;\n  if (item.name != null) {\n    matches = ƒƒ(item.name);\n  } else {\n    return layer;\n  }\n  switch (matches.length) {\n    case 0:\n      slices[item.name] = new Slice({\n        name: item.name,\n        x: (ref1 = (ref2 = item.relative) != null ? ref2.x : void 0) != null ? ref1 : 0,\n        y: (ref3 = (ref4 = item.relative) != null ? ref4.y : void 0) != null ? ref3 : 0,\n        width: (ref5 = (ref6 = item.relative) != null ? ref6.width : void 0) != null ? ref5 : Canvas.width,\n        height: (ref7 = (ref8 = item.relative) != null ? ref8.height : void 0) != null ? ref7 : Canvas.height,\n        sketch_id: item.id,\n        backgroundColor: \"transparent\"\n      });\n      layer = slices[item.name];\n      break;\n    case 1:\n      layer = matches[0];\n  }\n  return layer;\n};\n\ngetObject = function(object, key, value) {\n  var i, prop, result;\n  result = null;\n  if (object instanceof Array) {\n    i = 0;\n    while (i < object.length) {\n      result = getObject(object[i], key, value);\n      if (result) {\n        break;\n      }\n      i++;\n    }\n  } else {\n    for (prop in object) {\n      if (prop === key) {\n        if (!value) {\n          return object;\n        }\n        if (object[prop] === value) {\n          return object;\n        }\n      }\n      if (object[prop] instanceof Object || object[prop] instanceof Array) {\n        result = getObject(object[prop], key, value);\n        if (result) {\n          break;\n        }\n      }\n    }\n  }\n  return result;\n};\n\ngetParents = function(object, list) {\n  var layer, layers, parent, parent_slice_list, prop, results, slice;\n  results = [];\n  for (prop in object) {\n    if (object[prop].hasOwnProperty(\"layers\")) {\n      layers = object[prop].layers;\n      results.push((function() {\n        var j, len, obj, results1;\n        results1 = [];\n        for (j = 0, len = layers.length; j < len; j++) {\n          layer = layers[j];\n          for (slice in list) {\n            if (layer.id === list[slice].sketch_id) {\n              parent = makeLayerFromParent(object[prop]);\n              if (parent != null) {\n                list[slice].parent = parent;\n                parent_slice_list = (\n                  obj = {},\n                  obj[\"\" + parent.name] = slices[parent.name],\n                  obj\n                );\n                getParents(_layers, parent_slice_list);\n              }\n            }\n          }\n          results1.push(getParents(layers, list));\n        }\n        return results1;\n      })());\n    } else {\n      results.push(getParents(object[prop], list));\n    }\n  }\n  return results;\n};\n\nslices = {};\n\ngroups = {};\n\nSlice = (function(superClass) {\n  extend(Slice, superClass);\n\n  function Slice(options) {\n    var base;\n    this.options = options != null ? options : {};\n    if ((base = this.options).sketch_id == null) {\n      base.sketch_id = 111;\n    }\n    Slice.__super__.constructor.call(this, this.options);\n    this.sketch_id = this.options.sketch_id;\n  }\n\n  return Slice;\n\n})(Layer);\n\nref1 = _slices.pages[0].slices;\nfor (j = 0, len = ref1.length; j < len; j++) {\n  slice = ref1[j];\n  slices[slice.name] = new Slice({\n    name: slice.name,\n    image: \"images/\" + slice.name + \".png\",\n    sketch_id: slice.id,\n    x: slice.relative.x,\n    y: slice.relative.y,\n    width: slice.relative.width,\n    height: slice.relative.height\n  });\n}\n\ngetParents(_layers, slices);\n\nfor (slice in slices) {\n  asset = getObject(_assets, \"objectID\", slices[slice].sketch_id);\n  container = (ref2 = slices[slice].parent) != null ? ref2 : Canvas;\n  anima = (ref3 = asset.userInfo) != null ? ref3[\"com.animaapp.stc-sketch-plugin\"] : void 0;\n  constraints = anima != null ? (ref4 = anima.kModelPropertiesKey) != null ? ref4.constraints : void 0 : void 0;\n  if (constraints != null) {\n    for (c in constraints) {\n      constant = (ref5 = constraints[c].constant) != null ? ref5 : 0;\n      multiplier = (ref6 = constraints[c].multiplier) != null ? ref6 : 0;\n      switch (c) {\n        case \"top\":\n          if (multiplier != null) {\n            slices[slice].y = Align.top(container.height * multiplier - constant);\n          } else {\n            Align.top(constant);\n          }\n          break;\n        case \"bottom\":\n          if (multiplier != null) {\n            slices[slice].y = Align.bottom(-(container.height * multiplier) - constant);\n          } else {\n            Align.bottom(constant);\n          }\n          break;\n        case \"left\":\n          if (multiplier != null) {\n            slices[slice].x = Align.left(container.width * multiplier - constant);\n          } else {\n            Align.left(constant);\n          }\n          break;\n        case \"right\":\n          if (multiplier != null) {\n            slices[slice].x = Align.right(-(container.width * multiplier) - constant);\n          } else {\n            Align.right(-constant);\n          }\n          break;\n        case \"width\":\n          if (multiplier != null) {\n            slices[slice].width = container.width * multiplier;\n            if (constant != null) {\n              slices[slice].width -= constant;\n            }\n          } else {\n            slices[slice].width = container.width - constant;\n          }\n          break;\n        case \"height\":\n          if (multiplier != null) {\n            slices[slice].height = container.height * multiplier;\n            if (constant != null) {\n              slices[slice].height -= constant;\n            }\n          } else {\n            slices[slice].width = container.width - constant;\n          }\n          break;\n        case \"centerHorizontally\":\n          slices[slice].x = Align.center(constant);\n          break;\n        case \"centerVertically\":\n          slices[slice].y = Align.center(constant);\n          break;\n        default:\n          break;\n      }\n    }\n  }\n  if ((anima != null ? anima.kViewTypeKey : void 0) != null) {\n    flexprops = anima != null ? anima.kModelPropertiesKey : void 0;\n    style = slices[slice].style;\n    style.display = \"flex\";\n    switch (flexprops.type) {\n      case 0:\n        style.flexDirection = \"column\";\n        break;\n      case 1:\n        style.flexDirection = \"row\";\n        break;\n      default:\n        break;\n    }\n    switch (flexprops.align) {\n      case 0:\n        style.alignItems = \"center\";\n        break;\n      case 1:\n        style.alignItems = \"stretch\";\n        break;\n      case 2:\n        style.alignItems = \"flex-start\";\n        break;\n      case 3:\n        style.alignItems = \"flex-end\";\n        break;\n      default:\n        break;\n    }\n    break;\n  }\n}\n\nslices[\"rect_group\"].style.alignItems = \"stretch\";\n\nprint(slices[\"rect_group\"].style.display);\n\nprint(slices[\"rect_group\"].style.flexDirection);\n\nprint(slices[\"rect_group\"].style.alignItems);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2plZmZyZXkuaGFycmlzL0RldmVsb3BtZW50L2ZyYW1lci1za2V0Y2gtZmlyZWJhc2UtYm9pbGVycGxhdGUvc3JjL2FwcC5jb2ZmZWUiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvVXNlcnMvamVmZnJleS5oYXJyaXMvRGV2ZWxvcG1lbnQvZnJhbWVyLXNrZXRjaC1maXJlYmFzZS1ib2lsZXJwbGF0ZS9zcmMvYXBwLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBLG1RQUFBO0VBQUE7OztBQUFDLGlCQUFrQixPQUFBLENBQVEsZ0JBQVI7O0FBQ2xCLFFBQVMsT0FBQSxDQUFRLFlBQVI7O0FBQ1YsTUFBUyxPQUFBLENBQVEsWUFBUixDQUFULEVBQUMsU0FBRCxFQUFHOztBQUtILE9BQUEsR0FBVSxLQUFLLENBQUMsZUFBTixDQUFzQixhQUF0Qjs7QUFDVixPQUFBLEdBQVUsS0FBSyxDQUFDLGVBQU4sQ0FBc0IsYUFBdEI7O0FBQ1YsT0FBQSxHQUFVLEtBQUssQ0FBQyxlQUFOLENBQXNCLGFBQXRCOztBQUlWLG1CQUFBLEdBQXNCLFNBQUMsSUFBRDtBQUVsQixNQUFBO0VBQUEsS0FBQSxHQUFRO0VBRVIsSUFBRyxpQkFBSDtJQUNJLE9BQUEsR0FBVSxFQUFBLENBQUcsSUFBSSxDQUFDLElBQVIsRUFEZDtHQUFBLE1BQUE7QUFHSSxXQUFPLE1BSFg7O0FBS0EsVUFBTyxPQUFPLENBQUMsTUFBZjtBQUFBLFNBQ1MsQ0FEVDtNQUdRLE1BQU8sQ0FBQSxJQUFJLENBQUMsSUFBTCxDQUFQLEdBQW9CLElBQUksS0FBSixDQUNoQjtRQUFBLElBQUEsRUFBTSxJQUFJLENBQUMsSUFBWDtRQUNBLENBQUEsNkVBQXNCLENBRHRCO1FBRUEsQ0FBQSw2RUFBc0IsQ0FGdEI7UUFHQSxLQUFBLGlGQUE4QixNQUFNLENBQUMsS0FIckM7UUFJQSxNQUFBLGtGQUFnQyxNQUFNLENBQUMsTUFKdkM7UUFLQSxTQUFBLEVBQVcsSUFBSSxDQUFD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\n","var _findAll, _getHierarchy, _match;\n\n_getHierarchy = function(layer) {\n  var a, i, len, ref, string;\n  string = '';\n  ref = layer.ancestors();\n  for (i = 0, len = ref.length; i < len; i++) {\n    a = ref[i];\n    string = a.name + '>' + string;\n  }\n  return string = string + layer.name;\n};\n\n_match = function(hierarchy, string) {\n  var regExp, regexString;\n  string = string.replace(/\\s*>\\s*/g, '>');\n  string = string.split('*').join('[^>]*');\n  string = string.split(' ').join('(?:.*)>');\n  string = string.split(',').join('$|');\n  regexString = \"(^|>)\" + string + \"$\";\n  regExp = new RegExp(regexString);\n  return hierarchy.match(regExp);\n};\n\n_findAll = function(selector, fromLayer) {\n  var layers, stringNeedsRegex;\n  layers = Framer.CurrentContext._layers;\n  if (selector != null) {\n    stringNeedsRegex = _.find(['*', ' ', '>', ','], function(c) {\n      return _.includes(selector, c);\n    });\n    if (!(stringNeedsRegex || fromLayer)) {\n      return layers = _.filter(layers, function(layer) {\n        if (layer.name === selector) {\n          return true;\n        }\n      });\n    } else {\n      return layers = _.filter(layers, function(layer) {\n        var hierarchy;\n        hierarchy = _getHierarchy(layer);\n        if (fromLayer != null) {\n          return _match(hierarchy, fromLayer.name + ' ' + selector);\n        } else {\n          return _match(hierarchy, selector);\n        }\n      });\n    }\n  } else {\n    return layers;\n  }\n};\n\nexports.Find = function(selector, fromLayer) {\n  return _findAll(selector, fromLayer)[0];\n};\n\nexports.ƒ = function(selector, fromLayer) {\n  return _findAll(selector, fromLayer)[0];\n};\n\nexports.FindAll = function(selector, fromLayer) {\n  return _findAll(selector, fromLayer);\n};\n\nexports.ƒƒ = function(selector, fromLayer) {\n  return _findAll(selector, fromLayer);\n};\n\nLayer.prototype.find = function(selector, fromLayer) {\n  return _findAll(selector, this)[0];\n};\n\nLayer.prototype.ƒ = function(selector, fromLayer) {\n  return _findAll(selector, this)[0];\n};\n\nLayer.prototype.findAll = function(selector, fromLayer) {\n  return _findAll(selector, this);\n};\n\nLayer.prototype.ƒƒ = function(selector, fromLayer) {\n  return _findAll(selector, this);\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2plZmZyZXkuaGFycmlzL0RldmVsb3BtZW50L2ZyYW1lci1za2V0Y2gtZmlyZWJhc2UtYm9pbGVycGxhdGUvc3JjL21vZHVsZXMvZmluZE1vZHVsZS5jb2ZmZWUiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvVXNlcnMvamVmZnJleS5oYXJyaXMvRGV2ZWxvcG1lbnQvZnJhbWVyLXNrZXRjaC1maXJlYmFzZS1ib2lsZXJwbGF0ZS9zcmMvbW9kdWxlcy9maW5kTW9kdWxlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBOztBQUFBLGFBQUEsR0FBZ0IsU0FBQyxLQUFEO0FBQ2QsTUFBQTtFQUFBLE1BQUEsR0FBUztBQUNUO0FBQUEsT0FBQSxxQ0FBQTs7SUFDRSxNQUFBLEdBQVMsQ0FBQyxDQUFDLElBQUYsR0FBTyxHQUFQLEdBQVc7QUFEdEI7QUFFQSxTQUFPLE1BQUEsR0FBUyxNQUFBLEdBQU8sS0FBSyxDQUFDO0FBSmY7O0FBTWhCLE1BQUEsR0FBUyxTQUFDLFNBQUQsRUFBWSxNQUFaO0FBRVAsTUFBQTtFQUFBLE1BQUEsR0FBUyxNQUFNLENBQUMsT0FBUCxDQUFlLFVBQWYsRUFBMEIsR0FBMUI7RUFDVCxNQUFBLEdBQVMsTUFBTSxDQUFDLEtBQVAsQ0FBYSxHQUFiLENBQWlCLENBQUMsSUFBbEIsQ0FBdUIsT0FBdkI7RUFDVCxNQUFBLEdBQVMsTUFBTSxDQUFDLEtBQVAsQ0FBYSxHQUFiLENBQWlCLENBQUMsSUFBbEIsQ0FBdUIsU0FBdkI7RUFDVCxNQUFBLEdBQVMsTUFBTSxDQUFDLEtBQVAsQ0FBYSxHQUFiLENBQWlCLENBQUMsSUFBbEIsQ0FBdUIsSUFBdkI7RUFDVCxXQUFBLEdBQWMsT0FBQSxHQUFRLE1BQVIsR0FBZTtFQUU3QixNQUFBLEdBQVMsSUFBSSxNQUFKLENBQVcsV0FBWDtBQUNULFNBQU8sU0FBUyxDQUFDLEtBQVYsQ0FBZ0IsTUFBaEI7QUFUQTs7QUFXVCxRQUFBLEdBQVcsU0FBQyxRQUFELEVBQVcsU0FBWDtBQUNULE1BQUE7RUFBQSxNQUFBLEdBQVMsTUFBTSxDQUFDLGNBQWMsQ0FBQztFQUUvQixJQUFHLGdCQUFIO0lBQ0UsZ0JBQUEsR0FBbUIsQ0FBQyxDQUFDLElBQUYsQ0FBTyxDQUFDLEdBQUQsRUFBSyxHQUFMLEVBQVMsR0FBVCxFQUFhLEdBQWIsQ0FBUCxFQUEwQixTQUFDLENBQUQ7YUFBTyxDQUFDLENBQUMsUUFBRixDQUFXLFFBQVgsRUFBb0IsQ0FBcEI7SUFBUCxDQUExQjtJQUNuQixJQUFBLENBQUEsQ0FBTyxnQkFBQSxJQUFvQixTQUEzQixDQUFBO2FBQ0UsTUFBQSxHQUFTLENBQUMsQ0FBQyxNQUFGLENBQVMsTUFBVCxFQUFpQixTQUFDLEtBQUQ7UUFDeEIsSUFBRyxLQUFLLENBQUMsSUFBTixLQUFjLFFBQWpCO2lCQUErQixLQUEvQjs7TUFEd0IsQ0FBakIsRUFEWDtLQUFBLE1BQUE7YUFJRSxNQUFBLEdBQVMsQ0FBQyxDQUFDLE1BQUYsQ0FBUyxNQUFULEVBQWlCLFNBQUMsS0FBRDtBQUN0QixZQUFBO1FBQUEsU0FBQSxHQUFZLGFBQUEsQ0FBYyxLQUFkO1FBQ1osSUFBRyxpQkFBSDtpQkFDRSxNQUFBLENBQU8sU0FBUCxFQUFrQixTQUFTLENBQUMsSUFBVixHQUFlLEdBQWYsR0FBbUIsUUFBckMsRUFERjtTQUFBLE1BQUE7aUJBR0UsTUFBQSxDQUFPLFNBQVAsRUFBa0IsUUFBbEIsRUFIRjs7TUFGc0IsQ0FBakIsRUFKWDtLQUZGO0dBQUEsTUFBQTtXQWFFLE9BYkY7O0FBSFM7O0FBb0JYLE9BQU8sQ0FBQyxJQUFSLEdBQWtCLFNBQUMsUUFBRCxFQUFXLFNBQVg7U0FBeUIsUUFBQSxDQUFTLFFBQVQsRUFBbUIsU0FBbkIsQ0FBOEIsQ0FBQSxDQUFBO0FBQXZEOztBQUNsQixPQUFPLENBQUMsQ0FBUixHQUFrQixTQUFDLFFBQUQsRUFBVyxTQUFYO1NBQXlCLFFBQUEsQ0FBUyxRQUFULEVBQW1CLFNBQW5CLENBQThCLENBQUEsQ0FBQTtBQUF2RDs7QUFFbEIsT0FBTyxDQUFDLE9BQVIsR0FBa0IsU0FBQyxRQUFELEVBQVcsU0FBWDtTQUF5QixRQUFBLENBQVMsUUFBVCxFQUFtQixTQUFuQjtBQUF6Qjs7QUFDbEIsT0FBTyxDQUFDLEVBQVIsR0FBa0IsU0FBQyxRQUFELEVBQVcsU0FBWDtTQUF5QixRQUFBLENBQVMsUUFBVCxFQUFtQixTQUFuQjtBQUF6Qjs7QUFHbEIsS0FBSyxDQUFBLFNBQUUsQ0FBQSxJQUFQLEdBQWtCLFNBQUMsUUFBRCxFQUFXLFNBQVg7U0FBeUIsUUFBQSxDQUFTLFFBQVQsRUFBbUIsSUFBbkIsQ0FBc0IsQ0FBQSxDQUFBO0FBQS9DOztBQUNsQixLQUFLLENBQUEsU0FBRSxDQUFBLENBQVAsR0FBa0IsU0FBQyxRQUFELEVBQVcsU0FBWDtTQUF5QixRQUFBLENBQVMsUUFBVCxFQUFtQixJQUFuQixDQUFzQixDQUFBLENBQUE7QUFBL0M7O0FBRWxCLEtBQUssQ0FBQSxTQUFFLENBQUEsT0FBUCxHQUFrQixTQUFDLFFBQUQsRUFBVyxTQUFYO1NBQXlCLFFBQUEsQ0FBUyxRQUFULEVBQW1CLElBQW5CO0FBQXpCOztBQUNsQixLQUFLLENBQUEsU0FBRSxDQUFBLEVBQVAsR0FBa0IsU0FBQyxRQUFELEVBQVcsU0FBWDtTQUF5QixRQUFBLENBQVMsUUFBVCxFQUFtQixJQUFuQjtBQUF6QiJ9\n","var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nexports.FirebaseFramer = (function(superClass) {\n  var getCORSurl, request;\n\n  extend(FirebaseFramer, superClass);\n\n  getCORSurl = function(server, path, secret, project) {\n    var url;\n    switch (Utils.isWebKit()) {\n      case true:\n        url = \"https://\" + server + path + \".json?auth=\" + secret + \"&ns=\" + project + \"&sse=true\";\n        break;\n      default:\n        url = \"https://\" + project + \".firebaseio.com\" + path + \".json?auth=\" + secret;\n    }\n    return url;\n  };\n\n  FirebaseFramer.define(\"status\", {\n    get: function() {\n      return this._status;\n    }\n  });\n\n  function FirebaseFramer(options) {\n    var base, base1, base2, base3;\n    this.options = options != null ? options : {};\n    this.projectID = (base = this.options).projectID != null ? base.projectID : base.projectID = null;\n    this.secret = (base1 = this.options).secret != null ? base1.secret : base1.secret = null;\n    this.server = (base2 = this.options).server != null ? base2.server : base2.server = void 0;\n    this.debug = (base3 = this.options).debug != null ? base3.debug : base3.debug = false;\n    if (this._status == null) {\n      this._status = \"disconnected\";\n    }\n    FirebaseFramer.__super__.constructor.apply(this, arguments);\n    if (this.server === void 0) {\n      Utils.domLoadJSON(\"https://\" + this.projectID + \".firebaseio.com/.settings/owner.json\", function(a, server) {\n        var msg;\n        print(msg = \"Add ______ server:\" + '   \"' + server + '\"' + \" _____ to your instance of Firebase.\");\n        if (this.debug) {\n          return console.log(\"Firebase: \" + msg);\n        }\n      });\n    }\n    if (this.debug) {\n      console.log(\"Firebase: Connecting to Firebase Project '\" + this.projectID + \"' ... \\n URL: '\" + (getCORSurl(this.server, \"/\", this.secret, this.projectID)) + \"'\");\n    }\n    this.onChange(\"connection\");\n  }\n\n  request = function(project, secret, path, callback, method, data, parameters, debug) {\n    var url, xhttp;\n    url = \"https://\" + project + \".firebaseio.com\" + path + \".json?auth=\" + secret;\n    if (parameters !== void 0) {\n      if (parameters.shallow) {\n        url += \"&shallow=true\";\n      }\n      if (parameters.format === \"export\") {\n        url += \"&format=export\";\n      }\n      switch (parameters.print) {\n        case \"pretty\":\n          url += \"&print=pretty\";\n          break;\n        case \"silent\":\n          url += \"&print=silent\";\n      }\n      if (typeof parameters.download === \"string\") {\n        url += \"&download=\" + parameters.download;\n        window.open(url, \"_self\");\n      }\n      if (typeof parameters.orderBy === \"string\") {\n        url += \"&orderBy=\" + '\"' + parameters.orderBy + '\"';\n      }\n      if (typeof parameters.limitToFirst === \"number\") {\n        url += \"&limitToFirst=\" + parameters.limitToFirst;\n      }\n      if (typeof parameters.limitToLast === \"number\") {\n        url += \"&limitToLast=\" + parameters.limitToLast;\n      }\n      if (typeof parameters.startAt === \"number\") {\n        url += \"&startAt=\" + parameters.startAt;\n      }\n      if (typeof parameters.endAt === \"number\") {\n        url += \"&endAt=\" + parameters.endAt;\n      }\n      if (typeof parameters.equalTo === \"number\") {\n        url += \"&equalTo=\" + parameters.equalTo;\n      }\n    }\n    xhttp = new XMLHttpRequest;\n    if (debug) {\n      console.log(\"Firebase: New '\" + method + \"'-request with data: '\" + (JSON.stringify(data)) + \"' \\n URL: '\" + url + \"'\");\n    }\n    xhttp.onreadystatechange = (function(_this) {\n      return function() {\n        if (parameters !== void 0) {\n          if (parameters.print === \"silent\" || typeof parameters.download === \"string\") {\n            return;\n          }\n        }\n        switch (xhttp.readyState) {\n          case 0:\n            if (debug) {\n              console.log(\"Firebase: Request not initialized \\n URL: '\" + url + \"'\");\n            }\n            break;\n          case 1:\n            if (debug) {\n              console.log(\"Firebase: Server connection established \\n URL: '\" + url + \"'\");\n            }\n            break;\n          case 2:\n            if (debug) {\n              console.log(\"Firebase: Request received \\n URL: '\" + url + \"'\");\n            }\n            break;\n          case 3:\n            if (debug) {\n              console.log(\"Firebase: Processing request \\n URL: '\" + url + \"'\");\n            }\n            break;\n          case 4:\n            if (callback != null) {\n              callback(JSON.parse(xhttp.responseText));\n            }\n            if (debug) {\n              console.log(\"Firebase: Request finished, response: '\" + (JSON.parse(xhttp.responseText)) + \"' \\n URL: '\" + url + \"'\");\n            }\n        }\n        if (xhttp.status === \"404\") {\n          if (debug) {\n            return console.warn(\"Firebase: Invalid request, page not found \\n URL: '\" + url + \"'\");\n          }\n        }\n      };\n    })(this);\n    xhttp.open(method, url, true);\n    xhttp.setRequestHeader(\"Content-type\", \"application/json; charset=utf-8\");\n    return xhttp.send(data = \"\" + (JSON.stringify(data)));\n  };\n\n  FirebaseFramer.prototype.get = function(path, callback, parameters) {\n    return request(this.projectID, this.secret, path, callback, \"GET\", null, parameters, this.debug);\n  };\n\n  FirebaseFramer.prototype.put = function(path, data, callback, parameters) {\n    return request(this.projectID, this.secret, path, callback, \"PUT\", data, parameters, this.debug);\n  };\n\n  FirebaseFramer.prototype.post = function(path, data, callback, parameters) {\n    return request(this.projectID, this.secret, path, callback, \"POST\", data, parameters, this.debug);\n  };\n\n  FirebaseFramer.prototype.patch = function(path, data, callback, parameters) {\n    return request(this.projectID, this.secret, path, callback, \"PATCH\", data, parameters, this.debug);\n  };\n\n  FirebaseFramer.prototype[\"delete\"] = function(path, callback, parameters) {\n    return request(this.projectID, this.secret, path, callback, \"DELETE\", null, parameters, this.debug);\n  };\n\n  FirebaseFramer.prototype.onChange = function(path, callback) {\n    var currentStatus, source, url;\n    if (path === \"connection\") {\n      url = getCORSurl(this.server, \"/\", this.secret, this.projectID);\n      currentStatus = \"disconnected\";\n      source = new EventSource(url);\n      source.addEventListener(\"open\", (function(_this) {\n        return function() {\n          if (currentStatus === \"disconnected\") {\n            _this._status = \"connected\";\n            if (callback != null) {\n              callback(\"connected\");\n            }\n            if (_this.debug) {\n              console.log(\"Firebase: Connection to Firebase Project '\" + _this.projectID + \"' established\");\n            }\n          }\n          return currentStatus = \"connected\";\n        };\n      })(this));\n      return source.addEventListener(\"error\", (function(_this) {\n        return function() {\n          if (currentStatus === \"connected\") {\n            _this._status = \"disconnected\";\n            if (callback != null) {\n              callback(\"disconnected\");\n            }\n            if (_this.debug) {\n              console.warn(\"Firebase: Connection to Firebase Project '\" + _this.projectID + \"' closed\");\n            }\n          }\n          return currentStatus = \"disconnected\";\n        };\n      })(this));\n    } else {\n      url = getCORSurl(this.server, path, this.secret, this.projectID);\n      source = new EventSource(url);\n      if (this.debug) {\n        console.log(\"Firebase: Listening to changes made to '\" + path + \"' \\n URL: '\" + url + \"'\");\n      }\n      source.addEventListener(\"put\", (function(_this) {\n        return function(ev) {\n          if (callback != null) {\n            callback(JSON.parse(ev.data).data, \"put\", JSON.parse(ev.data).patch);\n          }\n          if (_this.debug) {\n            return console.log(\"Firebase: Received changes made to '\" + path + \"' via 'PUT': \" + (JSON.parse(ev.data).data) + \" \\n URL: '\" + url + \"'\");\n          }\n        };\n      })(this));\n      return source.addEventListener(\"patch\", (function(_this) {\n        return function(ev) {\n          if (callback != null) {\n            callback(JSON.parse(ev.data).data, \"patch\", JSON.parse(ev.data).patch);\n          }\n          if (_this.debug) {\n            return console.log(\"Firebase: Received changes made to '\" + path + \"' via 'PATCH': \" + (JSON.parse(ev.data).data) + \" \\n URL: '\" + url + \"'\");\n          }\n        };\n      })(this));\n    }\n  };\n\n  return FirebaseFramer;\n\n})(Framer.BaseClass);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2plZmZyZXkuaGFycmlzL0RldmVsb3BtZW50L2ZyYW1lci1za2V0Y2gtZmlyZWJhc2UtYm9pbGVycGxhdGUvc3JjL21vZHVsZXMvZmlyZWJhc2VmcmFtZXIuY29mZmVlIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL1VzZXJzL2plZmZyZXkuaGFycmlzL0RldmVsb3BtZW50L2ZyYW1lci1za2V0Y2gtZmlyZWJhc2UtYm9pbGVycGxhdGUvc3JjL21vZHVsZXMvZmlyZWJhc2VmcmFtZXIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlCQSxJQUFBOzs7QUFBTSxPQUFPLENBQUM7QUFJYixNQUFBOzs7O0VBQUEsVUFBQSxHQUFhLFNBQUMsTUFBRCxFQUFTLElBQVQsRUFBZSxNQUFmLEVBQXVCLE9BQXZCO0FBRVosUUFBQTtBQUFBLFlBQU8sS0FBSyxDQUFDLFFBQU4sQ0FBQSxDQUFQO0FBQUEsV0FDTSxJQUROO1FBQ2dCLEdBQUEsR0FBTSxVQUFBLEdBQVcsTUFBWCxHQUFvQixJQUFwQixHQUF5QixhQUF6QixHQUFzQyxNQUF0QyxHQUE2QyxNQUE3QyxHQUFtRCxPQUFuRCxHQUEyRDtBQUEzRTtBQUROO1FBRWdCLEdBQUEsR0FBTSxVQUFBLEdBQVcsT0FBWCxHQUFtQixpQkFBbkIsR0FBb0MsSUFBcEMsR0FBeUMsYUFBekMsR0FBc0Q7QUFGNUU7QUFJQSxXQUFPO0VBTks7O0VBU2IsY0FBQyxDQUFDLE1BQUYsQ0FBUyxRQUFULEVBQ0M7SUFBQSxHQUFBLEVBQUssU0FBQTthQUFHLElBQUMsQ0FBQTtJQUFKLENBQUw7R0FERDs7RUFHYSx3QkFBQyxPQUFEO0FBQ1osUUFBQTtJQURhLElBQUMsQ0FBQSw0QkFBRCxVQUFTO0lBQ3RCLElBQUMsQ0FBQSxTQUFELGlEQUFxQixDQUFDLGdCQUFELENBQUMsWUFBYTtJQUNuQyxJQUFDLENBQUEsTUFBRCxnREFBcUIsQ0FBQyxjQUFELENBQUMsU0FBYTtJQUNuQyxJQUFDLENBQUEsTUFBRCxn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\n","var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nexports.Input = (function(superClass) {\n  extend(Input, superClass);\n\n  Input.define(\"style\", {\n    get: function() {\n      return this.input.style;\n    },\n    set: function(value) {\n      return _.extend(this.input.style, value);\n    }\n  });\n\n  Input.define(\"value\", {\n    get: function() {\n      return this.input.value;\n    },\n    set: function(value) {\n      return this.input.value = value;\n    }\n  });\n\n  function Input(options) {\n    if (options == null) {\n      options = {};\n    }\n    if (options.setup == null) {\n      options.setup = false;\n    }\n    if (options.width == null) {\n      options.width = Screen.width;\n    }\n    if (options.clip == null) {\n      options.clip = false;\n    }\n    if (options.height == null) {\n      options.height = 60;\n    }\n    if (options.backgroundColor == null) {\n      options.backgroundColor = options.setup ? \"rgba(255, 60, 47, .5)\" : \"transparent\";\n    }\n    if (options.fontSize == null) {\n      options.fontSize = 30;\n    }\n    if (options.lineHeight == null) {\n      options.lineHeight = 30;\n    }\n    if (options.padding == null) {\n      options.padding = 10;\n    }\n    if (options.fontFamily == null) {\n      options.fontFamily = \"\";\n    }\n    if (options.opacity == null) {\n      options.opacity = 1;\n    }\n    if (options.text == null) {\n      options.text = \"\";\n    }\n    if (options.placeholder == null) {\n      options.placeholder = \"\";\n    }\n    if (options.type == null) {\n      options.type = \"text\";\n    }\n    Input.__super__.constructor.call(this, options);\n    if (options.placeholderColor != null) {\n      this.placeholderColor = options.placeholderColor;\n    }\n    this.input = document.createElement(\"input\");\n    this.input.id = \"input-\" + (_.now());\n    this.input.style.cssText = \"font-size: \" + options.fontSize + \"px; line-height: \" + options.lineHeight + \"px; padding: \" + options.padding + \"px; width: \" + options.width + \"px; height: \" + options.height + \"px; border: none; outline-width: 0; background-image: url(about:blank); background-color: \" + options.backgroundColor + \"; font-family: \" + options.fontFamily + \"; opacity: \" + options.opacity + \";\";\n    this.input.value = options.text;\n    this.input.type = options.type;\n    this.input.placeholder = options.placeholder;\n    this.form = document.createElement(\"form\");\n    this.form.appendChild(this.input);\n    this._element.appendChild(this.form);\n    this.backgroundColor = \"transparent\";\n    if (this.placeholderColor) {\n      this.updatePlaceholderColor(options.placeholderColor);\n    }\n  }\n\n  Input.prototype.updatePlaceholderColor = function(color) {\n    var css;\n    this.placeholderColor = color;\n    if (this.pageStyle != null) {\n      document.head.removeChild(this.pageStyle);\n    }\n    this.pageStyle = document.createElement(\"style\");\n    this.pageStyle.type = \"text/css\";\n    css = \"#\" + this.input.id + \"::-webkit-input-placeholder { color: \" + this.placeholderColor + \"; }\";\n    this.pageStyle.appendChild(document.createTextNode(css));\n    return document.head.appendChild(this.pageStyle);\n  };\n\n  Input.prototype.focus = function() {\n    return this.input.focus();\n  };\n\n  return Input;\n\n})(Layer);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2plZmZyZXkuaGFycmlzL0RldmVsb3BtZW50L2ZyYW1lci1za2V0Y2gtZmlyZWJhc2UtYm9pbGVycGxhdGUvc3JjL21vZHVsZXMvaW5wdXRmaWVsZC5jb2ZmZWUiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvVXNlcnMvamVmZnJleS5oYXJyaXMvRGV2ZWxvcG1lbnQvZnJhbWVyLXNrZXRjaC1maXJlYmFzZS1ib2lsZXJwbGF0ZS9zcmMvbW9kdWxlcy9pbnB1dGZpZWxkLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxJQUFBOzs7QUFBTSxPQUFPLENBQUM7OztFQUNiLEtBQUMsQ0FBQSxNQUFELENBQVEsT0FBUixFQUNDO0lBQUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUEsS0FBSyxDQUFDO0lBQVYsQ0FBTDtJQUNBLEdBQUEsRUFBSyxTQUFDLEtBQUQ7YUFDSixDQUFDLENBQUMsTUFBRixDQUFTLElBQUMsQ0FBQSxLQUFLLENBQUMsS0FBaEIsRUFBdUIsS0FBdkI7SUFESSxDQURMO0dBREQ7O0VBS0EsS0FBQyxDQUFBLE1BQUQsQ0FBUSxPQUFSLEVBQ0M7SUFBQSxHQUFBLEVBQUssU0FBQTthQUFHLElBQUMsQ0FBQSxLQUFLLENBQUM7SUFBVixDQUFMO0lBQ0EsR0FBQSxFQUFLLFNBQUMsS0FBRDthQUNKLElBQUMsQ0FBQSxLQUFLLENBQUMsS0FBUCxHQUFlO0lBRFgsQ0FETDtHQUREOztFQUthLGVBQUMsT0FBRDs7TUFBQyxVQUFVOzs7TUFDdkIsT0FBTyxDQUFDLFFBQVM7OztNQUNqQixPQUFPLENBQUMsUUFBUyxNQUFNLENBQUM7OztNQUN4QixPQUFPLENBQUMsT0FBUTs7O01BQ2hCLE9BQU8sQ0FBQyxTQUFVOzs7TUFDbEIsT0FBTyxDQUFDLGtCQUFzQixPQUFPLENBQUMsS0FBWCxHQUFzQix1QkFBdEIsR0FBbUQ7OztNQUM5RSxPQUFPLENBQUMsV0FBWTs7O01BQ3BCLE9BQU8sQ0FBQyxhQUFjOzs7TUFD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\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXBwLmNvZmZlZSIsInNyYy9tb2R1bGVzL2ZpbmRNb2R1bGUuY29mZmVlIiwic3JjL21vZHVsZXMvZmlyZWJhc2VmcmFtZXIuY29mZmVlIiwic3JjL21vZHVsZXMvaW5wdXRmaWVsZC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN0RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3hPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJ2YXIgRmlyZWJhc2VGcmFtZXIsIElucHV0LCBTbGljZSwgX2Fzc2V0cywgX2xheWVycywgX3NsaWNlcywgYW5pbWEsIGFzc2V0LCBjLCBjb25zdGFudCwgY29uc3RyYWludHMsIGNvbnRhaW5lciwgZmxleHByb3BzLCBnZXRPYmplY3QsIGdldFBhcmVudHMsIGdyb3VwcywgaiwgbGVuLCBtYWtlTGF5ZXJGcm9tUGFyZW50LCBtdWx0aXBsaWVyLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlZjYsIHNsaWNlLCBzbGljZXMsIHN0eWxlLCDGkiwgxpLGkixcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbkZpcmViYXNlRnJhbWVyID0gcmVxdWlyZSgnZmlyZWJhc2VmcmFtZXInKS5GaXJlYmFzZUZyYW1lcjtcblxuSW5wdXQgPSByZXF1aXJlKFwiaW5wdXRmaWVsZFwiKS5JbnB1dDtcblxucmVmID0gcmVxdWlyZSgnZmluZE1vZHVsZScpLCDGkiA9IHJlZi7GkiwgxpLGkiA9IHJlZi7GksaSO1xuXG5fc2xpY2VzID0gVXRpbHMuZG9tTG9hZEpTT05TeW5jKFwic2xpY2VzLmpzb25cIik7XG5cbl9hc3NldHMgPSBVdGlscy5kb21Mb2FkSlNPTlN5bmMoXCJhc3NldHMuanNvblwiKTtcblxuX2xheWVycyA9IFV0aWxzLmRvbUxvYWRKU09OU3luYyhcImxheWVycy5qc29uXCIpO1xuXG5tYWtlTGF5ZXJGcm9tUGFyZW50ID0gZnVuY3Rpb24oaXRlbSkge1xuICB2YXIgbGF5ZXIsIG1hdGNoZXMsIHJlZjEsIHJlZjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlZjYsIHJlZjcsIHJlZjg7XG4gIGxheWVyID0gbnVsbDtcbiAgaWYgKGl0ZW0ubmFtZSAhPSBudWxsKSB7XG4gICAgbWF0Y2hlcyA9IMaSxpIoaXRlbS5uYW1lKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGF5ZXI7XG4gIH1cbiAgc3dpdGNoIChtYXRjaGVzLmxlbmd0aCkge1xuICAgIGNhc2UgMDpcbiAgICAgIHNsaWNlc1tpdGVtLm5hbWVdID0gbmV3IFNsaWNlKHtcbiAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgICB4OiAocmVmMSA9IChyZWYyID0gaXRlbS5yZWxhdGl2ZSkgIT0gbnVsbCA/IHJlZjIueCA6IHZvaWQgMCkgIT0gbnVsbCA/IHJlZjEgOiAwLFxuICAgICAgICB5OiAocmVmMyA9IChyZWY0ID0gaXRlbS5yZWxhdGl2ZSkgIT0gbnVsbCA/IHJlZjQueSA6IHZvaWQgMCkgIT0gbnVsbCA/IHJlZjMgOiAwLFxuICAgICAgICB3aWR0aDogKHJlZjUgPSAocmVmNiA9IGl0ZW0ucmVsYXRpdmUpICE9IG51bGwgPyByZWY2LndpZHRoIDogdm9pZCAwKSAhPSBudWxsID8gcmVmNSA6IENhbnZhcy53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiAocmVmNyA9IChyZWY4ID0gaXRlbS5yZWxhdGl2ZSkgIT0gbnVsbCA/IHJlZjguaGVpZ2h0IDogdm9pZCAwKSAhPSBudWxsID8gcmVmNyA6IENhbnZhcy5oZWlnaHQsXG4gICAgICAgIHNrZXRjaF9pZDogaXRlbS5pZCxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCJcbiAgICAgIH0pO1xuICAgICAgbGF5ZXIgPSBzbGljZXNbaXRlbS5uYW1lXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMTpcbiAgICAgIGxheWVyID0gbWF0Y2hlc1swXTtcbiAgfVxuICByZXR1cm4gbGF5ZXI7XG59O1xuXG5nZXRPYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgdmFyIGksIHByb3AsIHJlc3VsdDtcbiAgcmVzdWx0ID0gbnVsbDtcbiAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBvYmplY3QubGVuZ3RoKSB7XG4gICAgICByZXN1bHQgPSBnZXRPYmplY3Qob2JqZWN0W2ldLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAocHJvcCBpbiBvYmplY3QpIHtcbiAgICAgIGlmIChwcm9wID09PSBrZXkpIHtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdFtwcm9wXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAob2JqZWN0W3Byb3BdIGluc3RhbmNlb2YgT2JqZWN0IHx8IG9iamVjdFtwcm9wXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHJlc3VsdCA9IGdldE9iamVjdChvYmplY3RbcHJvcF0sIGtleSwgdmFsdWUpO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmdldFBhcmVudHMgPSBmdW5jdGlvbihvYmplY3QsIGxpc3QpIHtcbiAgdmFyIGxheWVyLCBsYXllcnMsIHBhcmVudCwgcGFyZW50X3NsaWNlX2xpc3QsIHByb3AsIHJlc3VsdHMsIHNsaWNlO1xuICByZXN1bHRzID0gW107XG4gIGZvciAocHJvcCBpbiBvYmplY3QpIHtcbiAgICBpZiAob2JqZWN0W3Byb3BdLmhhc093blByb3BlcnR5KFwibGF5ZXJzXCIpKSB7XG4gICAgICBsYXllcnMgPSBvYmplY3RbcHJvcF0ubGF5ZXJzO1xuICAgICAgcmVzdWx0cy5wdXNoKChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGosIGxlbiwgb2JqLCByZXN1bHRzMTtcbiAgICAgICAgcmVzdWx0czEgPSBbXTtcbiAgICAgICAgZm9yIChqID0gMCwgbGVuID0gbGF5ZXJzLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgbGF5ZXIgPSBsYXllcnNbal07XG4gICAgICAgICAgZm9yIChzbGljZSBpbiBsaXN0KSB7XG4gICAgICAgICAgICBpZiAobGF5ZXIuaWQgPT09IGxpc3Rbc2xpY2VdLnNrZXRjaF9pZCkge1xuICAgICAgICAgICAgICBwYXJlbnQgPSBtYWtlTGF5ZXJGcm9tUGFyZW50KG9iamVjdFtwcm9wXSk7XG4gICAgICAgICAgICAgIGlmIChwYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxpc3Rbc2xpY2VdLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICBwYXJlbnRfc2xpY2VfbGlzdCA9IChcbiAgICAgICAgICAgICAgICAgIG9iaiA9IHt9LFxuICAgICAgICAgICAgICAgICAgb2JqW1wiXCIgKyBwYXJlbnQubmFtZV0gPSBzbGljZXNbcGFyZW50Lm5hbWVdLFxuICAgICAgICAgICAgICAgICAgb2JqXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBnZXRQYXJlbnRzKF9sYXllcnMsIHBhcmVudF9zbGljZV9saXN0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHRzMS5wdXNoKGdldFBhcmVudHMobGF5ZXJzLCBsaXN0KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHMxO1xuICAgICAgfSkoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdHMucHVzaChnZXRQYXJlbnRzKG9iamVjdFtwcm9wXSwgbGlzdCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn07XG5cbnNsaWNlcyA9IHt9O1xuXG5ncm91cHMgPSB7fTtcblxuU2xpY2UgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoU2xpY2UsIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIFNsaWNlKG9wdGlvbnMpIHtcbiAgICB2YXIgYmFzZTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zICE9IG51bGwgPyBvcHRpb25zIDoge307XG4gICAgaWYgKChiYXNlID0gdGhpcy5vcHRpb25zKS5za2V0Y2hfaWQgPT0gbnVsbCkge1xuICAgICAgYmFzZS5za2V0Y2hfaWQgPSAxMTE7XG4gICAgfVxuICAgIFNsaWNlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gICAgdGhpcy5za2V0Y2hfaWQgPSB0aGlzLm9wdGlvbnMuc2tldGNoX2lkO1xuICB9XG5cbiAgcmV0dXJuIFNsaWNlO1xuXG59KShMYXllcik7XG5cbnJlZjEgPSBfc2xpY2VzLnBhZ2VzWzBdLnNsaWNlcztcbmZvciAoaiA9IDAsIGxlbiA9IHJlZjEubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgc2xpY2UgPSByZWYxW2pdO1xuICBzbGljZXNbc2xpY2UubmFtZV0gPSBuZXcgU2xpY2Uoe1xuICAgIG5hbWU6IHNsaWNlLm5hbWUsXG4gICAgaW1hZ2U6IFwiaW1hZ2VzL1wiICsgc2xpY2UubmFtZSArIFwiLnBuZ1wiLFxuICAgIHNrZXRjaF9pZDogc2xpY2UuaWQsXG4gICAgeDogc2xpY2UucmVsYXRpdmUueCxcbiAgICB5OiBzbGljZS5yZWxhdGl2ZS55LFxuICAgIHdpZHRoOiBzbGljZS5yZWxhdGl2ZS53aWR0aCxcbiAgICBoZWlnaHQ6IHNsaWNlLnJlbGF0aXZlLmhlaWdodFxuICB9KTtcbn1cblxuZ2V0UGFyZW50cyhfbGF5ZXJzLCBzbGljZXMpO1xuXG5mb3IgKHNsaWNlIGluIHNsaWNlcykge1xuICBhc3NldCA9IGdldE9iamVjdChfYXNzZXRzLCBcIm9iamVjdElEXCIsIHNsaWNlc1tzbGljZV0uc2tldGNoX2lkKTtcbiAgY29udGFpbmVyID0gKHJlZjIgPSBzbGljZXNbc2xpY2VdLnBhcmVudCkgIT0gbnVsbCA/IHJlZjIgOiBDYW52YXM7XG4gIGFuaW1hID0gKHJlZjMgPSBhc3NldC51c2VySW5mbykgIT0gbnVsbCA/IHJlZjNbXCJjb20uYW5pbWFhcHAuc3RjLXNrZXRjaC1wbHVnaW5cIl0gOiB2b2lkIDA7XG4gIGNvbnN0cmFpbnRzID0gYW5pbWEgIT0gbnVsbCA/IChyZWY0ID0gYW5pbWEua01vZGVsUHJvcGVydGllc0tleSkgIT0gbnVsbCA/IHJlZjQuY29uc3RyYWludHMgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIGlmIChjb25zdHJhaW50cyAhPSBudWxsKSB7XG4gICAgZm9yIChjIGluIGNvbnN0cmFpbnRzKSB7XG4gICAgICBjb25zdGFudCA9IChyZWY1ID0gY29uc3RyYWludHNbY10uY29uc3RhbnQpICE9IG51bGwgPyByZWY1IDogMDtcbiAgICAgIG11bHRpcGxpZXIgPSAocmVmNiA9IGNvbnN0cmFpbnRzW2NdLm11bHRpcGxpZXIpICE9IG51bGwgPyByZWY2IDogMDtcbiAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICBjYXNlIFwidG9wXCI6XG4gICAgICAgICAgaWYgKG11bHRpcGxpZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2xpY2VzW3NsaWNlXS55ID0gQWxpZ24udG9wKGNvbnRhaW5lci5oZWlnaHQgKiBtdWx0aXBsaWVyIC0gY29uc3RhbnQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBBbGlnbi50b3AoY29uc3RhbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgICAgIGlmIChtdWx0aXBsaWVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHNsaWNlc1tzbGljZV0ueSA9IEFsaWduLmJvdHRvbSgtKGNvbnRhaW5lci5oZWlnaHQgKiBtdWx0aXBsaWVyKSAtIGNvbnN0YW50KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgQWxpZ24uYm90dG9tKGNvbnN0YW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgaWYgKG11bHRpcGxpZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2xpY2VzW3NsaWNlXS54ID0gQWxpZ24ubGVmdChjb250YWluZXIud2lkdGggKiBtdWx0aXBsaWVyIC0gY29uc3RhbnQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBBbGlnbi5sZWZ0KGNvbnN0YW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICAgIGlmIChtdWx0aXBsaWVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHNsaWNlc1tzbGljZV0ueCA9IEFsaWduLnJpZ2h0KC0oY29udGFpbmVyLndpZHRoICogbXVsdGlwbGllcikgLSBjb25zdGFudCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEFsaWduLnJpZ2h0KC1jb25zdGFudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwid2lkdGhcIjpcbiAgICAgICAgICBpZiAobXVsdGlwbGllciAhPSBudWxsKSB7XG4gICAgICAgICAgICBzbGljZXNbc2xpY2VdLndpZHRoID0gY29udGFpbmVyLndpZHRoICogbXVsdGlwbGllcjtcbiAgICAgICAgICAgIGlmIChjb25zdGFudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIHNsaWNlc1tzbGljZV0ud2lkdGggLT0gY29uc3RhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNsaWNlc1tzbGljZV0ud2lkdGggPSBjb250YWluZXIud2lkdGggLSBjb25zdGFudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJoZWlnaHRcIjpcbiAgICAgICAgICBpZiAobXVsdGlwbGllciAhPSBudWxsKSB7XG4gICAgICAgICAgICBzbGljZXNbc2xpY2VdLmhlaWdodCA9IGNvbnRhaW5lci5oZWlnaHQgKiBtdWx0aXBsaWVyO1xuICAgICAgICAgICAgaWYgKGNvbnN0YW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgc2xpY2VzW3NsaWNlXS5oZWlnaHQgLT0gY29uc3RhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNsaWNlc1tzbGljZV0ud2lkdGggPSBjb250YWluZXIud2lkdGggLSBjb25zdGFudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJjZW50ZXJIb3Jpem9udGFsbHlcIjpcbiAgICAgICAgICBzbGljZXNbc2xpY2VdLnggPSBBbGlnbi5jZW50ZXIoY29uc3RhbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY2VudGVyVmVydGljYWxseVwiOlxuICAgICAgICAgIHNsaWNlc1tzbGljZV0ueSA9IEFsaWduLmNlbnRlcihjb25zdGFudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICgoYW5pbWEgIT0gbnVsbCA/IGFuaW1hLmtWaWV3VHlwZUtleSA6IHZvaWQgMCkgIT0gbnVsbCkge1xuICAgIGZsZXhwcm9wcyA9IGFuaW1hICE9IG51bGwgPyBhbmltYS5rTW9kZWxQcm9wZXJ0aWVzS2V5IDogdm9pZCAwO1xuICAgIHN0eWxlID0gc2xpY2VzW3NsaWNlXS5zdHlsZTtcbiAgICBzdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgc3dpdGNoIChmbGV4cHJvcHMudHlwZSkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICBzdHlsZS5mbGV4RGlyZWN0aW9uID0gXCJjb2x1bW5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHN0eWxlLmZsZXhEaXJlY3Rpb24gPSBcInJvd1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBzd2l0Y2ggKGZsZXhwcm9wcy5hbGlnbikge1xuICAgICAgY2FzZSAwOlxuICAgICAgICBzdHlsZS5hbGlnbkl0ZW1zID0gXCJjZW50ZXJcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHN0eWxlLmFsaWduSXRlbXMgPSBcInN0cmV0Y2hcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHN0eWxlLmFsaWduSXRlbXMgPSBcImZsZXgtc3RhcnRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHN0eWxlLmFsaWduSXRlbXMgPSBcImZsZXgtZW5kXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGJyZWFrO1xuICB9XG59XG5cbnNsaWNlc1tcInJlY3RfZ3JvdXBcIl0uc3R5bGUuYWxpZ25JdGVtcyA9IFwic3RyZXRjaFwiO1xuXG5wcmludChzbGljZXNbXCJyZWN0X2dyb3VwXCJdLnN0eWxlLmRpc3BsYXkpO1xuXG5wcmludChzbGljZXNbXCJyZWN0X2dyb3VwXCJdLnN0eWxlLmZsZXhEaXJlY3Rpb24pO1xuXG5wcmludChzbGljZXNbXCJyZWN0X2dyb3VwXCJdLnN0eWxlLmFsaWduSXRlbXMpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lMMVZ6WlhKekwycGxabVp5WlhrdWFHRnljbWx6TDBSbGRtVnNiM0J0Wlc1MEwyWnlZVzFsY2kxemEyVjBZMmd0Wm1seVpXSmhjMlV0WW05cGJHVnljR3hoZEdVdmMzSmpMMkZ3Y0M1amIyWm1aV1VpTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lJdlZYTmxjbk12YW1WbVpuSmxlUzVvWVhKeWFYTXZSR1YyWld4dmNHMWxiblF2Wm5KaGJXVnlMWE5yWlhSamFDMW1hWEpsWW1GelpTMWliMmxzWlhKd2JHRjBaUzl6Y21NdllYQndMbU52Wm1abFpTSmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRkJRU3hKUVVGQkxHMVJRVUZCTzBWQlFVRTdPenRCUVVGRExHbENRVUZyUWl4UFFVRkJMRU5CUVZFc1owSkJRVkk3TzBGQlEyeENMRkZCUVZNc1QwRkJRU3hEUVVGUkxGbEJRVkk3TzBGQlExWXNUVUZCVXl4UFFVRkJMRU5CUVZFc1dVRkJVaXhEUVVGVUxFVkJRVU1zVTBGQlJDeEZRVUZIT3p0QlFVdElMRTlCUVVFc1IwRkJWU3hMUVVGTExFTkJRVU1zWlVGQlRpeERRVUZ6UWl4aFFVRjBRanM3UVVGRFZpeFBRVUZCTEVkQlFWVXNTMEZCU3l4RFFVRkRMR1ZCUVU0c1EwRkJjMElzWVVGQmRFSTdPMEZCUTFZc1QwRkJRU3hIUVVGVkxFdEJRVXNzUTBGQlF5eGxRVUZPTEVOQlFYTkNMR0ZCUVhSQ096dEJRVWxXTEcxQ1FVRkJMRWRCUVhOQ0xGTkJRVU1zU1VGQlJEdEJRVVZzUWl4TlFVRkJPMFZCUVVFc1MwRkJRU3hIUVVGUk8wVkJSVklzU1VGQlJ5eHBRa0ZCU0R0SlFVTkpMRTlCUVVFc1IwRkJWU3hGUVVGQkxFTkJRVWNzU1VGQlNTeERRVUZETEVsQlFWSXNSVUZFWkR0SFFVRkJMRTFCUVVFN1FVRkhTU3hYUVVGUExFMUJTRmc3TzBGQlMwRXNWVUZCVHl4UFFVRlBMRU5CUVVNc1RVRkJaanRCUVVGQkxGTkJRMU1zUTBGRVZEdE5RVWRSTEUxQlFVOHNRMEZCUVN4SlFVRkpMRU5CUVVNc1NVRkJUQ3hEUVVGUUxFZEJRVzlDTEVsQlFVa3NTMEZCU2l4RFFVTm9RanRSUVVGQkxFbEJRVUVzUlVGQlRTeEpRVUZKTEVOQlFVTXNTVUZCV0R0UlFVTkJMRU5CUVVFc05rVkJRWE5DTEVOQlJIUkNPMUZCUlVFc1EwRkJRU3cyUlVGQmMwSXNRMEZHZEVJN1VVRkhRU3hMUVVGQkxHbEdRVUU0UWl4TlFVRk5MRU5CUVVNc1MwRklja003VVVGSlFTeE5RVUZCTEd0R1FVRm5ReXhOUVVGTkxFTkJRVU1zVFVGS2RrTTdVVUZMUVN4VFFVRkJMRVZCUVZjc1NVRkJTU3hEUVVGRExFVkJUR2hDTzFGQlRVRXNaVUZCUVN4RlFVRnBRaXhoUVU1cVFqdFBRVVJuUWp0TlFWRndRaXhMUVVGQkxFZEJRVkVzVFVGQlR5eERRVUZCTEVsQlFVa3NRMEZCUXl4SlFVRk1PMEZCVm1RN1FVRkVWQ3hUUVZsVExFTkJXbFE3VFVGbFVTeExRVUZCTEVkQlFWRXNUMEZCVVN4RFFVRkJMRU5CUVVFN1FVRm1lRUk3UVVGblFrRXNVMEZCVHp0QlFYcENWenM3UVVFMFFuUkNMRk5CUVVFc1IwRkJXU3hUUVVGRExFMUJRVVFzUlVGQlV5eEhRVUZVTEVWQlFXTXNTMEZCWkR0QlFVTlNMRTFCUVVFN1JVRkJRU3hOUVVGQkxFZEJRVk03UlVGRFZDeEpRVUZITEUxQlFVRXNXVUZCYTBJc1MwRkJja0k3U1VGRFNTeERRVUZCTEVkQlFVazdRVUZEU2l4WFFVRk5MRU5CUVVFc1IwRkJTU3hOUVVGTkxFTkJRVU1zVFVGQmFrSTdUVUZEUlN4TlFVRkJMRWRCUVZNc1UwRkJRU3hEUVVGVkxFMUJRVThzUTBGQlFTeERRVUZCTEVOQlFXcENMRVZCUVhGQ0xFZEJRWEpDTEVWQlFUQkNMRXRCUVRGQ08wMUJRMVFzU1VGQlJ5eE5RVUZJTzBGQlEwVXNZMEZFUmpzN1RVRkZRU3hEUVVGQk8wbEJTa1lzUTBGR1NqdEhRVUZCTEUxQlFVRTdRVUZSU1N4VFFVRkJMR05CUVVFN1RVRkRTU3hKUVVGSExFbEJRVUVzUzBGQlVTeEhRVUZZTzFGQlEwa3NTVUZCUnl4RFFVRkRMRXRCUVVvN1FVRkRTU3hwUWtGQlR5eFBRVVJZT3p0UlFVVkJMRWxCUVVjc1RVRkJUeXhEUVVGQkxFbEJRVUVzUTBGQlVDeExRVUZuUWl4TFFVRnVRanRCUVVOSkxHbENRVUZQTEU5QlJGZzdVMEZJU2pzN1RVRkxRU3hKUVVGSExFMUJRVThzUTBGQlFTeEpRVUZCTEVOQlFWQXNXVUZCZDBJc1RVRkJlRUlzU1VGQmEwTXNUVUZCVHl4RFFVRkJMRWxCUVVFc1EwRkJVQ3haUVVGM1FpeExRVUUzUkR0UlFVTkpMRTFCUVVFc1IwRkJVeXhUUVVGQkxFTkJRVlVzVFVGQlR5eERRVUZCTEVsQlFVRXNRMEZCYWtJc1JVRkJkMElzUjBGQmVFSXNSVUZCTmtJc1MwRkJOMEk3VVVGRFZDeEpRVUZITEUxQlFVZzdRVUZEU1N4blFrRkVTanRUUVVaS096dEJRVTVLTEV0QlVrbzdPMEZCYTBKQkxGTkJRVTg3UVVGd1FrTTdPMEZCYzBKYUxGVkJRVUVzUjBGQllTeFRRVUZETEUxQlFVUXNSVUZCVXl4SlFVRlVPMEZCUlZRc1RVRkJRVHRCUVVGQk8wOUJRVUVzWTBGQlFUdEpRVVZKTEVsQlFVY3NUVUZCVHl4RFFVRkJMRWxCUVVFc1EwRkJTeXhEUVVGRExHTkJRV0lzUTBGQk5FSXNVVUZCTlVJc1EwRkJTRHROUVVWSkxFMUJRVUVzUjBGQlV5eE5RVUZQTEVOQlFVRXNTVUZCUVN4RFFVRkxMRU5CUVVNN096dEJRVVYwUWp0aFFVRkJMSGREUVVGQk96dEJRVVZKTEdWQlFVRXNZVUZCUVR0WlFVTkpMRWxCUVVjc1MwRkJTeXhEUVVGRExFVkJRVTRzUzBGQldTeEpRVUZMTEVOQlFVRXNTMEZCUVN4RFFVRk5MRU5CUVVNc1UwRkJNMEk3WTBGRlNTeE5RVUZCTEVkQlFWTXNiVUpCUVVFc1EwRkJiMElzVFVGQlR5eERRVUZCTEVsQlFVRXNRMEZCTTBJN1kwRkRWQ3hKUVVGSExHTkJRVWc3WjBKQlEwa3NTVUZCU3l4RFFVRkJMRXRCUVVFc1EwRkJUU3hEUVVGRExFMUJRVm9zUjBGQmNVSTdaMEpCUTNKQ0xHbENRVUZCTEVkQlFXOUNPM2RDUVVGQkxFVkJRVUU3YzBKQlFVTXNSVUZCUVN4SFFVRkhMRTFCUVUwc1EwRkJReXhSUVVGVExFMUJRVThzUTBGQlFTeE5RVUZOTEVOQlFVTXNTVUZCVUN4RFFVRXpRanM3TzJkQ1FVVndRaXhWUVVGQkxFTkJRVmNzVDBGQldDeEZRVUZ2UWl4cFFrRkJjRUlzUlVGS1NqdGxRVWhLT3p0QlFVUktPM2RDUVZWQkxGVkJRVUVzUTBGQlZ5eE5RVUZZTEVWQlFXMUNMRWxCUVc1Q08wRkJXa283TzFsQlNrbzdTMEZCUVN4TlFVRkJPMjFDUVd0Q1N5eFZRVUZCTEVOQlFWY3NUVUZCVHl4RFFVRkJMRWxCUVVFc1EwRkJiRUlzUlVGQmVVSXNTVUZCZWtJc1IwRnNRa3c3TzBGQlJrbzdPMEZCUmxNN08wRkJlVUppTEUxQlFVRXNSMEZCVXpzN1FVRkZWQ3hOUVVGQkxFZEJRVk03TzBGQlJVZzdPenRGUVVOWExHVkJRVU1zVDBGQlJEdEJRVU5VTEZGQlFVRTdTVUZFVlN4SlFVRkRMRU5CUVVFc05FSkJRVVFzVlVGQlV6czdWVUZEV0N4RFFVRkRMRmxCUVdFN08wbEJRM1JDTEhWRFFVRk5MRWxCUVVNc1EwRkJRU3hQUVVGUU8wbEJRMEVzU1VGQlF5eERRVUZCTEZOQlFVUXNSMEZCWVN4SlFVRkRMRU5CUVVFc1QwRkJUeXhEUVVGRE8wVkJTR0k3T3pzN1IwRkVSenM3UVVGUGNFSTdRVUZCUVN4TFFVRkJMSE5EUVVGQk96dEZRVU5KTEUxQlFVOHNRMEZCUVN4TFFVRkxMRU5CUVVNc1NVRkJUaXhEUVVGUUxFZEJRWEZDTEVsQlFVa3NTMEZCU2l4RFFVTnFRanRKUVVGQkxFbEJRVUVzUlVGQlRTeExRVUZMTEVOQlFVTXNTVUZCV2p0SlFVTkJMRXRCUVVFc1JVRkJUeXhUUVVGQkxFZEJRVmtzUzBGQlN5eERRVUZETEVsQlFXeENMRWRCUVhsQ0xFMUJSR2hETzBsQlJVRXNVMEZCUVN4RlFVRlhMRXRCUVVzc1EwRkJReXhGUVVacVFqdEpRVWRCTEVOQlFVRXNSVUZCUnl4TFFVRkxMRU5CUVVNc1VVRkJVU3hEUVVGRExFTkJTR3hDTzBsQlNVRXNRMEZCUVN4RlFVRkhMRXRCUVVzc1EwRkJReXhSUVVGUkxFTkJRVU1zUTBGS2JFSTdTVUZMUVN4TFFVRkJMRVZCUVU4c1MwRkJTeXhEUVVGRExGRkJRVkVzUTBGQlF5eExRVXgwUWp0SlFVMUJMRTFCUVVFc1JVRkJVU3hMUVVGTExFTkJRVU1zVVVGQlVTeERRVUZETEUxQlRuWkNPMGRCUkdsQ08wRkJSSHBDT3p0QlFWZEJMRlZCUVVFc1EwRkJWeXhQUVVGWUxFVkJRVzlDTEUxQlFYQkNPenRCUVVWQkxFdEJRVUVzWlVGQlFUdEZRVVZKTEV0QlFVRXNSMEZCVVN4VFFVRkJMRU5CUVZVc1QwRkJWaXhGUVVGdFFpeFZRVUZ1UWl4RlFVRXJRaXhOUVVGUExFTkJRVUVzUzBGQlFTeERRVUZOTEVOQlFVTXNVMEZCTjBNN1JVRkhVaXhUUVVGQkxHdEVRVUZ0UXp0RlFVVnVReXhMUVVGQkxIbERRVUYzUWl4RFFVRkJMR2REUVVGQk8wVkJTM2hDTEZkQlFVRXNiMFZCUVhkRExFTkJRVVU3UlVGRE1VTXNTVUZCUnl4dFFrRkJTRHRCUVVWSkxGTkJRVUVzWjBKQlFVRTdUVUZEU1N4UlFVRkJMSEZFUVVGeFF6dE5RVU55UXl4VlFVRkJMSFZFUVVGNVF6dEJRVXQ2UXl4alFVRlBMRU5CUVZBN1FVRkJRU3hoUVVOVExFdEJSRlE3VlVGRlVTeEpRVUZITEd0Q1FVRklPMWxCUTBrc1RVRkJUeXhEUVVGQkxFdEJRVUVzUTBGQlRTeERRVUZETEVOQlFXUXNSMEZCYTBJc1MwRkJTeXhEUVVGRExFZEJRVTRzUTBGQlZTeFRRVUZUTEVOQlFVTXNUVUZCVml4SFFVRnRRaXhWUVVGdVFpeEhRVUZuUXl4UlFVRXhReXhGUVVSMFFqdFhRVUZCTEUxQlFVRTdXVUZIU1N4TFFVRkxMRU5CUVVNc1IwRkJUaXhEUVVGVkxGRkJRVllzUlVGSVNqczdRVUZFUXp0QlFVUlVMR0ZCVFZNc1VVRk9WRHRWUVU5UkxFbEJRVWNzYTBKQlFVZzdXVUZEU1N4TlFVRlBMRU5CUVVFc1MwRkJRU3hEUVVGTkxFTkJRVU1zUTBGQlpDeEhRVUZyUWl4TFFVRkxMRU5CUVVNc1RVRkJUaXhEUVVGaExFTkJRVU1zUTBGQlF5eFRRVUZUTEVOQlFVTXNUVUZCVml4SFFVRnRRaXhWUVVGd1FpeERRVUZFTEVkQlFXMURMRkZCUVdoRUxFVkJSSFJDTzFkQlFVRXNUVUZCUVR0WlFVZEpMRXRCUVVzc1EwRkJReXhOUVVGT0xFTkJRV0VzVVVGQllpeEZRVWhLT3p0QlFVUkRPMEZCVGxRc1lVRlhVeXhOUVZoVU8xVkJXVkVzU1VGQlJ5eHJRa0ZCU0R0WlFVTkpMRTFCUVU4c1EwRkJRU3hMUVVGQkxFTkJRVTBzUTBGQlF5eERRVUZrTEVkQlFXdENMRXRCUVVzc1EwRkJReXhKUVVGT0xFTkJRVmNzVTBGQlV5eERRVUZETEV0QlFWWXNSMEZCYTBJc1ZVRkJiRUlzUjBGQkswSXNVVUZCTVVNc1JVRkVkRUk3VjBGQlFTeE5RVUZCTzFsQlIwa3NTMEZCU3l4RFFVRkRMRWxCUVU0c1EwRkJWeXhSUVVGWUxFVkJTRW83TzBGQlJFTTdRVUZZVkN4aFFXZENVeXhQUVdoQ1ZEdFZRV2xDVVN4SlFVRkhMR3RDUVVGSU8xbEJRMGtzVFVGQlR5eERRVUZCTEV0QlFVRXNRMEZCVFN4RFFVRkRMRU5CUVdRc1IwRkJhMElzUzBGQlN5eERRVUZETEV0QlFVNHNRMEZCV1N4RFFVRkRMRU5CUVVNc1UwRkJVeXhEUVVGRExFdEJRVllzUjBGQmEwSXNWVUZCYmtJc1EwRkJSQ3hIUVVGblF5eFJRVUUxUXl4RlFVUjBRanRYUVVGQkxFMUJRVUU3V1VGSFNTeExRVUZMTEVOQlFVTXNTMEZCVGl4RFFVRlpMRU5CUVVNc1VVRkJZaXhGUVVoS096dEJRVVJETzBGQmFFSlVMR0ZCY1VKVExFOUJja0pVTzFWQmMwSlJMRWxCUVVjc2EwSkJRVWc3V1VGRFNTeE5RVUZQTEVOQlFVRXNTMEZCUVN4RFFVRk5MRU5CUVVNc1MwRkJaQ3hIUVVGelFpeFRRVUZUTEVOQlFVTXNTMEZCVml4SFFVRnJRanRaUVVONFF5eEpRVUZITEdkQ1FVRklPMk5CUTBrc1RVRkJUeXhEUVVGQkxFdEJRVUVzUTBGQlRTeERRVUZETEV0QlFXUXNTVUZCZFVJc1UwRkVNMEk3WVVGR1NqdFhRVUZCTEUxQlFVRTdXVUZMU1N4TlFVRlBMRU5CUVVFc1MwRkJRU3hEUVVGTkxFTkJRVU1zUzBGQlpDeEhRVUZ6UWl4VFFVRlRMRU5CUVVNc1MwRkJWaXhIUVVGclFpeFRRVXcxUXpzN1FVRkVRenRCUVhKQ1ZDeGhRVFJDVXl4UlFUVkNWRHRWUVRaQ1VTeEpRVUZITEd0Q1FVRklPMWxCUTBrc1RVRkJUeXhEUVVGQkxFdEJRVUVzUTBGQlRTeERRVUZETEUxQlFXUXNSMEZCZFVJc1UwRkJVeXhEUVVGRExFMUJRVllzUjBGQmJVSTdXVUZETVVNc1NVRkJSeXhuUWtGQlNEdGpRVU5KTEUxQlFVOHNRMEZCUVN4TFFVRkJMRU5CUVUwc1EwRkJReXhOUVVGa0xFbEJRWGRDTEZOQlJEVkNPMkZCUmtvN1YwRkJRU3hOUVVGQk8xbEJTMGtzVFVGQlR5eERRVUZCTEV0QlFVRXNRMEZCVFN4RFFVRkRMRXRCUVdRc1IwRkJjMElzVTBGQlV5eERRVUZETEV0QlFWWXNSMEZCYTBJc1UwRk1OVU03TzBGQlJFTTdRVUUxUWxRc1lVRnRRMU1zYjBKQmJrTlVPMVZCYlVOdFF5eE5RVUZQTEVOQlFVRXNTMEZCUVN4RFFVRk5MRU5CUVVNc1EwRkJaQ3hIUVVGclFpeExRVUZMTEVOQlFVTXNUVUZCVGl4RFFVRmhMRkZCUVdJN1FVRkJOVU03UVVGdVExUXNZVUZ2UTFNc2EwSkJjRU5VTzFWQmIwTnBReXhOUVVGUExFTkJRVUVzUzBGQlFTeERRVUZOTEVOQlFVTXNRMEZCWkN4SFFVRnJRaXhMUVVGTExFTkJRVU1zVFVGQlRpeERRVUZoTEZGQlFXSTdRVUZCTVVNN1FVRndRMVE3UVVGeFExTTdRVUZ5UTFRN1FVRlFTaXhMUVVaS096dEZRWEZFUVN4SlFVRkhMSEZFUVVGSU8wbEJRMGtzVTBGQlFTeHRRa0ZCV1N4TFFVRkxMRU5CUVVVN1NVRkRia0lzUzBGQlFTeEhRVUZSTEUxQlFVOHNRMEZCUVN4TFFVRkJMRU5CUVUwc1EwRkJRenRKUVVWMFFpeExRVUZMTEVOQlFVTXNUMEZCVGl4SFFVRm5RanRCUVVsb1FpeFpRVUZQTEZOQlFWTXNRMEZCUXl4SlFVRnFRanRCUVVGQkxGZEJRMU1zUTBGRVZEdFJRVVZSTEV0QlFVc3NRMEZCUXl4aFFVRk9MRWRCUVhOQ08wRkJSSEpDTzBGQlJGUXNWMEZIVXl4RFFVaFVPMUZCU1ZFc1MwRkJTeXhEUVVGRExHRkJRVTRzUjBGQmMwSTdRVUZFY2tJN1FVRklWRHRCUVV0VE8wRkJURlE3UVVGTlFTeFpRVUZQTEZOQlFWTXNRMEZCUXl4TFFVRnFRanRCUVVGQkxGZEJRMU1zUTBGRVZEdFJRVVZSTEV0QlFVc3NRMEZCUXl4VlFVRk9MRWRCUVcxQ08wRkJSR3hDTzBGQlJGUXNWMEZIVXl4RFFVaFVPMUZCU1ZFc1MwRkJTeXhEUVVGRExGVkJRVTRzUjBGQmJVSTdRVUZFYkVJN1FVRklWQ3hYUVV0VExFTkJURlE3VVVGTlVTeExRVUZMTEVOQlFVTXNWVUZCVGl4SFFVRnRRanRCUVVSc1FqdEJRVXhVTEZkQlQxTXNRMEZRVkR0UlFWRlJMRXRCUVVzc1EwRkJReXhWUVVGT0xFZEJRVzFDTzBGQlJHeENPMEZCVUZRN1FVRlRVenRCUVZSVU8wRkJWMEVzVlVGNlFrbzdPMEZCYkVWS096dEJRVFpHUVN4TlFVRlBMRU5CUVVFc1dVRkJRU3hEUVVGaExFTkJRVU1zUzBGQlN5eERRVUZETEZWQlFUTkNMRWRCUVhkRE96dEJRVVY0UXl4TFFVRkJMRU5CUVUwc1RVRkJUeXhEUVVGQkxGbEJRVUVzUTBGQllTeERRVUZETEV0QlFVc3NRMEZCUXl4UFFVRnFRenM3UVVGRFFTeExRVUZCTEVOQlFVMHNUVUZCVHl4RFFVRkJMRmxCUVVFc1EwRkJZU3hEUVVGRExFdEJRVXNzUTBGQlF5eGhRVUZxUXpzN1FVRkRRU3hMUVVGQkxFTkJRVTBzVFVGQlR5eERRVUZCTEZsQlFVRXNRMEZCWVN4RFFVRkRMRXRCUVVzc1EwRkJReXhWUVVGcVF5SjlcbiIsInZhciBfZmluZEFsbCwgX2dldEhpZXJhcmNoeSwgX21hdGNoO1xuXG5fZ2V0SGllcmFyY2h5ID0gZnVuY3Rpb24obGF5ZXIpIHtcbiAgdmFyIGEsIGksIGxlbiwgcmVmLCBzdHJpbmc7XG4gIHN0cmluZyA9ICcnO1xuICByZWYgPSBsYXllci5hbmNlc3RvcnMoKTtcbiAgZm9yIChpID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYSA9IHJlZltpXTtcbiAgICBzdHJpbmcgPSBhLm5hbWUgKyAnPicgKyBzdHJpbmc7XG4gIH1cbiAgcmV0dXJuIHN0cmluZyA9IHN0cmluZyArIGxheWVyLm5hbWU7XG59O1xuXG5fbWF0Y2ggPSBmdW5jdGlvbihoaWVyYXJjaHksIHN0cmluZykge1xuICB2YXIgcmVnRXhwLCByZWdleFN0cmluZztcbiAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoL1xccyo+XFxzKi9nLCAnPicpO1xuICBzdHJpbmcgPSBzdHJpbmcuc3BsaXQoJyonKS5qb2luKCdbXj5dKicpO1xuICBzdHJpbmcgPSBzdHJpbmcuc3BsaXQoJyAnKS5qb2luKCcoPzouKik+Jyk7XG4gIHN0cmluZyA9IHN0cmluZy5zcGxpdCgnLCcpLmpvaW4oJyR8Jyk7XG4gIHJlZ2V4U3RyaW5nID0gXCIoXnw+KVwiICsgc3RyaW5nICsgXCIkXCI7XG4gIHJlZ0V4cCA9IG5ldyBSZWdFeHAocmVnZXhTdHJpbmcpO1xuICByZXR1cm4gaGllcmFyY2h5Lm1hdGNoKHJlZ0V4cCk7XG59O1xuXG5fZmluZEFsbCA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBmcm9tTGF5ZXIpIHtcbiAgdmFyIGxheWVycywgc3RyaW5nTmVlZHNSZWdleDtcbiAgbGF5ZXJzID0gRnJhbWVyLkN1cnJlbnRDb250ZXh0Ll9sYXllcnM7XG4gIGlmIChzZWxlY3RvciAhPSBudWxsKSB7XG4gICAgc3RyaW5nTmVlZHNSZWdleCA9IF8uZmluZChbJyonLCAnICcsICc+JywgJywnXSwgZnVuY3Rpb24oYykge1xuICAgICAgcmV0dXJuIF8uaW5jbHVkZXMoc2VsZWN0b3IsIGMpO1xuICAgIH0pO1xuICAgIGlmICghKHN0cmluZ05lZWRzUmVnZXggfHwgZnJvbUxheWVyKSkge1xuICAgICAgcmV0dXJuIGxheWVycyA9IF8uZmlsdGVyKGxheWVycywgZnVuY3Rpb24obGF5ZXIpIHtcbiAgICAgICAgaWYgKGxheWVyLm5hbWUgPT09IHNlbGVjdG9yKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbGF5ZXJzID0gXy5maWx0ZXIobGF5ZXJzLCBmdW5jdGlvbihsYXllcikge1xuICAgICAgICB2YXIgaGllcmFyY2h5O1xuICAgICAgICBoaWVyYXJjaHkgPSBfZ2V0SGllcmFyY2h5KGxheWVyKTtcbiAgICAgICAgaWYgKGZyb21MYXllciAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIF9tYXRjaChoaWVyYXJjaHksIGZyb21MYXllci5uYW1lICsgJyAnICsgc2VsZWN0b3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBfbWF0Y2goaGllcmFyY2h5LCBzZWxlY3Rvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGF5ZXJzO1xuICB9XG59O1xuXG5leHBvcnRzLkZpbmQgPSBmdW5jdGlvbihzZWxlY3RvciwgZnJvbUxheWVyKSB7XG4gIHJldHVybiBfZmluZEFsbChzZWxlY3RvciwgZnJvbUxheWVyKVswXTtcbn07XG5cbmV4cG9ydHMuxpIgPSBmdW5jdGlvbihzZWxlY3RvciwgZnJvbUxheWVyKSB7XG4gIHJldHVybiBfZmluZEFsbChzZWxlY3RvciwgZnJvbUxheWVyKVswXTtcbn07XG5cbmV4cG9ydHMuRmluZEFsbCA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBmcm9tTGF5ZXIpIHtcbiAgcmV0dXJuIF9maW5kQWxsKHNlbGVjdG9yLCBmcm9tTGF5ZXIpO1xufTtcblxuZXhwb3J0cy7GksaSID0gZnVuY3Rpb24oc2VsZWN0b3IsIGZyb21MYXllcikge1xuICByZXR1cm4gX2ZpbmRBbGwoc2VsZWN0b3IsIGZyb21MYXllcik7XG59O1xuXG5MYXllci5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBmcm9tTGF5ZXIpIHtcbiAgcmV0dXJuIF9maW5kQWxsKHNlbGVjdG9yLCB0aGlzKVswXTtcbn07XG5cbkxheWVyLnByb3RvdHlwZS7GkiA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBmcm9tTGF5ZXIpIHtcbiAgcmV0dXJuIF9maW5kQWxsKHNlbGVjdG9yLCB0aGlzKVswXTtcbn07XG5cbkxheWVyLnByb3RvdHlwZS5maW5kQWxsID0gZnVuY3Rpb24oc2VsZWN0b3IsIGZyb21MYXllcikge1xuICByZXR1cm4gX2ZpbmRBbGwoc2VsZWN0b3IsIHRoaXMpO1xufTtcblxuTGF5ZXIucHJvdG90eXBlLsaSxpIgPSBmdW5jdGlvbihzZWxlY3RvciwgZnJvbUxheWVyKSB7XG4gIHJldHVybiBfZmluZEFsbChzZWxlY3RvciwgdGhpcyk7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lMMVZ6WlhKekwycGxabVp5WlhrdWFHRnljbWx6TDBSbGRtVnNiM0J0Wlc1MEwyWnlZVzFsY2kxemEyVjBZMmd0Wm1seVpXSmhjMlV0WW05cGJHVnljR3hoZEdVdmMzSmpMMjF2WkhWc1pYTXZabWx1WkUxdlpIVnNaUzVqYjJabVpXVWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGN5STZXeUl2VlhObGNuTXZhbVZtWm5KbGVTNW9ZWEp5YVhNdlJHVjJaV3h2Y0cxbGJuUXZabkpoYldWeUxYTnJaWFJqYUMxbWFYSmxZbUZ6WlMxaWIybHNaWEp3YkdGMFpTOXpjbU12Ylc5a2RXeGxjeTltYVc1a1RXOWtkV3hsTG1OdlptWmxaU0pkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lRVUZCUVN4SlFVRkJPenRCUVVGQkxHRkJRVUVzUjBGQlowSXNVMEZCUXl4TFFVRkVPMEZCUTJRc1RVRkJRVHRGUVVGQkxFMUJRVUVzUjBGQlV6dEJRVU5VTzBGQlFVRXNUMEZCUVN4eFEwRkJRVHM3U1VGRFJTeE5RVUZCTEVkQlFWTXNRMEZCUXl4RFFVRkRMRWxCUVVZc1IwRkJUeXhIUVVGUUxFZEJRVmM3UVVGRWRFSTdRVUZGUVN4VFFVRlBMRTFCUVVFc1IwRkJVeXhOUVVGQkxFZEJRVThzUzBGQlN5eERRVUZETzBGQlNtWTdPMEZCVFdoQ0xFMUJRVUVzUjBGQlV5eFRRVUZETEZOQlFVUXNSVUZCV1N4TlFVRmFPMEZCUlZBc1RVRkJRVHRGUVVGQkxFMUJRVUVzUjBGQlV5eE5RVUZOTEVOQlFVTXNUMEZCVUN4RFFVRmxMRlZCUVdZc1JVRkJNRUlzUjBGQk1VSTdSVUZEVkN4TlFVRkJMRWRCUVZNc1RVRkJUU3hEUVVGRExFdEJRVkFzUTBGQllTeEhRVUZpTEVOQlFXbENMRU5CUVVNc1NVRkJiRUlzUTBGQmRVSXNUMEZCZGtJN1JVRkRWQ3hOUVVGQkxFZEJRVk1zVFVGQlRTeERRVUZETEV0QlFWQXNRMEZCWVN4SFFVRmlMRU5CUVdsQ0xFTkJRVU1zU1VGQmJFSXNRMEZCZFVJc1UwRkJka0k3UlVGRFZDeE5RVUZCTEVkQlFWTXNUVUZCVFN4RFFVRkRMRXRCUVZBc1EwRkJZU3hIUVVGaUxFTkJRV2xDTEVOQlFVTXNTVUZCYkVJc1EwRkJkVUlzU1VGQmRrSTdSVUZEVkN4WFFVRkJMRWRCUVdNc1QwRkJRU3hIUVVGUkxFMUJRVklzUjBGQlpUdEZRVVUzUWl4TlFVRkJMRWRCUVZNc1NVRkJTU3hOUVVGS0xFTkJRVmNzVjBGQldEdEJRVU5VTEZOQlFVOHNVMEZCVXl4RFFVRkRMRXRCUVZZc1EwRkJaMElzVFVGQmFFSTdRVUZVUVRzN1FVRlhWQ3hSUVVGQkxFZEJRVmNzVTBGQlF5eFJRVUZFTEVWQlFWY3NVMEZCV0R0QlFVTlVMRTFCUVVFN1JVRkJRU3hOUVVGQkxFZEJRVk1zVFVGQlRTeERRVUZETEdOQlFXTXNRMEZCUXp0RlFVVXZRaXhKUVVGSExHZENRVUZJTzBsQlEwVXNaMEpCUVVFc1IwRkJiVUlzUTBGQlF5eERRVUZETEVsQlFVWXNRMEZCVHl4RFFVRkRMRWRCUVVRc1JVRkJTeXhIUVVGTUxFVkJRVk1zUjBGQlZDeEZRVUZoTEVkQlFXSXNRMEZCVUN4RlFVRXdRaXhUUVVGRExFTkJRVVE3WVVGQlR5eERRVUZETEVOQlFVTXNVVUZCUml4RFFVRlhMRkZCUVZnc1JVRkJiMElzUTBGQmNFSTdTVUZCVUN4RFFVRXhRanRKUVVOdVFpeEpRVUZCTEVOQlFVRXNRMEZCVHl4blFrRkJRU3hKUVVGdlFpeFRRVUV6UWl4RFFVRkJPMkZCUTBVc1RVRkJRU3hIUVVGVExFTkJRVU1zUTBGQlF5eE5RVUZHTEVOQlFWTXNUVUZCVkN4RlFVRnBRaXhUUVVGRExFdEJRVVE3VVVGRGVFSXNTVUZCUnl4TFFVRkxMRU5CUVVNc1NVRkJUaXhMUVVGakxGRkJRV3BDTzJsQ1FVRXJRaXhMUVVFdlFqczdUVUZFZDBJc1EwRkJha0lzUlVGRVdEdExRVUZCTEUxQlFVRTdZVUZKUlN4TlFVRkJMRWRCUVZNc1EwRkJReXhEUVVGRExFMUJRVVlzUTBGQlV5eE5RVUZVTEVWQlFXbENMRk5CUVVNc1MwRkJSRHRCUVVOMFFpeFpRVUZCTzFGQlFVRXNVMEZCUVN4SFFVRlpMR0ZCUVVFc1EwRkJZeXhMUVVGa08xRkJRMW9zU1VGQlJ5eHBRa0ZCU0R0cFFrRkRSU3hOUVVGQkxFTkJRVThzVTBGQlVDeEZRVUZyUWl4VFFVRlRMRU5CUVVNc1NVRkJWaXhIUVVGbExFZEJRV1lzUjBGQmJVSXNVVUZCY2tNc1JVRkVSanRUUVVGQkxFMUJRVUU3YVVKQlIwVXNUVUZCUVN4RFFVRlBMRk5CUVZBc1JVRkJhMElzVVVGQmJFSXNSVUZJUmpzN1RVRkdjMElzUTBGQmFrSXNSVUZLV0R0TFFVWkdPMGRCUVVFc1RVRkJRVHRYUVdGRkxFOUJZa1k3TzBGQlNGTTdPMEZCYjBKWUxFOUJRVThzUTBGQlF5eEpRVUZTTEVkQlFXdENMRk5CUVVNc1VVRkJSQ3hGUVVGWExGTkJRVmc3VTBGQmVVSXNVVUZCUVN4RFFVRlRMRkZCUVZRc1JVRkJiVUlzVTBGQmJrSXNRMEZCT0VJc1EwRkJRU3hEUVVGQk8wRkJRWFpFT3p0QlFVTnNRaXhQUVVGUExFTkJRVU1zUTBGQlVpeEhRVUZyUWl4VFFVRkRMRkZCUVVRc1JVRkJWeXhUUVVGWU8xTkJRWGxDTEZGQlFVRXNRMEZCVXl4UlFVRlVMRVZCUVcxQ0xGTkJRVzVDTEVOQlFUaENMRU5CUVVFc1EwRkJRVHRCUVVGMlJEczdRVUZGYkVJc1QwRkJUeXhEUVVGRExFOUJRVklzUjBGQmEwSXNVMEZCUXl4UlFVRkVMRVZCUVZjc1UwRkJXRHRUUVVGNVFpeFJRVUZCTEVOQlFWTXNVVUZCVkN4RlFVRnRRaXhUUVVGdVFqdEJRVUY2UWpzN1FVRkRiRUlzVDBGQlR5eERRVUZETEVWQlFWSXNSMEZCYTBJc1UwRkJReXhSUVVGRUxFVkJRVmNzVTBGQldEdFRRVUY1UWl4UlFVRkJMRU5CUVZNc1VVRkJWQ3hGUVVGdFFpeFRRVUZ1UWp0QlFVRjZRanM3UVVGSGJFSXNTMEZCU3l4RFFVRkJMRk5CUVVVc1EwRkJRU3hKUVVGUUxFZEJRV3RDTEZOQlFVTXNVVUZCUkN4RlFVRlhMRk5CUVZnN1UwRkJlVUlzVVVGQlFTeERRVUZUTEZGQlFWUXNSVUZCYlVJc1NVRkJia0lzUTBGQmMwSXNRMEZCUVN4RFFVRkJPMEZCUVM5RE96dEJRVU5zUWl4TFFVRkxMRU5CUVVFc1UwRkJSU3hEUVVGQkxFTkJRVkFzUjBGQmEwSXNVMEZCUXl4UlFVRkVMRVZCUVZjc1UwRkJXRHRUUVVGNVFpeFJRVUZCTEVOQlFWTXNVVUZCVkN4RlFVRnRRaXhKUVVGdVFpeERRVUZ6UWl4RFFVRkJMRU5CUVVFN1FVRkJMME03TzBGQlJXeENMRXRCUVVzc1EwRkJRU3hUUVVGRkxFTkJRVUVzVDBGQlVDeEhRVUZyUWl4VFFVRkRMRkZCUVVRc1JVRkJWeXhUUVVGWU8xTkJRWGxDTEZGQlFVRXNRMEZCVXl4UlFVRlVMRVZCUVcxQ0xFbEJRVzVDTzBGQlFYcENPenRCUVVOc1FpeExRVUZMTEVOQlFVRXNVMEZCUlN4RFFVRkJMRVZCUVZBc1IwRkJhMElzVTBGQlF5eFJRVUZFTEVWQlFWY3NVMEZCV0R0VFFVRjVRaXhSUVVGQkxFTkJRVk1zVVVGQlZDeEZRVUZ0UWl4SlFVRnVRanRCUVVGNlFpSjlcbiIsInZhciBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuZXhwb3J0cy5GaXJlYmFzZUZyYW1lciA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIHZhciBnZXRDT1JTdXJsLCByZXF1ZXN0O1xuXG4gIGV4dGVuZChGaXJlYmFzZUZyYW1lciwgc3VwZXJDbGFzcyk7XG5cbiAgZ2V0Q09SU3VybCA9IGZ1bmN0aW9uKHNlcnZlciwgcGF0aCwgc2VjcmV0LCBwcm9qZWN0KSB7XG4gICAgdmFyIHVybDtcbiAgICBzd2l0Y2ggKFV0aWxzLmlzV2ViS2l0KCkpIHtcbiAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgdXJsID0gXCJodHRwczovL1wiICsgc2VydmVyICsgcGF0aCArIFwiLmpzb24/YXV0aD1cIiArIHNlY3JldCArIFwiJm5zPVwiICsgcHJvamVjdCArIFwiJnNzZT10cnVlXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdXJsID0gXCJodHRwczovL1wiICsgcHJvamVjdCArIFwiLmZpcmViYXNlaW8uY29tXCIgKyBwYXRoICsgXCIuanNvbj9hdXRoPVwiICsgc2VjcmV0O1xuICAgIH1cbiAgICByZXR1cm4gdXJsO1xuICB9O1xuXG4gIEZpcmViYXNlRnJhbWVyLmRlZmluZShcInN0YXR1c1wiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0dXM7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBGaXJlYmFzZUZyYW1lcihvcHRpb25zKSB7XG4gICAgdmFyIGJhc2UsIGJhc2UxLCBiYXNlMiwgYmFzZTM7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucyA6IHt9O1xuICAgIHRoaXMucHJvamVjdElEID0gKGJhc2UgPSB0aGlzLm9wdGlvbnMpLnByb2plY3RJRCAhPSBudWxsID8gYmFzZS5wcm9qZWN0SUQgOiBiYXNlLnByb2plY3RJRCA9IG51bGw7XG4gICAgdGhpcy5zZWNyZXQgPSAoYmFzZTEgPSB0aGlzLm9wdGlvbnMpLnNlY3JldCAhPSBudWxsID8gYmFzZTEuc2VjcmV0IDogYmFzZTEuc2VjcmV0ID0gbnVsbDtcbiAgICB0aGlzLnNlcnZlciA9IChiYXNlMiA9IHRoaXMub3B0aW9ucykuc2VydmVyICE9IG51bGwgPyBiYXNlMi5zZXJ2ZXIgOiBiYXNlMi5zZXJ2ZXIgPSB2b2lkIDA7XG4gICAgdGhpcy5kZWJ1ZyA9IChiYXNlMyA9IHRoaXMub3B0aW9ucykuZGVidWcgIT0gbnVsbCA/IGJhc2UzLmRlYnVnIDogYmFzZTMuZGVidWcgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5fc3RhdHVzID09IG51bGwpIHtcbiAgICAgIHRoaXMuX3N0YXR1cyA9IFwiZGlzY29ubmVjdGVkXCI7XG4gICAgfVxuICAgIEZpcmViYXNlRnJhbWVyLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmICh0aGlzLnNlcnZlciA9PT0gdm9pZCAwKSB7XG4gICAgICBVdGlscy5kb21Mb2FkSlNPTihcImh0dHBzOi8vXCIgKyB0aGlzLnByb2plY3RJRCArIFwiLmZpcmViYXNlaW8uY29tLy5zZXR0aW5ncy9vd25lci5qc29uXCIsIGZ1bmN0aW9uKGEsIHNlcnZlcikge1xuICAgICAgICB2YXIgbXNnO1xuICAgICAgICBwcmludChtc2cgPSBcIkFkZCBfX19fX18gc2VydmVyOlwiICsgJyAgIFwiJyArIHNlcnZlciArICdcIicgKyBcIiBfX19fXyB0byB5b3VyIGluc3RhbmNlIG9mIEZpcmViYXNlLlwiKTtcbiAgICAgICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coXCJGaXJlYmFzZTogXCIgKyBtc2cpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRmlyZWJhc2U6IENvbm5lY3RpbmcgdG8gRmlyZWJhc2UgUHJvamVjdCAnXCIgKyB0aGlzLnByb2plY3RJRCArIFwiJyAuLi4gXFxuIFVSTDogJ1wiICsgKGdldENPUlN1cmwodGhpcy5zZXJ2ZXIsIFwiL1wiLCB0aGlzLnNlY3JldCwgdGhpcy5wcm9qZWN0SUQpKSArIFwiJ1wiKTtcbiAgICB9XG4gICAgdGhpcy5vbkNoYW5nZShcImNvbm5lY3Rpb25cIik7XG4gIH1cblxuICByZXF1ZXN0ID0gZnVuY3Rpb24ocHJvamVjdCwgc2VjcmV0LCBwYXRoLCBjYWxsYmFjaywgbWV0aG9kLCBkYXRhLCBwYXJhbWV0ZXJzLCBkZWJ1Zykge1xuICAgIHZhciB1cmwsIHhodHRwO1xuICAgIHVybCA9IFwiaHR0cHM6Ly9cIiArIHByb2plY3QgKyBcIi5maXJlYmFzZWlvLmNvbVwiICsgcGF0aCArIFwiLmpzb24/YXV0aD1cIiArIHNlY3JldDtcbiAgICBpZiAocGFyYW1ldGVycyAhPT0gdm9pZCAwKSB7XG4gICAgICBpZiAocGFyYW1ldGVycy5zaGFsbG93KSB7XG4gICAgICAgIHVybCArPSBcIiZzaGFsbG93PXRydWVcIjtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbWV0ZXJzLmZvcm1hdCA9PT0gXCJleHBvcnRcIikge1xuICAgICAgICB1cmwgKz0gXCImZm9ybWF0PWV4cG9ydFwiO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChwYXJhbWV0ZXJzLnByaW50KSB7XG4gICAgICAgIGNhc2UgXCJwcmV0dHlcIjpcbiAgICAgICAgICB1cmwgKz0gXCImcHJpbnQ9cHJldHR5XCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzaWxlbnRcIjpcbiAgICAgICAgICB1cmwgKz0gXCImcHJpbnQ9c2lsZW50XCI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhcmFtZXRlcnMuZG93bmxvYWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdXJsICs9IFwiJmRvd25sb2FkPVwiICsgcGFyYW1ldGVycy5kb3dubG9hZDtcbiAgICAgICAgd2luZG93Lm9wZW4odXJsLCBcIl9zZWxmXCIpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYXJhbWV0ZXJzLm9yZGVyQnkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdXJsICs9IFwiJm9yZGVyQnk9XCIgKyAnXCInICsgcGFyYW1ldGVycy5vcmRlckJ5ICsgJ1wiJztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcGFyYW1ldGVycy5saW1pdFRvRmlyc3QgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdXJsICs9IFwiJmxpbWl0VG9GaXJzdD1cIiArIHBhcmFtZXRlcnMubGltaXRUb0ZpcnN0O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYXJhbWV0ZXJzLmxpbWl0VG9MYXN0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHVybCArPSBcIiZsaW1pdFRvTGFzdD1cIiArIHBhcmFtZXRlcnMubGltaXRUb0xhc3Q7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhcmFtZXRlcnMuc3RhcnRBdCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICB1cmwgKz0gXCImc3RhcnRBdD1cIiArIHBhcmFtZXRlcnMuc3RhcnRBdDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcGFyYW1ldGVycy5lbmRBdCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICB1cmwgKz0gXCImZW5kQXQ9XCIgKyBwYXJhbWV0ZXJzLmVuZEF0O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYXJhbWV0ZXJzLmVxdWFsVG8gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdXJsICs9IFwiJmVxdWFsVG89XCIgKyBwYXJhbWV0ZXJzLmVxdWFsVG87XG4gICAgICB9XG4gICAgfVxuICAgIHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0O1xuICAgIGlmIChkZWJ1Zykge1xuICAgICAgY29uc29sZS5sb2coXCJGaXJlYmFzZTogTmV3ICdcIiArIG1ldGhvZCArIFwiJy1yZXF1ZXN0IHdpdGggZGF0YTogJ1wiICsgKEpTT04uc3RyaW5naWZ5KGRhdGEpKSArIFwiJyBcXG4gVVJMOiAnXCIgKyB1cmwgKyBcIidcIik7XG4gICAgfVxuICAgIHhodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocGFyYW1ldGVycyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgaWYgKHBhcmFtZXRlcnMucHJpbnQgPT09IFwic2lsZW50XCIgfHwgdHlwZW9mIHBhcmFtZXRlcnMuZG93bmxvYWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh4aHR0cC5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmlyZWJhc2U6IFJlcXVlc3Qgbm90IGluaXRpYWxpemVkIFxcbiBVUkw6ICdcIiArIHVybCArIFwiJ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpcmViYXNlOiBTZXJ2ZXIgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCBcXG4gVVJMOiAnXCIgKyB1cmwgKyBcIidcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaXJlYmFzZTogUmVxdWVzdCByZWNlaXZlZCBcXG4gVVJMOiAnXCIgKyB1cmwgKyBcIidcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaXJlYmFzZTogUHJvY2Vzc2luZyByZXF1ZXN0IFxcbiBVUkw6ICdcIiArIHVybCArIFwiJ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKEpTT04ucGFyc2UoeGh0dHAucmVzcG9uc2VUZXh0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaXJlYmFzZTogUmVxdWVzdCBmaW5pc2hlZCwgcmVzcG9uc2U6ICdcIiArIChKU09OLnBhcnNlKHhodHRwLnJlc3BvbnNlVGV4dCkpICsgXCInIFxcbiBVUkw6ICdcIiArIHVybCArIFwiJ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoeGh0dHAuc3RhdHVzID09PSBcIjQwNFwiKSB7XG4gICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uc29sZS53YXJuKFwiRmlyZWJhc2U6IEludmFsaWQgcmVxdWVzdCwgcGFnZSBub3QgZm91bmQgXFxuIFVSTDogJ1wiICsgdXJsICsgXCInXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSh0aGlzKTtcbiAgICB4aHR0cC5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcbiAgICB4aHR0cC5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiKTtcbiAgICByZXR1cm4geGh0dHAuc2VuZChkYXRhID0gXCJcIiArIChKU09OLnN0cmluZ2lmeShkYXRhKSkpO1xuICB9O1xuXG4gIEZpcmViYXNlRnJhbWVyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihwYXRoLCBjYWxsYmFjaywgcGFyYW1ldGVycykge1xuICAgIHJldHVybiByZXF1ZXN0KHRoaXMucHJvamVjdElELCB0aGlzLnNlY3JldCwgcGF0aCwgY2FsbGJhY2ssIFwiR0VUXCIsIG51bGwsIHBhcmFtZXRlcnMsIHRoaXMuZGVidWcpO1xuICB9O1xuXG4gIEZpcmViYXNlRnJhbWVyLnByb3RvdHlwZS5wdXQgPSBmdW5jdGlvbihwYXRoLCBkYXRhLCBjYWxsYmFjaywgcGFyYW1ldGVycykge1xuICAgIHJldHVybiByZXF1ZXN0KHRoaXMucHJvamVjdElELCB0aGlzLnNlY3JldCwgcGF0aCwgY2FsbGJhY2ssIFwiUFVUXCIsIGRhdGEsIHBhcmFtZXRlcnMsIHRoaXMuZGVidWcpO1xuICB9O1xuXG4gIEZpcmViYXNlRnJhbWVyLnByb3RvdHlwZS5wb3N0ID0gZnVuY3Rpb24ocGF0aCwgZGF0YSwgY2FsbGJhY2ssIHBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gcmVxdWVzdCh0aGlzLnByb2plY3RJRCwgdGhpcy5zZWNyZXQsIHBhdGgsIGNhbGxiYWNrLCBcIlBPU1RcIiwgZGF0YSwgcGFyYW1ldGVycywgdGhpcy5kZWJ1Zyk7XG4gIH07XG5cbiAgRmlyZWJhc2VGcmFtZXIucHJvdG90eXBlLnBhdGNoID0gZnVuY3Rpb24ocGF0aCwgZGF0YSwgY2FsbGJhY2ssIHBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gcmVxdWVzdCh0aGlzLnByb2plY3RJRCwgdGhpcy5zZWNyZXQsIHBhdGgsIGNhbGxiYWNrLCBcIlBBVENIXCIsIGRhdGEsIHBhcmFtZXRlcnMsIHRoaXMuZGVidWcpO1xuICB9O1xuXG4gIEZpcmViYXNlRnJhbWVyLnByb3RvdHlwZVtcImRlbGV0ZVwiXSA9IGZ1bmN0aW9uKHBhdGgsIGNhbGxiYWNrLCBwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIHJlcXVlc3QodGhpcy5wcm9qZWN0SUQsIHRoaXMuc2VjcmV0LCBwYXRoLCBjYWxsYmFjaywgXCJERUxFVEVcIiwgbnVsbCwgcGFyYW1ldGVycywgdGhpcy5kZWJ1Zyk7XG4gIH07XG5cbiAgRmlyZWJhc2VGcmFtZXIucHJvdG90eXBlLm9uQ2hhbmdlID0gZnVuY3Rpb24ocGF0aCwgY2FsbGJhY2spIHtcbiAgICB2YXIgY3VycmVudFN0YXR1cywgc291cmNlLCB1cmw7XG4gICAgaWYgKHBhdGggPT09IFwiY29ubmVjdGlvblwiKSB7XG4gICAgICB1cmwgPSBnZXRDT1JTdXJsKHRoaXMuc2VydmVyLCBcIi9cIiwgdGhpcy5zZWNyZXQsIHRoaXMucHJvamVjdElEKTtcbiAgICAgIGN1cnJlbnRTdGF0dXMgPSBcImRpc2Nvbm5lY3RlZFwiO1xuICAgICAgc291cmNlID0gbmV3IEV2ZW50U291cmNlKHVybCk7XG4gICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIiwgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoY3VycmVudFN0YXR1cyA9PT0gXCJkaXNjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgX3RoaXMuX3N0YXR1cyA9IFwiY29ubmVjdGVkXCI7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjYWxsYmFjayhcImNvbm5lY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5kZWJ1Zykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpcmViYXNlOiBDb25uZWN0aW9uIHRvIEZpcmViYXNlIFByb2plY3QgJ1wiICsgX3RoaXMucHJvamVjdElEICsgXCInIGVzdGFibGlzaGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY3VycmVudFN0YXR1cyA9IFwiY29ubmVjdGVkXCI7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICByZXR1cm4gc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChjdXJyZW50U3RhdHVzID09PSBcImNvbm5lY3RlZFwiKSB7XG4gICAgICAgICAgICBfdGhpcy5fc3RhdHVzID0gXCJkaXNjb25uZWN0ZWRcIjtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKFwiZGlzY29ubmVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLmRlYnVnKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZpcmViYXNlOiBDb25uZWN0aW9uIHRvIEZpcmViYXNlIFByb2plY3QgJ1wiICsgX3RoaXMucHJvamVjdElEICsgXCInIGNsb3NlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRTdGF0dXMgPSBcImRpc2Nvbm5lY3RlZFwiO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cmwgPSBnZXRDT1JTdXJsKHRoaXMuc2VydmVyLCBwYXRoLCB0aGlzLnNlY3JldCwgdGhpcy5wcm9qZWN0SUQpO1xuICAgICAgc291cmNlID0gbmV3IEV2ZW50U291cmNlKHVybCk7XG4gICAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkZpcmViYXNlOiBMaXN0ZW5pbmcgdG8gY2hhbmdlcyBtYWRlIHRvICdcIiArIHBhdGggKyBcIicgXFxuIFVSTDogJ1wiICsgdXJsICsgXCInXCIpO1xuICAgICAgfVxuICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJwdXRcIiwgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldikge1xuICAgICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhKU09OLnBhcnNlKGV2LmRhdGEpLmRhdGEsIFwicHV0XCIsIEpTT04ucGFyc2UoZXYuZGF0YSkucGF0Y2gpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoX3RoaXMuZGVidWcpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhcIkZpcmViYXNlOiBSZWNlaXZlZCBjaGFuZ2VzIG1hZGUgdG8gJ1wiICsgcGF0aCArIFwiJyB2aWEgJ1BVVCc6IFwiICsgKEpTT04ucGFyc2UoZXYuZGF0YSkuZGF0YSkgKyBcIiBcXG4gVVJMOiAnXCIgKyB1cmwgKyBcIidcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgcmV0dXJuIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwicGF0Y2hcIiwgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldikge1xuICAgICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhKU09OLnBhcnNlKGV2LmRhdGEpLmRhdGEsIFwicGF0Y2hcIiwgSlNPTi5wYXJzZShldi5kYXRhKS5wYXRjaCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChfdGhpcy5kZWJ1Zykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKFwiRmlyZWJhc2U6IFJlY2VpdmVkIGNoYW5nZXMgbWFkZSB0byAnXCIgKyBwYXRoICsgXCInIHZpYSAnUEFUQ0gnOiBcIiArIChKU09OLnBhcnNlKGV2LmRhdGEpLmRhdGEpICsgXCIgXFxuIFVSTDogJ1wiICsgdXJsICsgXCInXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIEZpcmViYXNlRnJhbWVyO1xuXG59KShGcmFtZXIuQmFzZUNsYXNzKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pTDFWelpYSnpMMnBsWm1aeVpYa3VhR0Z5Y21sekwwUmxkbVZzYjNCdFpXNTBMMlp5WVcxbGNpMXphMlYwWTJndFptbHlaV0poYzJVdFltOXBiR1Z5Y0d4aGRHVXZjM0pqTDIxdlpIVnNaWE12Wm1seVpXSmhjMlZtY21GdFpYSXVZMjltWm1WbElpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhNaU9sc2lMMVZ6WlhKekwycGxabVp5WlhrdWFHRnljbWx6TDBSbGRtVnNiM0J0Wlc1MEwyWnlZVzFsY2kxemEyVjBZMmd0Wm1seVpXSmhjMlV0WW05cGJHVnljR3hoZEdVdmMzSmpMMjF2WkhWc1pYTXZabWx5WldKaGMyVm1jbUZ0WlhJdVkyOW1abVZsSWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUpCUVdsQ1FTeEpRVUZCT3pzN1FVRkJUU3hQUVVGUExFTkJRVU03UVVGSllpeE5RVUZCT3pzN08wVkJRVUVzVlVGQlFTeEhRVUZoTEZOQlFVTXNUVUZCUkN4RlFVRlRMRWxCUVZRc1JVRkJaU3hOUVVGbUxFVkJRWFZDTEU5QlFYWkNPMEZCUlZvc1VVRkJRVHRCUVVGQkxGbEJRVThzUzBGQlN5eERRVUZETEZGQlFVNHNRMEZCUVN4RFFVRlFPMEZCUVVFc1YwRkRUU3hKUVVST08xRkJRMmRDTEVkQlFVRXNSMEZCVFN4VlFVRkJMRWRCUVZjc1RVRkJXQ3hIUVVGdlFpeEpRVUZ3UWl4SFFVRjVRaXhoUVVGNlFpeEhRVUZ6UXl4TlFVRjBReXhIUVVFMlF5eE5RVUUzUXl4SFFVRnRSQ3hQUVVGdVJDeEhRVUV5UkR0QlFVRXpSVHRCUVVST08xRkJSV2RDTEVkQlFVRXNSMEZCVFN4VlFVRkJMRWRCUVZjc1QwRkJXQ3hIUVVGdFFpeHBRa0ZCYmtJc1IwRkJiME1zU1VGQmNFTXNSMEZCZVVNc1lVRkJla01zUjBGQmMwUTdRVUZHTlVVN1FVRkpRU3hYUVVGUE8wVkJUa3M3TzBWQlUySXNZMEZCUXl4RFFVRkRMRTFCUVVZc1EwRkJVeXhSUVVGVUxFVkJRME03U1VGQlFTeEhRVUZCTEVWQlFVc3NVMEZCUVR0aFFVRkhMRWxCUVVNc1EwRkJRVHRKUVVGS0xFTkJRVXc3UjBGRVJEczdSVUZIWVN4M1FrRkJReXhQUVVGRU8wRkJRMW9zVVVGQlFUdEpRVVJoTEVsQlFVTXNRMEZCUVN3MFFrRkJSQ3hWUVVGVE8wbEJRM1JDTEVsQlFVTXNRMEZCUVN4VFFVRkVMR2xFUVVGeFFpeERRVUZETEdkQ1FVRkVMRU5CUVVNc1dVRkJZVHRKUVVOdVF5eEpRVUZETEVOQlFVRXNUVUZCUkN4blJFRkJjVUlzUTBGQlF5eGpRVUZFTEVOQlFVTXNVMEZCWVR0SlFVTnVReXhKUVVGRExFTkJRVUVzVFVGQlJDeG5SRUZCY1VJc1EwRkJReXhqUVVGRUxFTkJRVU1zVTBGQllUdEpRVU51UXl4SlFVRkRMRU5CUVVFc1MwRkJSQ3dyUTBGQmNVSXNRMEZCUXl4aFFVRkVMRU5CUVVNc1VVRkJZVHM3VFVGRGJrTXNTVUZCUXl4RFFVRkJMRlZCUVd0RE96dEpRVU51UXl4cFJFRkJRU3hUUVVGQk8wbEJSMEVzU1VGQlJ5eEpRVUZETEVOQlFVRXNUVUZCUkN4TFFVRlhMRTFCUVdRN1RVRkRReXhMUVVGTExFTkJRVU1zVjBGQlRpeERRVUZyUWl4VlFVRkJMRWRCUVZjc1NVRkJReXhEUVVGQkxGTkJRVm9zUjBGQmMwSXNjME5CUVhoRExFVkJRU3RGTEZOQlFVTXNRMEZCUkN4RlFVRkhMRTFCUVVnN1FVRkRPVVVzV1VGQlFUdFJRVUZCTEV0QlFVRXNRMEZCVFN4SFFVRkJMRWRCUVUwc2IwSkJRVUVzUjBGQmRVSXNUVUZCZGtJc1IwRkJaME1zVFVGQmFFTXNSMEZCZVVNc1IwRkJla01zUjBGQkswTXNjME5CUVRORU8xRkJRMEVzU1VGQmEwTXNTVUZCUXl4RFFVRkJMRXRCUVc1RE8ybENRVUZCTEU5QlFVOHNRMEZCUXl4SFFVRlNMRU5CUVZrc1dVRkJRU3hIUVVGaExFZEJRWHBDTEVWQlFVRTdPMDFCUmpoRkxFTkJRUzlGTEVWQlJFUTdPMGxCVFVFc1NVRkJlVWtzU1VGQlF5eERRVUZCTEV0QlFURkpPMDFCUVVFc1QwRkJUeXhEUVVGRExFZEJRVklzUTBGQldTdzBRMEZCUVN4SFFVRTJReXhKUVVGRExFTkJRVUVzVTBGQk9VTXNSMEZCZDBRc2FVSkJRWGhFTEVkQlFYZEZMRU5CUVVNc1ZVRkJRU3hEUVVGWExFbEJRVU1zUTBGQlFTeE5RVUZhTEVWQlFXOUNMRWRCUVhCQ0xFVkJRWGxDTEVsQlFVTXNRMEZCUVN4TlFVRXhRaXhGUVVGclF5eEpRVUZETEVOQlFVRXNVMEZCYmtNc1EwRkJSQ3hEUVVGNFJTeEhRVUYxU0N4SFFVRnVTU3hGUVVGQk96dEpRVU5CTEVsQlFVTXNRMEZCUXl4UlFVRkdMRU5CUVZjc1dVRkJXRHRGUVdoQ1dUczdSVUZ0UW1Jc1QwRkJRU3hIUVVGVkxGTkJRVU1zVDBGQlJDeEZRVUZWTEUxQlFWWXNSVUZCYTBJc1NVRkJiRUlzUlVGQmQwSXNVVUZCZUVJc1JVRkJhME1zVFVGQmJFTXNSVUZCTUVNc1NVRkJNVU1zUlVGQlowUXNWVUZCYUVRc1JVRkJORVFzUzBGQk5VUTdRVUZGVkN4UlFVRkJPMGxCUVVFc1IwRkJRU3hIUVVGTkxGVkJRVUVzUjBGQlZ5eFBRVUZZTEVkQlFXMUNMR2xDUVVGdVFpeEhRVUZ2UXl4SlFVRndReXhIUVVGNVF5eGhRVUY2UXl4SFFVRnpSRHRKUVVjMVJDeEpRVUZQTEZWQlFVRXNTMEZCWXl4TlFVRnlRanROUVVORExFbEJRVWNzVlVGQlZTeERRVUZETEU5QlFXUTdVVUZCYzBNc1IwRkJRU3hKUVVGUExHZENRVUUzUXpzN1RVRkRRU3hKUVVGSExGVkJRVlVzUTBGQlF5eE5RVUZZTEV0QlFYRkNMRkZCUVhoQ08xRkJRWE5ETEVkQlFVRXNTVUZCVHl4cFFrRkJOME03TzBGQlJVRXNZMEZCVHl4VlFVRlZMRU5CUVVNc1MwRkJiRUk3UVVGQlFTeGhRVU5OTEZGQlJFNDdWVUZEYjBJc1IwRkJRU3hKUVVGUE8wRkJRWEpDTzBGQlJFNHNZVUZGVFN4UlFVWk9PMVZCUlc5Q0xFZEJRVUVzU1VGQlR6dEJRVVl6UWp0TlFVbEJMRWxCUVVjc1QwRkJUeXhWUVVGVkxFTkJRVU1zVVVGQmJFSXNTMEZCT0VJc1VVRkJha003VVVGRFF5eEhRVUZCTEVsQlFVOHNXVUZCUVN4SFFVRmhMRlZCUVZVc1EwRkJRenRSUVVNdlFpeE5RVUZOTEVOQlFVTXNTVUZCVUN4RFFVRlpMRWRCUVZvc1JVRkJaMElzVDBGQmFFSXNSVUZHUkRzN1RVRkxRU3hKUVVGMVJDeFBRVUZQTEZWQlFWVXNRMEZCUXl4UFFVRnNRaXhMUVVGclF5eFJRVUY2Ump0UlFVRkJMRWRCUVVFc1NVRkJUeXhYUVVGQkxFZEJRV01zUjBGQlpDeEhRVUZ2UWl4VlFVRlZMRU5CUVVNc1QwRkJMMElzUjBGQmVVTXNTVUZCYUVRN08wMUJRMEVzU1VGQmRVUXNUMEZCVHl4VlFVRlZMRU5CUVVNc1dVRkJiRUlzUzBGQmEwTXNVVUZCZWtZN1VVRkJRU3hIUVVGQkxFbEJRVThzWjBKQlFVRXNSMEZCYVVJc1ZVRkJWU3hEUVVGRExHRkJRVzVET3p0TlFVTkJMRWxCUVhWRUxFOUJRVThzVlVGQlZTeERRVUZETEZkQlFXeENMRXRCUVd0RExGRkJRWHBHTzFGQlFVRXNSMEZCUVN4SlFVRlBMR1ZCUVVFc1IwRkJaMElzVlVGQlZTeERRVUZETEZsQlFXeERPenROUVVOQkxFbEJRWFZFTEU5QlFVOHNWVUZCVlN4RFFVRkRMRTlCUVd4Q0xFdEJRV3RETEZGQlFYcEdPMUZCUVVFc1IwRkJRU3hKUVVGUExGZEJRVUVzUjBGQldTeFZRVUZWTEVOQlFVTXNVVUZCT1VJN08wMUJRMEVzU1VGQmRVUXNUMEZCVHl4VlFVRlZMRU5CUVVNc1MwRkJiRUlzUzBGQmEwTXNVVUZCZWtZN1VVRkJRU3hIUVVGQkxFbEJRVThzVTBGQlFTeEhRVUZWTEZWQlFWVXNRMEZCUXl4TlFVRTFRanM3VFVGRFFTeEpRVUYxUkN4UFFVRlBMRlZCUVZVc1EwRkJReXhQUVVGc1FpeExRVUZyUXl4UlFVRjZSanRSUVVGQkxFZEJRVUVzU1VGQlR5eFhRVUZCTEVkQlFWa3NWVUZCVlN4RFFVRkRMRkZCUVRsQ08wOUJiRUpFT3p0SlFYRkNRU3hMUVVGQkxFZEJRVkVzU1VGQlNUdEpRVU5hTEVsQlFYbEhMRXRCUVhwSE8wMUJRVUVzVDBGQlR5eERRVUZETEVkQlFWSXNRMEZCV1N4cFFrRkJRU3hIUVVGclFpeE5RVUZzUWl4SFFVRjVRaXgzUWtGQmVrSXNSMEZCWjBRc1EwRkJReXhKUVVGSkxFTkJRVU1zVTBGQlRDeERRVUZsTEVsQlFXWXNRMEZCUkN4RFFVRm9SQ3hIUVVGelJTeGhRVUYwUlN4SFFVRnRSaXhIUVVGdVJpeEhRVUYxUml4SFFVRnVSeXhGUVVGQk96dEpRVU5CTEV0QlFVc3NRMEZCUXl4clFrRkJUaXhIUVVFeVFpeERRVUZCTEZOQlFVRXNTMEZCUVR0aFFVRkJMRk5CUVVFN1VVRkZNVUlzU1VGQlR5eFZRVUZCTEV0QlFXTXNUVUZCY2tJN1ZVRkRReXhKUVVGSExGVkJRVlVzUTBGQlF5eExRVUZZTEV0QlFXOUNMRkZCUVhCQ0xFbEJRV2RETEU5QlFVOHNWVUZCVlN4RFFVRkRMRkZCUVd4Q0xFdEJRVGhDTEZGQlFXcEZPMEZCUVN0RkxHMUNRVUV2UlR0WFFVUkVPenRCUVVkQkxHZENRVUZQTEV0QlFVc3NRMEZCUXl4VlFVRmlPMEZCUVVFc1pVRkRUU3hEUVVST08xbEJRMkVzU1VGQk1FVXNTMEZCTVVVN1kwRkJRU3hQUVVGUExFTkJRVU1zUjBGQlVpeERRVUZaTERaRFFVRkJMRWRCUVRoRExFZEJRVGxETEVkQlFXdEVMRWRCUVRsRUxFVkJRVUU3TzBGQlFWQTdRVUZFVGl4bFFVVk5MRU5CUms0N1dVRkZZU3hKUVVFd1JTeExRVUV4UlR0alFVRkJMRTlCUVU4c1EwRkJReXhIUVVGU0xFTkJRVmtzYlVSQlFVRXNSMEZCYjBRc1IwRkJjRVFzUjBGQmQwUXNSMEZCY0VVc1JVRkJRVHM3UVVGQlVEdEJRVVpPTEdWQlIwMHNRMEZJVGp0WlFVZGhMRWxCUVRCRkxFdEJRVEZGTzJOQlFVRXNUMEZCVHl4RFFVRkRMRWRCUVZJc1EwRkJXU3h6UTBGQlFTeEhRVUYxUXl4SFFVRjJReXhIUVVFeVF5eEhRVUYyUkN4RlFVRkJPenRCUVVGUU8wRkJTRTRzWlVGSlRTeERRVXBPTzFsQlNXRXNTVUZCTUVVc1MwRkJNVVU3WTBGQlFTeFBRVUZQTEVOQlFVTXNSMEZCVWl4RFFVRlpMSGREUVVGQkxFZEJRWGxETEVkQlFYcERMRWRCUVRaRExFZEJRWHBFTEVWQlFVRTdPMEZCUVZBN1FVRktUaXhsUVV0TkxFTkJURTQ3V1VGTlJTeEpRVUUwUXl4blFrRkJOVU03WTBGQlFTeFJRVUZCTEVOQlFWTXNTVUZCU1N4RFFVRkRMRXRCUVV3c1EwRkJWeXhMUVVGTExFTkJRVU1zV1VGQmFrSXNRMEZCVkN4RlFVRkJPenRaUVVOQkxFbEJRVFJITEV0QlFUVkhPMk5CUVVFc1QwRkJUeXhEUVVGRExFZEJRVklzUTBGQldTeDVRMEZCUVN4SFFVRjVReXhEUVVGRExFbEJRVWtzUTBGQlF5eExRVUZNTEVOQlFWY3NTMEZCU3l4RFFVRkRMRmxCUVdwQ0xFTkJRVVFzUTBGQmVrTXNSMEZCZVVVc1lVRkJla1VzUjBGQmMwWXNSMEZCZEVZc1IwRkJNRVlzUjBGQmRFY3NSVUZCUVRzN1FVRlFSanRSUVZOQkxFbEJRVWNzUzBGQlN5eERRVUZETEUxQlFVNHNTMEZCWjBJc1MwRkJia0k3VlVGRFF5eEpRVUUyUlN4TFFVRTNSVHR0UWtGQlFTeFBRVUZQTEVOQlFVTXNTVUZCVWl4RFFVRmhMSEZFUVVGQkxFZEJRWE5FTEVkQlFYUkVMRWRCUVRCRUxFZEJRWFpGTEVWQlFVRTdWMEZFUkRzN1RVRmtNRUk3U1VGQlFTeERRVUZCTEVOQlFVRXNRMEZCUVN4SlFVRkJPMGxCYTBJelFpeExRVUZMTEVOQlFVTXNTVUZCVGl4RFFVRlhMRTFCUVZnc1JVRkJiVUlzUjBGQmJrSXNSVUZCZDBJc1NVRkJlRUk3U1VGRFFTeExRVUZMTEVOQlFVTXNaMEpCUVU0c1EwRkJkVUlzWTBGQmRrSXNSVUZCZFVNc2FVTkJRWFpETzFkQlEwRXNTMEZCU3l4RFFVRkRMRWxCUVU0c1EwRkJWeXhKUVVGQkxFZEJRVThzUlVGQlFTeEhRVUZGTEVOQlFVTXNTVUZCU1N4RFFVRkRMRk5CUVV3c1EwRkJaU3hKUVVGbUxFTkJRVVFzUTBGQmNFSTdSVUZvUkZNN096SkNRWE5FVml4SFFVRkJMRWRCUVZFc1UwRkJReXhKUVVGRUxFVkJRVThzVVVGQlVDeEZRVUYxUWl4VlFVRjJRanRYUVVGelF5eFBRVUZCTEVOQlFWRXNTVUZCUXl4RFFVRkJMRk5CUVZRc1JVRkJiMElzU1VGQlF5eERRVUZCTEUxQlFYSkNMRVZCUVRaQ0xFbEJRVGRDTEVWQlFXMURMRkZCUVc1RExFVkJRVFpETEV0QlFUZERMRVZCUVhWRUxFbEJRWFpFTEVWQlFUWkVMRlZCUVRkRUxFVkJRWGxGTEVsQlFVTXNRMEZCUVN4TFFVRXhSVHRGUVVGMFF6czdNa0pCUTFJc1IwRkJRU3hIUVVGUkxGTkJRVU1zU1VGQlJDeEZRVUZQTEVsQlFWQXNSVUZCWVN4UlFVRmlMRVZCUVhWQ0xGVkJRWFpDTzFkQlFYTkRMRTlCUVVFc1EwRkJVU3hKUVVGRExFTkJRVUVzVTBGQlZDeEZRVUZ2UWl4SlFVRkRMRU5CUVVFc1RVRkJja0lzUlVGQk5rSXNTVUZCTjBJc1JVRkJiVU1zVVVGQmJrTXNSVUZCTmtNc1MwRkJOME1zUlVGQmRVUXNTVUZCZGtRc1JVRkJOa1FzVlVGQk4wUXNSVUZCZVVVc1NVRkJReXhEUVVGQkxFdEJRVEZGTzBWQlFYUkRPenN5UWtGRFVpeEpRVUZCTEVkQlFWRXNVMEZCUXl4SlFVRkVMRVZCUVU4c1NVRkJVQ3hGUVVGaExGRkJRV0lzUlVGQmRVSXNWVUZCZGtJN1YwRkJjME1zVDBGQlFTeERRVUZSTEVsQlFVTXNRMEZCUVN4VFFVRlVMRVZCUVc5Q0xFbEJRVU1zUTBGQlFTeE5RVUZ5UWl4RlFVRTJRaXhKUVVFM1FpeEZRVUZ0UXl4UlFVRnVReXhGUVVFMlF5eE5RVUUzUXl4RlFVRjFSQ3hKUVVGMlJDeEZRVUUyUkN4VlFVRTNSQ3hGUVVGNVJTeEpRVUZETEVOQlFVRXNTMEZCTVVVN1JVRkJkRU03T3pKQ1FVTlNMRXRCUVVFc1IwRkJVU3hUUVVGRExFbEJRVVFzUlVGQlR5eEpRVUZRTEVWQlFXRXNVVUZCWWl4RlFVRjFRaXhWUVVGMlFqdFhRVUZ6UXl4UFFVRkJMRU5CUVZFc1NVRkJReXhEUVVGQkxGTkJRVlFzUlVGQmIwSXNTVUZCUXl4RFFVRkJMRTFCUVhKQ0xFVkJRVFpDTEVsQlFUZENMRVZCUVcxRExGRkJRVzVETEVWQlFUWkRMRTlCUVRkRExFVkJRWFZFTEVsQlFYWkVMRVZCUVRaRUxGVkJRVGRFTEVWQlFYbEZMRWxCUVVNc1EwRkJRU3hMUVVFeFJUdEZRVUYwUXpzN05FSkJRMUlzVVVGQlFTeEhRVUZSTEZOQlFVTXNTVUZCUkN4RlFVRlBMRkZCUVZBc1JVRkJkVUlzVlVGQmRrSTdWMEZCYzBNc1QwRkJRU3hEUVVGUkxFbEJRVU1zUTBGQlFTeFRRVUZVTEVWQlFXOUNMRWxCUVVNc1EwRkJRU3hOUVVGeVFpeEZRVUUyUWl4SlFVRTNRaXhGUVVGdFF5eFJRVUZ1UXl4RlFVRTJReXhSUVVFM1F5eEZRVUYxUkN4SlFVRjJSQ3hGUVVFMlJDeFZRVUUzUkN4RlFVRjVSU3hKUVVGRExFTkJRVUVzUzBGQk1VVTdSVUZCZEVNN096SkNRVWxTTEZGQlFVRXNSMEZCVlN4VFFVRkRMRWxCUVVRc1JVRkJUeXhSUVVGUU8wRkJSMVFzVVVGQlFUdEpRVUZCTEVsQlFVY3NTVUZCUVN4TFFVRlJMRmxCUVZnN1RVRkZReXhIUVVGQkxFZEJRVTBzVlVGQlFTeERRVUZYTEVsQlFVTXNRMEZCUVN4TlFVRmFMRVZCUVc5Q0xFZEJRWEJDTEVWQlFYbENMRWxCUVVNc1EwRkJRU3hOUVVFeFFpeEZRVUZyUXl4SlFVRkRMRU5CUVVFc1UwRkJia003VFVGRFRpeGhRVUZCTEVkQlFXZENPMDFCUTJoQ0xFMUJRVUVzUjBGQlV5eEpRVUZKTEZkQlFVb3NRMEZCWjBJc1IwRkJhRUk3VFVGRlZDeE5RVUZOTEVOQlFVTXNaMEpCUVZBc1EwRkJkMElzVFVGQmVFSXNSVUZCWjBNc1EwRkJRU3hUUVVGQkxFdEJRVUU3WlVGQlFTeFRRVUZCTzFWQlF5OUNMRWxCUVVjc1lVRkJRU3hMUVVGcFFpeGpRVUZ3UWp0WlFVTkRMRXRCUVVNc1EwRkJReXhQUVVGR0xFZEJRVms3V1VGRFdpeEpRVUY1UWl4blFrRkJla0k3WTBGQlFTeFJRVUZCTEVOQlFWTXNWMEZCVkN4RlFVRkJPenRaUVVOQkxFbEJRWE5HTEV0QlFVTXNRMEZCUVN4TFFVRjJSanRqUVVGQkxFOUJRVThzUTBGQlF5eEhRVUZTTEVOQlFWa3NORU5CUVVFc1IwRkJOa01zUzBGQlF5eERRVUZCTEZOQlFUbERMRWRCUVhkRUxHVkJRWEJGTEVWQlFVRTdZVUZJUkRzN2FVSkJTVUVzWVVGQlFTeEhRVUZuUWp0UlFVeGxPMDFCUVVFc1EwRkJRU3hEUVVGQkxFTkJRVUVzU1VGQlFTeERRVUZvUXp0aFFVOUJMRTFCUVUwc1EwRkJReXhuUWtGQlVDeERRVUYzUWl4UFFVRjRRaXhGUVVGcFF5eERRVUZCTEZOQlFVRXNTMEZCUVR0bFFVRkJMRk5CUVVFN1ZVRkRhRU1zU1VGQlJ5eGhRVUZCTEV0QlFXbENMRmRCUVhCQ08xbEJRME1zUzBGQlF5eERRVUZETEU5QlFVWXNSMEZCV1R0WlFVTmFMRWxCUVRSQ0xHZENRVUUxUWp0alFVRkJMRkZCUVVFc1EwRkJVeXhqUVVGVUxFVkJRVUU3TzFsQlEwRXNTVUZCYTBZc1MwRkJReXhEUVVGQkxFdEJRVzVHTzJOQlFVRXNUMEZCVHl4RFFVRkRMRWxCUVZJc1EwRkJZU3cwUTBGQlFTeEhRVUUyUXl4TFFVRkRMRU5CUVVFc1UwRkJPVU1zUjBGQmQwUXNWVUZCY2tVc1JVRkJRVHRoUVVoRU96dHBRa0ZKUVN4aFFVRkJMRWRCUVdkQ08xRkJUR2RDTzAxQlFVRXNRMEZCUVN4RFFVRkJMRU5CUVVFc1NVRkJRU3hEUVVGcVF5eEZRV0pFTzB0QlFVRXNUVUZCUVR0TlFYVkNReXhIUVVGQkxFZEJRVTBzVlVGQlFTeERRVUZYTEVsQlFVTXNRMEZCUVN4TlFVRmFMRVZCUVc5Q0xFbEJRWEJDTEVWQlFUQkNMRWxCUVVNc1EwRkJRU3hOUVVFelFpeEZRVUZ0UXl4SlFVRkRMRU5CUVVFc1UwRkJjRU03VFVGRFRpeE5RVUZCTEVkQlFWTXNTVUZCU1N4WFFVRktMRU5CUVdkQ0xFZEJRV2hDTzAxQlExUXNTVUZCYlVZc1NVRkJReXhEUVVGQkxFdEJRWEJHTzFGQlFVRXNUMEZCVHl4RFFVRkRMRWRCUVZJc1EwRkJXU3d3UTBGQlFTeEhRVUV5UXl4SlFVRXpReXhIUVVGblJDeGhRVUZvUkN4SFFVRTJSQ3hIUVVFM1JDeEhRVUZwUlN4SFFVRTNSU3hGUVVGQk96dE5RVVZCTEUxQlFVMHNRMEZCUXl4blFrRkJVQ3hEUVVGM1FpeExRVUY0UWl4RlFVRXJRaXhEUVVGQkxGTkJRVUVzUzBGQlFUdGxRVUZCTEZOQlFVTXNSVUZCUkR0VlFVTTVRaXhKUVVGM1JTeG5Ra0ZCZUVVN1dVRkJRU3hSUVVGQkxFTkJRVk1zU1VGQlNTeERRVUZETEV0QlFVd3NRMEZCVnl4RlFVRkZMRU5CUVVNc1NVRkJaQ3hEUVVGdFFpeERRVUZETEVsQlFUZENMRVZCUVcxRExFdEJRVzVETEVWQlFUQkRMRWxCUVVrc1EwRkJReXhMUVVGTUxFTkJRVmNzUlVGQlJTeERRVUZETEVsQlFXUXNRMEZCYlVJc1EwRkJReXhMUVVFNVJDeEZRVUZCT3p0VlFVTkJMRWxCUVhOSUxFdEJRVU1zUTBGQlFTeExRVUYyU0R0dFFrRkJRU3hQUVVGUExFTkJRVU1zUjBGQlVpeERRVUZaTEhORFFVRkJMRWRCUVhWRExFbEJRWFpETEVkQlFUUkRMR1ZCUVRWRExFZEJRVEJFTEVOQlFVTXNTVUZCU1N4RFFVRkRMRXRCUVV3c1EwRkJWeXhGUVVGRkxFTkJRVU1zU1VGQlpDeERRVUZ0UWl4RFFVRkRMRWxCUVhKQ0xFTkJRVEZFTEVkQlFXOUdMRmxCUVhCR0xFZEJRV2RITEVkQlFXaEhMRWRCUVc5SExFZEJRV2hJTEVWQlFVRTdPMUZCUmpoQ08wMUJRVUVzUTBGQlFTeERRVUZCTEVOQlFVRXNTVUZCUVN4RFFVRXZRanRoUVVsQkxFMUJRVTBzUTBGQlF5eG5Ra0ZCVUN4RFFVRjNRaXhQUVVGNFFpeEZRVUZwUXl4RFFVRkJMRk5CUVVFc1MwRkJRVHRsUVVGQkxGTkJRVU1zUlVGQlJEdFZRVU5vUXl4SlFVRXdSU3huUWtGQk1VVTdXVUZCUVN4UlFVRkJMRU5CUVZNc1NVRkJTU3hEUVVGRExFdEJRVXdzUTBGQlZ5eEZRVUZGTEVOQlFVTXNTVUZCWkN4RFFVRnRRaXhEUVVGRExFbEJRVGRDTEVWQlFXMURMRTlCUVc1RExFVkJRVFJETEVsQlFVa3NRMEZCUXl4TFFVRk1MRU5CUVZjc1JVRkJSU3hEUVVGRExFbEJRV1FzUTBGQmJVSXNRMEZCUXl4TFFVRm9SU3hGUVVGQk96dFZRVU5CTEVsQlFYZElMRXRCUVVNc1EwRkJRU3hMUVVGNlNEdHRRa0ZCUVN4UFFVRlBMRU5CUVVNc1IwRkJVaXhEUVVGWkxITkRRVUZCTEVkQlFYVkRMRWxCUVhaRExFZEJRVFJETEdsQ1FVRTFReXhIUVVFMFJDeERRVUZETEVsQlFVa3NRMEZCUXl4TFFVRk1MRU5CUVZjc1JVRkJSU3hEUVVGRExFbEJRV1FzUTBGQmJVSXNRMEZCUXl4SlFVRnlRaXhEUVVFMVJDeEhRVUZ6Uml4WlFVRjBSaXhIUVVGclJ5eEhRVUZzUnl4SFFVRnpSeXhIUVVGc1NDeEZRVUZCT3p0UlFVWm5RenROUVVGQkxFTkJRVUVzUTBGQlFTeERRVUZCTEVsQlFVRXNRMEZCYWtNc1JVRXZRa1E3TzBWQlNGTTdPenM3UjBGcVJ6QkNMRTFCUVUwc1EwRkJReUo5XG4iLCJ2YXIgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbmV4cG9ydHMuSW5wdXQgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICBleHRlbmQoSW5wdXQsIHN1cGVyQ2xhc3MpO1xuXG4gIElucHV0LmRlZmluZShcInN0eWxlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5wdXQuc3R5bGU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gXy5leHRlbmQodGhpcy5pbnB1dC5zdHlsZSwgdmFsdWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgSW5wdXQuZGVmaW5lKFwidmFsdWVcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnB1dC52YWx1ZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBJbnB1dChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5zZXR1cCA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zLnNldHVwID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLndpZHRoID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMud2lkdGggPSBTY3JlZW4ud2lkdGg7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmNsaXAgPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucy5jbGlwID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmhlaWdodCA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zLmhlaWdodCA9IDYwO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgPSBvcHRpb25zLnNldHVwID8gXCJyZ2JhKDI1NSwgNjAsIDQ3LCAuNSlcIiA6IFwidHJhbnNwYXJlbnRcIjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZm9udFNpemUgPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucy5mb250U2l6ZSA9IDMwO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5saW5lSGVpZ2h0ID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMubGluZUhlaWdodCA9IDMwO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5wYWRkaW5nID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMucGFkZGluZyA9IDEwO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5mb250RmFtaWx5ID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMuZm9udEZhbWlseSA9IFwiXCI7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLm9wYWNpdHkgPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucy5vcGFjaXR5ID0gMTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMudGV4dCA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zLnRleHQgPSBcIlwiO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5wbGFjZWhvbGRlciA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zLnBsYWNlaG9sZGVyID0gXCJcIjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMudHlwZSA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zLnR5cGUgPSBcInRleHRcIjtcbiAgICB9XG4gICAgSW5wdXQuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnMucGxhY2Vob2xkZXJDb2xvciAhPSBudWxsKSB7XG4gICAgICB0aGlzLnBsYWNlaG9sZGVyQ29sb3IgPSBvcHRpb25zLnBsYWNlaG9sZGVyQ29sb3I7XG4gICAgfVxuICAgIHRoaXMuaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgdGhpcy5pbnB1dC5pZCA9IFwiaW5wdXQtXCIgKyAoXy5ub3coKSk7XG4gICAgdGhpcy5pbnB1dC5zdHlsZS5jc3NUZXh0ID0gXCJmb250LXNpemU6IFwiICsgb3B0aW9ucy5mb250U2l6ZSArIFwicHg7IGxpbmUtaGVpZ2h0OiBcIiArIG9wdGlvbnMubGluZUhlaWdodCArIFwicHg7IHBhZGRpbmc6IFwiICsgb3B0aW9ucy5wYWRkaW5nICsgXCJweDsgd2lkdGg6IFwiICsgb3B0aW9ucy53aWR0aCArIFwicHg7IGhlaWdodDogXCIgKyBvcHRpb25zLmhlaWdodCArIFwicHg7IGJvcmRlcjogbm9uZTsgb3V0bGluZS13aWR0aDogMDsgYmFja2dyb3VuZC1pbWFnZTogdXJsKGFib3V0OmJsYW5rKTsgYmFja2dyb3VuZC1jb2xvcjogXCIgKyBvcHRpb25zLmJhY2tncm91bmRDb2xvciArIFwiOyBmb250LWZhbWlseTogXCIgKyBvcHRpb25zLmZvbnRGYW1pbHkgKyBcIjsgb3BhY2l0eTogXCIgKyBvcHRpb25zLm9wYWNpdHkgKyBcIjtcIjtcbiAgICB0aGlzLmlucHV0LnZhbHVlID0gb3B0aW9ucy50ZXh0O1xuICAgIHRoaXMuaW5wdXQudHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICB0aGlzLmlucHV0LnBsYWNlaG9sZGVyID0gb3B0aW9ucy5wbGFjZWhvbGRlcjtcbiAgICB0aGlzLmZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgICB0aGlzLmZvcm0uYXBwZW5kQ2hpbGQodGhpcy5pbnB1dCk7XG4gICAgdGhpcy5fZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmZvcm0pO1xuICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgIGlmICh0aGlzLnBsYWNlaG9sZGVyQ29sb3IpIHtcbiAgICAgIHRoaXMudXBkYXRlUGxhY2Vob2xkZXJDb2xvcihvcHRpb25zLnBsYWNlaG9sZGVyQ29sb3IpO1xuICAgIH1cbiAgfVxuXG4gIElucHV0LnByb3RvdHlwZS51cGRhdGVQbGFjZWhvbGRlckNvbG9yID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICB2YXIgY3NzO1xuICAgIHRoaXMucGxhY2Vob2xkZXJDb2xvciA9IGNvbG9yO1xuICAgIGlmICh0aGlzLnBhZ2VTdHlsZSAhPSBudWxsKSB7XG4gICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKHRoaXMucGFnZVN0eWxlKTtcbiAgICB9XG4gICAgdGhpcy5wYWdlU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgdGhpcy5wYWdlU3R5bGUudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgICBjc3MgPSBcIiNcIiArIHRoaXMuaW5wdXQuaWQgKyBcIjo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciB7IGNvbG9yOiBcIiArIHRoaXMucGxhY2Vob2xkZXJDb2xvciArIFwiOyB9XCI7XG4gICAgdGhpcy5wYWdlU3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gICAgcmV0dXJuIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5wYWdlU3R5bGUpO1xuICB9O1xuXG4gIElucHV0LnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0LmZvY3VzKCk7XG4gIH07XG5cbiAgcmV0dXJuIElucHV0O1xuXG59KShMYXllcik7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaUwxVnpaWEp6TDJwbFptWnlaWGt1YUdGeWNtbHpMMFJsZG1Wc2IzQnRaVzUwTDJaeVlXMWxjaTF6YTJWMFkyZ3RabWx5WldKaGMyVXRZbTlwYkdWeWNHeGhkR1V2YzNKakwyMXZaSFZzWlhNdmFXNXdkWFJtYVdWc1pDNWpiMlptWldVaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SXZWWE5sY25NdmFtVm1abkpsZVM1b1lYSnlhWE12UkdWMlpXeHZjRzFsYm5RdlpuSmhiV1Z5TFhOclpYUmphQzFtYVhKbFltRnpaUzFpYjJsc1pYSndiR0YwWlM5emNtTXZiVzlrZFd4bGN5OXBibkIxZEdacFpXeGtMbU52Wm1abFpTSmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRkRRU3hKUVVGQk96czdRVUZCVFN4UFFVRlBMRU5CUVVNN096dEZRVU5pTEV0QlFVTXNRMEZCUVN4TlFVRkVMRU5CUVZFc1QwRkJVaXhGUVVORE8wbEJRVUVzUjBGQlFTeEZRVUZMTEZOQlFVRTdZVUZCUnl4SlFVRkRMRU5CUVVFc1MwRkJTeXhEUVVGRE8wbEJRVllzUTBGQlREdEpRVU5CTEVkQlFVRXNSVUZCU3l4VFFVRkRMRXRCUVVRN1lVRkRTaXhEUVVGRExFTkJRVU1zVFVGQlJpeERRVUZUTEVsQlFVTXNRMEZCUVN4TFFVRkxMRU5CUVVNc1MwRkJhRUlzUlVGQmRVSXNTMEZCZGtJN1NVRkVTU3hEUVVSTU8wZEJSRVE3TzBWQlMwRXNTMEZCUXl4RFFVRkJMRTFCUVVRc1EwRkJVU3hQUVVGU0xFVkJRME03U1VGQlFTeEhRVUZCTEVWQlFVc3NVMEZCUVR0aFFVRkhMRWxCUVVNc1EwRkJRU3hMUVVGTExFTkJRVU03U1VGQlZpeERRVUZNTzBsQlEwRXNSMEZCUVN4RlFVRkxMRk5CUVVNc1MwRkJSRHRoUVVOS0xFbEJRVU1zUTBGQlFTeExRVUZMTEVOQlFVTXNTMEZCVUN4SFFVRmxPMGxCUkZnc1EwRkVURHRIUVVSRU96dEZRVXRoTEdWQlFVTXNUMEZCUkRzN1RVRkJReXhWUVVGVk96czdUVUZEZGtJc1QwRkJUeXhEUVVGRExGRkJRVk03T3p0TlFVTnFRaXhQUVVGUExFTkJRVU1zVVVGQlV5eE5RVUZOTEVOQlFVTTdPenROUVVONFFpeFBRVUZQTEVOQlFVTXNUMEZCVVRzN08wMUJRMmhDTEU5QlFVOHNRMEZCUXl4VFFVRlZPenM3VFVGRGJFSXNUMEZCVHl4RFFVRkRMR3RDUVVGelFpeFBRVUZQTEVOQlFVTXNTMEZCV0N4SFFVRnpRaXgxUWtGQmRFSXNSMEZCYlVRN096dE5RVU01UlN4UFFVRlBMRU5CUVVNc1YwRkJXVHM3TzAxQlEzQkNMRTlCUVU4c1EwRkJReXhoUVVGak96czdUVUZEZEVJc1QwRkJUeXhEUVVGRExGVkJRVmM3T3p0TlFVTnVRaXhQUVVGUExFTkJRVU1zWVVGQll6czdPMDFCUTNSQ0xFOUJRVThzUTBGQlF5eFZRVUZYT3pzN1RVRkRia0lzVDBGQlR5eERRVUZETEU5QlFWRTdPenROUVVOb1FpeFBRVUZQTEVOQlFVTXNZMEZCWlRzN08wMUJRM1pDTEU5QlFVOHNRMEZCUXl4UFFVRlJPenRKUVVWb1FpeDFRMEZCVFN4UFFVRk9PMGxCUlVFc1NVRkJaMFFzWjBOQlFXaEVPMDFCUVVFc1NVRkJReXhEUVVGQkxHZENRVUZFTEVkQlFXOUNMRTlCUVU4c1EwRkJReXhwUWtGQk5VSTdPMGxCUTBFc1NVRkJReXhEUVVGQkxFdEJRVVFzUjBGQlV5eFJRVUZSTEVOQlFVTXNZVUZCVkN4RFFVRjFRaXhQUVVGMlFqdEpRVU5VTEVsQlFVTXNRMEZCUVN4TFFVRkxMRU5CUVVNc1JVRkJVQ3hIUVVGWkxGRkJRVUVzUjBGQlVTeERRVUZETEVOQlFVTXNRMEZCUXl4SFFVRkdMRU5CUVVFc1EwRkJSRHRKUVVOd1FpeEpRVUZETEVOQlFVRXNTMEZCU3l4RFFVRkRMRXRCUVVzc1EwRkJReXhQUVVGaUxFZEJRWFZDTEdGQlFVRXNSMEZCWXl4UFFVRlBMRU5CUVVNc1VVRkJkRUlzUjBGQkswSXNiVUpCUVM5Q0xFZEJRV3RFTEU5QlFVOHNRMEZCUXl4VlFVRXhSQ3hIUVVGeFJTeGxRVUZ5UlN4SFFVRnZSaXhQUVVGUExFTkJRVU1zVDBGQk5VWXNSMEZCYjBjc1lVRkJjRWNzUjBGQmFVZ3NUMEZCVHl4RFFVRkRMRXRCUVhwSUxFZEJRU3RJTEdOQlFTOUlMRWRCUVRaSkxFOUJRVThzUTBGQlF5eE5RVUZ5U2l4SFFVRTBTaXcwUmtGQk5Vb3NSMEZCZDFBc1QwRkJUeXhEUVVGRExHVkJRV2hSTEVkQlFXZFNMR2xDUVVGb1VpeEhRVUZwVXl4UFFVRlBMRU5CUVVNc1ZVRkJlbE1zUjBGQmIxUXNZVUZCY0ZRc1IwRkJhVlVzVDBGQlR5eERRVUZETEU5QlFYcFZMRWRCUVdsV08wbEJRM2hYTEVsQlFVTXNRMEZCUVN4TFFVRkxMRU5CUVVNc1MwRkJVQ3hIUVVGbExFOUJRVThzUTBGQlF6dEpRVU4yUWl4SlFVRkRMRU5CUVVFc1MwRkJTeXhEUVVGRExFbEJRVkFzUjBGQll5eFBRVUZQTEVOQlFVTTdTVUZEZEVJc1NVRkJReXhEUVVGQkxFdEJRVXNzUTBGQlF5eFhRVUZRTEVkQlFYRkNMRTlCUVU4c1EwRkJRenRKUVVNM1FpeEpRVUZETEVOQlFVRXNTVUZCUkN4SFFVRlJMRkZCUVZFc1EwRkJReXhoUVVGVUxFTkJRWFZDTEUxQlFYWkNPMGxCUlZJc1NVRkJReXhEUVVGQkxFbEJRVWtzUTBGQlF5eFhRVUZPTEVOQlFXdENMRWxCUVVNc1EwRkJRU3hMUVVGdVFqdEpRVU5CTEVsQlFVTXNRMEZCUVN4UlFVRlJMRU5CUVVNc1YwRkJWaXhEUVVGelFpeEpRVUZETEVOQlFVRXNTVUZCZGtJN1NVRkZRU3hKUVVGRExFTkJRVUVzWlVGQlJDeEhRVUZ0UWp0SlFVTnVRaXhKUVVGdlJDeEpRVUZETEVOQlFVRXNaMEpCUVhKRU8wMUJRVUVzU1VGQlF5eERRVUZCTEhOQ1FVRkVMRU5CUVhkQ0xFOUJRVThzUTBGQlF5eG5Ra0ZCYUVNc1JVRkJRVHM3UlVFNVFsazdPMnRDUVdkRFlpeHpRa0ZCUVN4SFFVRjNRaXhUUVVGRExFdEJRVVE3UVVGRGRrSXNVVUZCUVR0SlFVRkJMRWxCUVVNc1EwRkJRU3huUWtGQlJDeEhRVUZ2UWp0SlFVTndRaXhKUVVGSExITkNRVUZJTzAxQlEwTXNVVUZCVVN4RFFVRkRMRWxCUVVrc1EwRkJReXhYUVVGa0xFTkJRVEJDTEVsQlFVTXNRMEZCUVN4VFFVRXpRaXhGUVVSRU96dEpRVVZCTEVsQlFVTXNRMEZCUVN4VFFVRkVMRWRCUVdFc1VVRkJVU3hEUVVGRExHRkJRVlFzUTBGQmRVSXNUMEZCZGtJN1NVRkRZaXhKUVVGRExFTkJRVUVzVTBGQlV5eERRVUZETEVsQlFWZ3NSMEZCYTBJN1NVRkRiRUlzUjBGQlFTeEhRVUZOTEVkQlFVRXNSMEZCU1N4SlFVRkRMRU5CUVVFc1MwRkJTeXhEUVVGRExFVkJRVmdzUjBGQll5eDFRMEZCWkN4SFFVRnhSQ3hKUVVGRExFTkJRVUVzWjBKQlFYUkVMRWRCUVhWRk8wbEJRemRGTEVsQlFVTXNRMEZCUVN4VFFVRlRMRU5CUVVNc1YwRkJXQ3hEUVVGMVFpeFJRVUZSTEVOQlFVTXNZMEZCVkN4RFFVRjNRaXhIUVVGNFFpeERRVUYyUWp0WFFVTkJMRkZCUVZFc1EwRkJReXhKUVVGSkxFTkJRVU1zVjBGQlpDeERRVUV3UWl4SlFVRkRMRU5CUVVFc1UwRkJNMEk3UlVGU2RVSTdPMnRDUVZWNFFpeExRVUZCTEVkQlFVOHNVMEZCUVR0WFFVTk9MRWxCUVVNc1EwRkJRU3hMUVVGTExFTkJRVU1zUzBGQlVDeERRVUZCTzBWQlJFMDdPenM3UjBGeVJHOUNJbjA9XG4iXX0="}