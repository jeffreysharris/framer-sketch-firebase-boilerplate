{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/app.coffee","src/modules/firebaseframer.coffee","src/modules/inputfield.coffee"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var FirebaseFramer, HEIGHT, Input, WIDTH, bg, button, demoDB, field, footer, lineHeight, post, stream, textfield;\n\nFirebaseFramer = require('firebaseframer').FirebaseFramer;\n\nInput = require(\"inputfield\").Input;\n\nWIDTH = Framer.Screen.width;\n\nHEIGHT = Framer.Screen.height;\n\nlineHeight = 30;\n\nFramer.Defaults.Animation = {\n  curve: 'spring(150, 10, 0)'\n};\n\ndemoDB = new FirebaseFramer({\n  projectID: \"framer-sketch-firebase-test\",\n  secret: \"lHwsK4ljhwUmMt3EU1ybrMPQcSDgbKhvTIwuqJ9I\",\n  server: \"s-usc1c-nss-134.firebaseio.com\"\n});\n\nbg = new BackgroundLayer({\n  backgroundColor: \"#fafafa\"\n});\n\nfooter = new Layer({\n  x: 0,\n  y: Canvas.height - 230,\n  width: Canvas.width,\n  height: 230,\n  backgroundColor: \"#999\"\n});\n\nstream = new Layer({\n  x: 0,\n  y: 0,\n  width: Canvas.width,\n  height: Canvas.height - 230,\n  backgroundColor: \"transparent\"\n});\n\nbutton = new Layer({\n  x: 620,\n  y: Canvas.height - 200,\n  width: 50,\n  height: 50,\n  image: \"images/button.png\"\n});\n\nbutton.onMouseDown(function() {\n  return button.image = \"images/button-down.png\";\n});\n\nfield = new Layer({\n  x: 100,\n  y: Canvas.height - 200,\n  width: 520,\n  height: 50,\n  image: \"images/field.png\"\n});\n\ntextfield = new Input({\n  setup: false,\n  type: \"text\",\n  x: 100,\n  y: Canvas.height - 200,\n  width: 500,\n  height: 30\n});\n\ntextfield.style = {\n  fontSize: \"14px\",\n  color: \"#333\",\n  fontFamily: \"Helvetica\",\n  padding: \"10px 10px 10px 20px\"\n};\n\npost = function() {\n  if (textfield.value.length) {\n    return demoDB.post('/messages', {\n      \"text\": textfield.value\n    });\n  }\n};\n\ndemoDB.onChange(\"/messages\", function(message) {\n  var child, h, i, j, k, len, line, m, messageArray, ref, results;\n  ref = stream.children;\n  for (j = 0, len = ref.length; j < len; j++) {\n    child = ref[j];\n    child.animate({\n      y: child.y - lineHeight\n    });\n  }\n  messageArray = _.toArray(message);\n  i = 1;\n  h = lineHeight;\n  results = [];\n  for (k = messageArray.length - 1; k >= 0; k += -1) {\n    m = messageArray[k];\n    line = new TextLayer({\n      x: 120,\n      textAlign: \"left\",\n      y: Canvas.height - 250 - h * i,\n      text: m.text,\n      color: \"#333\",\n      font: \"14px/1.5 Helvetica\"\n    });\n    line.parent = stream;\n    results.push(i++);\n  }\n  return results;\n});\n\nbutton.onMouseUp(function() {\n  button.image = \"images/button.png\";\n  return post();\n});\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2plZmZyZXkuaGFycmlzL0RldmVsb3BtZW50L2ZyYW1lci1za2V0Y2gtZmlyZWJhc2UtYm9pbGVycGxhdGUvc3JjL2FwcC5jb2ZmZWUiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvVXNlcnMvamVmZnJleS5oYXJyaXMvRGV2ZWxvcG1lbnQvZnJhbWVyLXNrZXRjaC1maXJlYmFzZS1ib2lsZXJwbGF0ZS9zcmMvYXBwLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBOztBQUFDLGlCQUFrQixPQUFBLENBQVEsZ0JBQVI7O0FBQ2xCLFFBQVMsT0FBQSxDQUFRLFlBQVI7O0FBRVYsS0FBQSxHQUFRLE1BQU0sQ0FBQyxNQUFNLENBQUM7O0FBQ3RCLE1BQUEsR0FBUyxNQUFNLENBQUMsTUFBTSxDQUFDOztBQUV2QixVQUFBLEdBQWE7O0FBRWIsTUFBTSxDQUFDLFFBQVEsQ0FBQyxTQUFoQixHQUNFO0VBQUEsS0FBQSxFQUFPLG9CQUFQOzs7QUFFRixNQUFBLEdBQVMsSUFBSSxjQUFKLENBQ1I7RUFBQSxTQUFBLEVBQVcsNkJBQVg7RUFDQSxNQUFBLEVBQVEsMENBRFI7RUFFQSxNQUFBLEVBQVEsZ0NBRlI7Q0FEUTs7QUFLVCxFQUFBLEdBQUssSUFBSSxlQUFKLENBQ0Q7RUFBQSxlQUFBLEVBQWlCLFNBQWpCO0NBREM7O0FBR0wsTUFBQSxHQUFTLElBQUksS0FBSixDQUNMO0VBQUEsQ0FBQSxFQUFJLENBQUo7RUFDQSxDQUFBLEVBQUksTUFBTSxDQUFDLE1BQVAsR0FBZ0IsR0FEcEI7RUFFQSxLQUFBLEVBQU8sTUFBTSxDQUFDLEtBRmQ7RUFHQSxNQUFBLEVBQVEsR0FIUjtFQUlBLGVBQUEsRUFBaUIsTUFKakI7Q0FESzs7QUFPVCxNQUFBLEdBQVMsSUFBSSxLQUFKLENBQ0w7RUFBQSxDQUFBLEVBQUcsQ0FBSDtFQUNBLENBQUEsRUFBRyxDQURIO0VBRUEsS0FBQSxFQUFPLE1BQU0sQ0FBQyxLQUZkO0VBR0EsTUFBQSxFQUFRLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLEdBSHhCO0VBSUEsZUFBQSxFQUFpQixhQUpqQjtDQURLOztBQXVCVCxNQUFBLEdBQVMsSUFBSSxLQUFKLENBQ0w7RUFBQSxDQUFBLEVBQUcsR0FBSDtFQUNBLENBQUEsRUFBRyxNQUFNLENBQUMsTUFBUCxHQUFnQixHQURuQjtFQUVBLEtBQUEsRUFBTyxFQUZQO0VBR0EsTUFBQSxFQUFRLEVBSFI7RUFJQSxLQUFBLEVBQU8sbUJBSlA7Q0FESzs7QUFPVCxNQUFNLENBQUMsV0FBUCxDQUFtQixTQUFBO1NBQ2YsTUFBTSxDQUFDLEtBQVAsR0FBZTtBQURBLENBQW5COztBQUdBLEtBQUEsR0FBUSxJQUFJLEtBQUosQ0FDSjtFQUFBLENBQUEsRUFBRyxHQUFIO0VBQ0EsQ0FBQSxFQUFHLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLEdBRG5CO0VBRUEsS0FBQSxFQUFPLEdBRlA7RUFHQSxNQUFBLEVBQVEsRUFIUjtFQUlBLEtBQUEsRUFBTyxrQkFKUDtDQURJOztBQU9SLFNBQUEsR0FBWSxJQUFJLEtBQUosQ0FDUjtFQUFBLEtBQUEsRUFBTyxLQUFQO0VBQ0EsSUFBQSxFQUFNLE1BRE47RUFFQSxDQUFBLEVBQUcsR0FGSDtFQUdBLENBQUEsRUFBRyxNQUFNLENBQUMsTUFBUCxHQUFnQixHQUhuQjtFQUlBLEtBQUEsRUFBTyxHQUpQO0VBS0EsTUFBQSxFQUFRLEVBTFI7Q0FEUTs7QUFRWixTQUFTLENBQUMsS0FBVixHQUNJO0VBQUEsUUFBQSxFQUFVLE1BQVY7RUFDQSxLQUFBLEVBQU8sTUFEUDtFQUVBLFVBQUEsRUFBWSxXQUZaO0VBR0EsT0FBQSxFQUFTLHFCQUhUOzs7QUEwQkosSUFBQSxHQUFPLFNBQUE7RUFDSCxJQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsTUFBbkI7V0FDSSxNQUFNLENBQUMsSUFBUCxDQUFZLFdBQVosRUFBeUI7TUFBQyxNQUFBLEVBQVEsU0FBUyxDQUFDLEtBQW5CO0tBQXpCLEVBREo7O0FBREc7O0FBZ0JQLE1BQU0sQ0FBQyxRQUFQLENBQWdCLFdBQWhCLEVBQTZCLFNBQUMsT0FBRDtBQUN6QixNQUFBO0FBQUE7QUFBQSxPQUFBLHFDQUFBOztJQUNJLEtBQUssQ0FBQyxPQUFOLENBQ0k7TUFBQSxDQUFBLEVBQUcsS0FBSyxDQUFDLENBQU4sR0FBVSxVQUFiO0tBREo7QUFESjtFQUdBLFlBQUEsR0FBZSxDQUFDLENBQUMsT0FBRixDQUFVLE9BQVY7RUFFZixDQUFBLEdBQUk7RUFDSixDQUFBLEdBQUk7QUFFSjtPQUFBLDRDQUFBOztJQUVJLElBQUEsR0FBTyxJQUFJLFNBQUosQ0FDSDtNQUFBLENBQUEsRUFBRyxHQUFIO01BQ0EsU0FBQSxFQUFXLE1BRFg7TUFFQSxDQUFBLEVBQUcsTUFBTSxDQUFDLE1BQVAsR0FBZ0IsR0FBaEIsR0FBc0IsQ0FBQSxHQUFJLENBRjdCO01BR0EsSUFBQSxFQUFNLENBQUMsQ0FBQyxJQUhSO01BSUEsS0FBQSxFQUFPLE1BSlA7TUFLQSxJQUFBLEVBQU0sb0JBTE47S0FERztJQU9QLElBQUksQ0FBQyxNQUFMLEdBQWM7aUJBQ2QsQ0FBQTtBQVZKOztBQVR5QixDQUE3Qjs7QUFpQ0EsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsU0FBQTtFQUNiLE1BQU0sQ0FBQyxLQUFQLEdBQWU7U0FDZixJQUFBLENBQUE7QUFGYSxDQUFqQiJ9\n","var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nexports.FirebaseFramer = (function(superClass) {\n  var getCORSurl, request;\n\n  extend(FirebaseFramer, superClass);\n\n  getCORSurl = function(server, path, secret, project) {\n    var url;\n    switch (Utils.isWebKit()) {\n      case true:\n        url = \"https://\" + server + path + \".json?auth=\" + secret + \"&ns=\" + project + \"&sse=true\";\n        break;\n      default:\n        url = \"https://\" + project + \".firebaseio.com\" + path + \".json?auth=\" + secret;\n    }\n    return url;\n  };\n\n  FirebaseFramer.define(\"status\", {\n    get: function() {\n      return this._status;\n    }\n  });\n\n  function FirebaseFramer(options) {\n    var base, base1, base2, base3;\n    this.options = options != null ? options : {};\n    this.projectID = (base = this.options).projectID != null ? base.projectID : base.projectID = null;\n    this.secret = (base1 = this.options).secret != null ? base1.secret : base1.secret = null;\n    this.server = (base2 = this.options).server != null ? base2.server : base2.server = void 0;\n    this.debug = (base3 = this.options).debug != null ? base3.debug : base3.debug = false;\n    if (this._status == null) {\n      this._status = \"disconnected\";\n    }\n    FirebaseFramer.__super__.constructor.apply(this, arguments);\n    if (this.server === void 0) {\n      Utils.domLoadJSON(\"https://\" + this.projectID + \".firebaseio.com/.settings/owner.json\", function(a, server) {\n        var msg;\n        print(msg = \"Add ______ server:\" + '   \"' + server + '\"' + \" _____ to your instance of Firebase.\");\n        if (this.debug) {\n          return console.log(\"Firebase: \" + msg);\n        }\n      });\n    }\n    if (this.debug) {\n      console.log(\"Firebase: Connecting to Firebase Project '\" + this.projectID + \"' ... \\n URL: '\" + (getCORSurl(this.server, \"/\", this.secret, this.projectID)) + \"'\");\n    }\n    this.onChange(\"connection\");\n  }\n\n  request = function(project, secret, path, callback, method, data, parameters, debug) {\n    var url, xhttp;\n    url = \"https://\" + project + \".firebaseio.com\" + path + \".json?auth=\" + secret;\n    if (parameters !== void 0) {\n      if (parameters.shallow) {\n        url += \"&shallow=true\";\n      }\n      if (parameters.format === \"export\") {\n        url += \"&format=export\";\n      }\n      switch (parameters.print) {\n        case \"pretty\":\n          url += \"&print=pretty\";\n          break;\n        case \"silent\":\n          url += \"&print=silent\";\n      }\n      if (typeof parameters.download === \"string\") {\n        url += \"&download=\" + parameters.download;\n        window.open(url, \"_self\");\n      }\n      if (typeof parameters.orderBy === \"string\") {\n        url += \"&orderBy=\" + '\"' + parameters.orderBy + '\"';\n      }\n      if (typeof parameters.limitToFirst === \"number\") {\n        url += \"&limitToFirst=\" + parameters.limitToFirst;\n      }\n      if (typeof parameters.limitToLast === \"number\") {\n        url += \"&limitToLast=\" + parameters.limitToLast;\n      }\n      if (typeof parameters.startAt === \"number\") {\n        url += \"&startAt=\" + parameters.startAt;\n      }\n      if (typeof parameters.endAt === \"number\") {\n        url += \"&endAt=\" + parameters.endAt;\n      }\n      if (typeof parameters.equalTo === \"number\") {\n        url += \"&equalTo=\" + parameters.equalTo;\n      }\n    }\n    xhttp = new XMLHttpRequest;\n    if (debug) {\n      console.log(\"Firebase: New '\" + method + \"'-request with data: '\" + (JSON.stringify(data)) + \"' \\n URL: '\" + url + \"'\");\n    }\n    xhttp.onreadystatechange = (function(_this) {\n      return function() {\n        if (parameters !== void 0) {\n          if (parameters.print === \"silent\" || typeof parameters.download === \"string\") {\n            return;\n          }\n        }\n        switch (xhttp.readyState) {\n          case 0:\n            if (debug) {\n              console.log(\"Firebase: Request not initialized \\n URL: '\" + url + \"'\");\n            }\n            break;\n          case 1:\n            if (debug) {\n              console.log(\"Firebase: Server connection established \\n URL: '\" + url + \"'\");\n            }\n            break;\n          case 2:\n            if (debug) {\n              console.log(\"Firebase: Request received \\n URL: '\" + url + \"'\");\n            }\n            break;\n          case 3:\n            if (debug) {\n              console.log(\"Firebase: Processing request \\n URL: '\" + url + \"'\");\n            }\n            break;\n          case 4:\n            if (callback != null) {\n              callback(JSON.parse(xhttp.responseText));\n            }\n            if (debug) {\n              console.log(\"Firebase: Request finished, response: '\" + (JSON.parse(xhttp.responseText)) + \"' \\n URL: '\" + url + \"'\");\n            }\n        }\n        if (xhttp.status === \"404\") {\n          if (debug) {\n            return console.warn(\"Firebase: Invalid request, page not found \\n URL: '\" + url + \"'\");\n          }\n        }\n      };\n    })(this);\n    xhttp.open(method, url, true);\n    xhttp.setRequestHeader(\"Content-type\", \"application/json; charset=utf-8\");\n    return xhttp.send(data = \"\" + (JSON.stringify(data)));\n  };\n\n  FirebaseFramer.prototype.get = function(path, callback, parameters) {\n    return request(this.projectID, this.secret, path, callback, \"GET\", null, parameters, this.debug);\n  };\n\n  FirebaseFramer.prototype.put = function(path, data, callback, parameters) {\n    return request(this.projectID, this.secret, path, callback, \"PUT\", data, parameters, this.debug);\n  };\n\n  FirebaseFramer.prototype.post = function(path, data, callback, parameters) {\n    return request(this.projectID, this.secret, path, callback, \"POST\", data, parameters, this.debug);\n  };\n\n  FirebaseFramer.prototype.patch = function(path, data, callback, parameters) {\n    return request(this.projectID, this.secret, path, callback, \"PATCH\", data, parameters, this.debug);\n  };\n\n  FirebaseFramer.prototype[\"delete\"] = function(path, callback, parameters) {\n    return request(this.projectID, this.secret, path, callback, \"DELETE\", null, parameters, this.debug);\n  };\n\n  FirebaseFramer.prototype.onChange = function(path, callback) {\n    var currentStatus, source, url;\n    if (path === \"connection\") {\n      url = getCORSurl(this.server, \"/\", this.secret, this.projectID);\n      currentStatus = \"disconnected\";\n      source = new EventSource(url);\n      source.addEventListener(\"open\", (function(_this) {\n        return function() {\n          if (currentStatus === \"disconnected\") {\n            _this._status = \"connected\";\n            if (callback != null) {\n              callback(\"connected\");\n            }\n            if (_this.debug) {\n              console.log(\"Firebase: Connection to Firebase Project '\" + _this.projectID + \"' established\");\n            }\n          }\n          return currentStatus = \"connected\";\n        };\n      })(this));\n      return source.addEventListener(\"error\", (function(_this) {\n        return function() {\n          if (currentStatus === \"connected\") {\n            _this._status = \"disconnected\";\n            if (callback != null) {\n              callback(\"disconnected\");\n            }\n            if (_this.debug) {\n              console.warn(\"Firebase: Connection to Firebase Project '\" + _this.projectID + \"' closed\");\n            }\n          }\n          return currentStatus = \"disconnected\";\n        };\n      })(this));\n    } else {\n      url = getCORSurl(this.server, path, this.secret, this.projectID);\n      source = new EventSource(url);\n      if (this.debug) {\n        console.log(\"Firebase: Listening to changes made to '\" + path + \"' \\n URL: '\" + url + \"'\");\n      }\n      source.addEventListener(\"put\", (function(_this) {\n        return function(ev) {\n          if (callback != null) {\n            callback(JSON.parse(ev.data).data, \"put\", JSON.parse(ev.data).patch);\n          }\n          if (_this.debug) {\n            return console.log(\"Firebase: Received changes made to '\" + path + \"' via 'PUT': \" + (JSON.parse(ev.data).data) + \" \\n URL: '\" + url + \"'\");\n          }\n        };\n      })(this));\n      return source.addEventListener(\"patch\", (function(_this) {\n        return function(ev) {\n          if (callback != null) {\n            callback(JSON.parse(ev.data).data, \"patch\", JSON.parse(ev.data).patch);\n          }\n          if (_this.debug) {\n            return console.log(\"Firebase: Received changes made to '\" + path + \"' via 'PATCH': \" + (JSON.parse(ev.data).data) + \" \\n URL: '\" + url + \"'\");\n          }\n        };\n      })(this));\n    }\n  };\n\n  return FirebaseFramer;\n\n})(Framer.BaseClass);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2plZmZyZXkuaGFycmlzL0RldmVsb3BtZW50L2ZyYW1lci1za2V0Y2gtZmlyZWJhc2UtYm9pbGVycGxhdGUvc3JjL21vZHVsZXMvZmlyZWJhc2VmcmFtZXIuY29mZmVlIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL1VzZXJzL2plZmZyZXkuaGFycmlzL0RldmVsb3BtZW50L2ZyYW1lci1za2V0Y2gtZmlyZWJhc2UtYm9pbGVycGxhdGUvc3JjL21vZHVsZXMvZmlyZWJhc2VmcmFtZXIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlCQSxJQUFBOzs7QUFBTSxPQUFPLENBQUM7QUFJYixNQUFBOzs7O0VBQUEsVUFBQSxHQUFhLFNBQUMsTUFBRCxFQUFTLElBQVQsRUFBZSxNQUFmLEVBQXVCLE9BQXZCO0FBRVosUUFBQTtBQUFBLFlBQU8sS0FBSyxDQUFDLFFBQU4sQ0FBQSxDQUFQO0FBQUEsV0FDTSxJQUROO1FBQ2dCLEdBQUEsR0FBTSxVQUFBLEdBQVcsTUFBWCxHQUFvQixJQUFwQixHQUF5QixhQUF6QixHQUFzQyxNQUF0QyxHQUE2QyxNQUE3QyxHQUFtRCxPQUFuRCxHQUEyRDtBQUEzRTtBQUROO1FBRWdCLEdBQUEsR0FBTSxVQUFBLEdBQVcsT0FBWCxHQUFtQixpQkFBbkIsR0FBb0MsSUFBcEMsR0FBeUMsYUFBekMsR0FBc0Q7QUFGNUU7QUFJQSxXQUFPO0VBTks7O0VBU2IsY0FBQyxDQUFDLE1BQUYsQ0FBUyxRQUFULEVBQ0M7SUFBQSxHQUFBLEVBQUssU0FBQTthQUFHLElBQUMsQ0FBQTtJQUFKLENBQUw7R0FERDs7RUFHYSx3QkFBQyxPQUFEO0FBQ1osUUFBQTtJQURhLElBQUMsQ0FBQSw0QkFBRCxVQUFTO0lBQ3RCLElBQUMsQ0FBQSxTQUFELGlEQUFxQixDQUFDLGdCQUFELENBQUMsWUFBYTtJQUNuQyxJQUFDLENBQUEsTUFBRCxnREFBcUIsQ0FBQyxjQUFELENBQUMsU0FBYTtJQUNuQyxJQUFDLENBQUEsTUFBRCxn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\n","var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nexports.Input = (function(superClass) {\n  extend(Input, superClass);\n\n  Input.define(\"style\", {\n    get: function() {\n      return this.input.style;\n    },\n    set: function(value) {\n      return _.extend(this.input.style, value);\n    }\n  });\n\n  Input.define(\"value\", {\n    get: function() {\n      return this.input.value;\n    },\n    set: function(value) {\n      return this.input.value = value;\n    }\n  });\n\n  function Input(options) {\n    if (options == null) {\n      options = {};\n    }\n    if (options.setup == null) {\n      options.setup = false;\n    }\n    if (options.width == null) {\n      options.width = Screen.width;\n    }\n    if (options.clip == null) {\n      options.clip = false;\n    }\n    if (options.height == null) {\n      options.height = 60;\n    }\n    if (options.backgroundColor == null) {\n      options.backgroundColor = options.setup ? \"rgba(255, 60, 47, .5)\" : \"transparent\";\n    }\n    if (options.fontSize == null) {\n      options.fontSize = 30;\n    }\n    if (options.lineHeight == null) {\n      options.lineHeight = 30;\n    }\n    if (options.padding == null) {\n      options.padding = 10;\n    }\n    if (options.fontFamily == null) {\n      options.fontFamily = \"\";\n    }\n    if (options.opacity == null) {\n      options.opacity = 1;\n    }\n    if (options.text == null) {\n      options.text = \"\";\n    }\n    if (options.placeholder == null) {\n      options.placeholder = \"\";\n    }\n    if (options.type == null) {\n      options.type = \"text\";\n    }\n    Input.__super__.constructor.call(this, options);\n    if (options.placeholderColor != null) {\n      this.placeholderColor = options.placeholderColor;\n    }\n    this.input = document.createElement(\"input\");\n    this.input.id = \"input-\" + (_.now());\n    this.input.style.cssText = \"font-size: \" + options.fontSize + \"px; line-height: \" + options.lineHeight + \"px; padding: \" + options.padding + \"px; width: \" + options.width + \"px; height: \" + options.height + \"px; border: none; outline-width: 0; background-image: url(about:blank); background-color: \" + options.backgroundColor + \"; font-family: \" + options.fontFamily + \"; opacity: \" + options.opacity + \";\";\n    this.input.value = options.text;\n    this.input.type = options.type;\n    this.input.placeholder = options.placeholder;\n    this.form = document.createElement(\"form\");\n    this.form.appendChild(this.input);\n    this._element.appendChild(this.form);\n    this.backgroundColor = \"transparent\";\n    if (this.placeholderColor) {\n      this.updatePlaceholderColor(options.placeholderColor);\n    }\n  }\n\n  Input.prototype.updatePlaceholderColor = function(color) {\n    var css;\n    this.placeholderColor = color;\n    if (this.pageStyle != null) {\n      document.head.removeChild(this.pageStyle);\n    }\n    this.pageStyle = document.createElement(\"style\");\n    this.pageStyle.type = \"text/css\";\n    css = \"#\" + this.input.id + \"::-webkit-input-placeholder { color: \" + this.placeholderColor + \"; }\";\n    this.pageStyle.appendChild(document.createTextNode(css));\n    return document.head.appendChild(this.pageStyle);\n  };\n\n  Input.prototype.focus = function() {\n    return this.input.focus();\n  };\n\n  return Input;\n\n})(Layer);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2plZmZyZXkuaGFycmlzL0RldmVsb3BtZW50L2ZyYW1lci1za2V0Y2gtZmlyZWJhc2UtYm9pbGVycGxhdGUvc3JjL21vZHVsZXMvaW5wdXRmaWVsZC5jb2ZmZWUiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvVXNlcnMvamVmZnJleS5oYXJyaXMvRGV2ZWxvcG1lbnQvZnJhbWVyLXNrZXRjaC1maXJlYmFzZS1ib2lsZXJwbGF0ZS9zcmMvbW9kdWxlcy9pbnB1dGZpZWxkLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxJQUFBOzs7QUFBTSxPQUFPLENBQUM7OztFQUNiLEtBQUMsQ0FBQSxNQUFELENBQVEsT0FBUixFQUNDO0lBQUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUEsS0FBSyxDQUFDO0lBQVYsQ0FBTDtJQUNBLEdBQUEsRUFBSyxTQUFDLEtBQUQ7YUFDSixDQUFDLENBQUMsTUFBRixDQUFTLElBQUMsQ0FBQSxLQUFLLENBQUMsS0FBaEIsRUFBdUIsS0FBdkI7SUFESSxDQURMO0dBREQ7O0VBS0EsS0FBQyxDQUFBLE1BQUQsQ0FBUSxPQUFSLEVBQ0M7SUFBQSxHQUFBLEVBQUssU0FBQTthQUFHLElBQUMsQ0FBQSxLQUFLLENBQUM7SUFBVixDQUFMO0lBQ0EsR0FBQSxFQUFLLFNBQUMsS0FBRDthQUNKLElBQUMsQ0FBQSxLQUFLLENBQUMsS0FBUCxHQUFlO0lBRFgsQ0FETDtHQUREOztFQUthLGVBQUMsT0FBRDs7TUFBQyxVQUFVOzs7TUFDdkIsT0FBTyxDQUFDLFFBQVM7OztNQUNqQixPQUFPLENBQUMsUUFBUyxNQUFNLENBQUM7OztNQUN4QixPQUFPLENBQUMsT0FBUTs7O01BQ2hCLE9BQU8sQ0FBQyxTQUFVOzs7TUFDbEIsT0FBTyxDQUFDLGtCQUFzQixPQUFPLENBQUMsS0FBWCxHQUFzQix1QkFBdEIsR0FBbUQ7OztNQUM5RSxPQUFPLENBQUMsV0FBWTs7O01BQ3BCLE9BQU8sQ0FBQyxhQUFjOzs7TUFD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\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXBwLmNvZmZlZSIsInNyYy9tb2R1bGVzL2ZpcmViYXNlZnJhbWVyLmNvZmZlZSIsInNyYy9tb2R1bGVzL2lucHV0ZmllbGQuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3pIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDeE9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInZhciBGaXJlYmFzZUZyYW1lciwgSEVJR0hULCBJbnB1dCwgV0lEVEgsIGJnLCBidXR0b24sIGRlbW9EQiwgZmllbGQsIGZvb3RlciwgbGluZUhlaWdodCwgcG9zdCwgc3RyZWFtLCB0ZXh0ZmllbGQ7XG5cbkZpcmViYXNlRnJhbWVyID0gcmVxdWlyZSgnZmlyZWJhc2VmcmFtZXInKS5GaXJlYmFzZUZyYW1lcjtcblxuSW5wdXQgPSByZXF1aXJlKFwiaW5wdXRmaWVsZFwiKS5JbnB1dDtcblxuV0lEVEggPSBGcmFtZXIuU2NyZWVuLndpZHRoO1xuXG5IRUlHSFQgPSBGcmFtZXIuU2NyZWVuLmhlaWdodDtcblxubGluZUhlaWdodCA9IDMwO1xuXG5GcmFtZXIuRGVmYXVsdHMuQW5pbWF0aW9uID0ge1xuICBjdXJ2ZTogJ3NwcmluZygxNTAsIDEwLCAwKSdcbn07XG5cbmRlbW9EQiA9IG5ldyBGaXJlYmFzZUZyYW1lcih7XG4gIHByb2plY3RJRDogXCJmcmFtZXItc2tldGNoLWZpcmViYXNlLXRlc3RcIixcbiAgc2VjcmV0OiBcImxId3NLNGxqaHdVbU10M0VVMXlick1QUWNTRGdiS2h2VEl3dXFKOUlcIixcbiAgc2VydmVyOiBcInMtdXNjMWMtbnNzLTEzNC5maXJlYmFzZWlvLmNvbVwiXG59KTtcblxuYmcgPSBuZXcgQmFja2dyb3VuZExheWVyKHtcbiAgYmFja2dyb3VuZENvbG9yOiBcIiNmYWZhZmFcIlxufSk7XG5cbmZvb3RlciA9IG5ldyBMYXllcih7XG4gIHg6IDAsXG4gIHk6IENhbnZhcy5oZWlnaHQgLSAyMzAsXG4gIHdpZHRoOiBDYW52YXMud2lkdGgsXG4gIGhlaWdodDogMjMwLFxuICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzk5OVwiXG59KTtcblxuc3RyZWFtID0gbmV3IExheWVyKHtcbiAgeDogMCxcbiAgeTogMCxcbiAgd2lkdGg6IENhbnZhcy53aWR0aCxcbiAgaGVpZ2h0OiBDYW52YXMuaGVpZ2h0IC0gMjMwLFxuICBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIlxufSk7XG5cbmJ1dHRvbiA9IG5ldyBMYXllcih7XG4gIHg6IDYyMCxcbiAgeTogQ2FudmFzLmhlaWdodCAtIDIwMCxcbiAgd2lkdGg6IDUwLFxuICBoZWlnaHQ6IDUwLFxuICBpbWFnZTogXCJpbWFnZXMvYnV0dG9uLnBuZ1wiXG59KTtcblxuYnV0dG9uLm9uTW91c2VEb3duKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gYnV0dG9uLmltYWdlID0gXCJpbWFnZXMvYnV0dG9uLWRvd24ucG5nXCI7XG59KTtcblxuZmllbGQgPSBuZXcgTGF5ZXIoe1xuICB4OiAxMDAsXG4gIHk6IENhbnZhcy5oZWlnaHQgLSAyMDAsXG4gIHdpZHRoOiA1MjAsXG4gIGhlaWdodDogNTAsXG4gIGltYWdlOiBcImltYWdlcy9maWVsZC5wbmdcIlxufSk7XG5cbnRleHRmaWVsZCA9IG5ldyBJbnB1dCh7XG4gIHNldHVwOiBmYWxzZSxcbiAgdHlwZTogXCJ0ZXh0XCIsXG4gIHg6IDEwMCxcbiAgeTogQ2FudmFzLmhlaWdodCAtIDIwMCxcbiAgd2lkdGg6IDUwMCxcbiAgaGVpZ2h0OiAzMFxufSk7XG5cbnRleHRmaWVsZC5zdHlsZSA9IHtcbiAgZm9udFNpemU6IFwiMTRweFwiLFxuICBjb2xvcjogXCIjMzMzXCIsXG4gIGZvbnRGYW1pbHk6IFwiSGVsdmV0aWNhXCIsXG4gIHBhZGRpbmc6IFwiMTBweCAxMHB4IDEwcHggMjBweFwiXG59O1xuXG5wb3N0ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0ZXh0ZmllbGQudmFsdWUubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGRlbW9EQi5wb3N0KCcvbWVzc2FnZXMnLCB7XG4gICAgICBcInRleHRcIjogdGV4dGZpZWxkLnZhbHVlXG4gICAgfSk7XG4gIH1cbn07XG5cbmRlbW9EQi5vbkNoYW5nZShcIi9tZXNzYWdlc1wiLCBmdW5jdGlvbihtZXNzYWdlKSB7XG4gIHZhciBjaGlsZCwgaCwgaSwgaiwgaywgbGVuLCBsaW5lLCBtLCBtZXNzYWdlQXJyYXksIHJlZiwgcmVzdWx0cztcbiAgcmVmID0gc3RyZWFtLmNoaWxkcmVuO1xuICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICBjaGlsZCA9IHJlZltqXTtcbiAgICBjaGlsZC5hbmltYXRlKHtcbiAgICAgIHk6IGNoaWxkLnkgLSBsaW5lSGVpZ2h0XG4gICAgfSk7XG4gIH1cbiAgbWVzc2FnZUFycmF5ID0gXy50b0FycmF5KG1lc3NhZ2UpO1xuICBpID0gMTtcbiAgaCA9IGxpbmVIZWlnaHQ7XG4gIHJlc3VsdHMgPSBbXTtcbiAgZm9yIChrID0gbWVzc2FnZUFycmF5Lmxlbmd0aCAtIDE7IGsgPj0gMDsgayArPSAtMSkge1xuICAgIG0gPSBtZXNzYWdlQXJyYXlba107XG4gICAgbGluZSA9IG5ldyBUZXh0TGF5ZXIoe1xuICAgICAgeDogMTIwLFxuICAgICAgdGV4dEFsaWduOiBcImxlZnRcIixcbiAgICAgIHk6IENhbnZhcy5oZWlnaHQgLSAyNTAgLSBoICogaSxcbiAgICAgIHRleHQ6IG0udGV4dCxcbiAgICAgIGNvbG9yOiBcIiMzMzNcIixcbiAgICAgIGZvbnQ6IFwiMTRweC8xLjUgSGVsdmV0aWNhXCJcbiAgICB9KTtcbiAgICBsaW5lLnBhcmVudCA9IHN0cmVhbTtcbiAgICByZXN1bHRzLnB1c2goaSsrKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn0pO1xuXG5idXR0b24ub25Nb3VzZVVwKGZ1bmN0aW9uKCkge1xuICBidXR0b24uaW1hZ2UgPSBcImltYWdlcy9idXR0b24ucG5nXCI7XG4gIHJldHVybiBwb3N0KCk7XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pTDFWelpYSnpMMnBsWm1aeVpYa3VhR0Z5Y21sekwwUmxkbVZzYjNCdFpXNTBMMlp5WVcxbGNpMXphMlYwWTJndFptbHlaV0poYzJVdFltOXBiR1Z5Y0d4aGRHVXZjM0pqTDJGd2NDNWpiMlptWldVaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SXZWWE5sY25NdmFtVm1abkpsZVM1b1lYSnlhWE12UkdWMlpXeHZjRzFsYm5RdlpuSmhiV1Z5TFhOclpYUmphQzFtYVhKbFltRnpaUzFpYjJsc1pYSndiR0YwWlM5emNtTXZZWEJ3TG1OdlptWmxaU0pkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lRVUZCUVN4SlFVRkJPenRCUVVGRExHbENRVUZyUWl4UFFVRkJMRU5CUVZFc1owSkJRVkk3TzBGQlEyeENMRkZCUVZNc1QwRkJRU3hEUVVGUkxGbEJRVkk3TzBGQlJWWXNTMEZCUVN4SFFVRlJMRTFCUVUwc1EwRkJReXhOUVVGTkxFTkJRVU03TzBGQlEzUkNMRTFCUVVFc1IwRkJVeXhOUVVGTkxFTkJRVU1zVFVGQlRTeERRVUZET3p0QlFVVjJRaXhWUVVGQkxFZEJRV0U3TzBGQlJXSXNUVUZCVFN4RFFVRkRMRkZCUVZFc1EwRkJReXhUUVVGb1FpeEhRVU5GTzBWQlFVRXNTMEZCUVN4RlFVRlBMRzlDUVVGUU96czdRVUZGUml4TlFVRkJMRWRCUVZNc1NVRkJTU3hqUVVGS0xFTkJRMUk3UlVGQlFTeFRRVUZCTEVWQlFWY3NOa0pCUVZnN1JVRkRRU3hOUVVGQkxFVkJRVkVzTUVOQlJGSTdSVUZGUVN4TlFVRkJMRVZCUVZFc1owTkJSbEk3UTBGRVVUczdRVUZMVkN4RlFVRkJMRWRCUVVzc1NVRkJTU3hsUVVGS0xFTkJRMFE3UlVGQlFTeGxRVUZCTEVWQlFXbENMRk5CUVdwQ08wTkJSRU03TzBGQlIwd3NUVUZCUVN4SFFVRlRMRWxCUVVrc1MwRkJTaXhEUVVOTU8wVkJRVUVzUTBGQlFTeEZRVUZKTEVOQlFVbzdSVUZEUVN4RFFVRkJMRVZCUVVrc1RVRkJUU3hEUVVGRExFMUJRVkFzUjBGQlowSXNSMEZFY0VJN1JVRkZRU3hMUVVGQkxFVkJRVThzVFVGQlRTeERRVUZETEV0QlJtUTdSVUZIUVN4TlFVRkJMRVZCUVZFc1IwRklVanRGUVVsQkxHVkJRVUVzUlVGQmFVSXNUVUZLYWtJN1EwRkVTenM3UVVGUFZDeE5RVUZCTEVkQlFWTXNTVUZCU1N4TFFVRktMRU5CUTB3N1JVRkJRU3hEUVVGQkxFVkJRVWNzUTBGQlNEdEZRVU5CTEVOQlFVRXNSVUZCUnl4RFFVUklPMFZCUlVFc1MwRkJRU3hGUVVGUExFMUJRVTBzUTBGQlF5eExRVVprTzBWQlIwRXNUVUZCUVN4RlFVRlJMRTFCUVUwc1EwRkJReXhOUVVGUUxFZEJRV2RDTEVkQlNIaENPMFZCU1VFc1pVRkJRU3hGUVVGcFFpeGhRVXBxUWp0RFFVUkxPenRCUVhWQ1ZDeE5RVUZCTEVkQlFWTXNTVUZCU1N4TFFVRktMRU5CUTB3N1JVRkJRU3hEUVVGQkxFVkJRVWNzUjBGQlNEdEZRVU5CTEVOQlFVRXNSVUZCUnl4TlFVRk5MRU5CUVVNc1RVRkJVQ3hIUVVGblFpeEhRVVJ1UWp0RlFVVkJMRXRCUVVFc1JVRkJUeXhGUVVaUU8wVkJSMEVzVFVGQlFTeEZRVUZSTEVWQlNGSTdSVUZKUVN4TFFVRkJMRVZCUVU4c2JVSkJTbEE3UTBGRVN6czdRVUZQVkN4TlFVRk5MRU5CUVVNc1YwRkJVQ3hEUVVGdFFpeFRRVUZCTzFOQlEyWXNUVUZCVFN4RFFVRkRMRXRCUVZBc1IwRkJaVHRCUVVSQkxFTkJRVzVDT3p0QlFVZEJMRXRCUVVFc1IwRkJVU3hKUVVGSkxFdEJRVW9zUTBGRFNqdEZRVUZCTEVOQlFVRXNSVUZCUnl4SFFVRklPMFZCUTBFc1EwRkJRU3hGUVVGSExFMUJRVTBzUTBGQlF5eE5RVUZRTEVkQlFXZENMRWRCUkc1Q08wVkJSVUVzUzBGQlFTeEZRVUZQTEVkQlJsQTdSVUZIUVN4TlFVRkJMRVZCUVZFc1JVRklVanRGUVVsQkxFdEJRVUVzUlVGQlR5eHJRa0ZLVUR0RFFVUkpPenRCUVU5U0xGTkJRVUVzUjBGQldTeEpRVUZKTEV0QlFVb3NRMEZEVWp0RlFVRkJMRXRCUVVFc1JVRkJUeXhMUVVGUU8wVkJRMEVzU1VGQlFTeEZRVUZOTEUxQlJFNDdSVUZGUVN4RFFVRkJMRVZCUVVjc1IwRkdTRHRGUVVkQkxFTkJRVUVzUlVGQlJ5eE5RVUZOTEVOQlFVTXNUVUZCVUN4SFFVRm5RaXhIUVVodVFqdEZRVWxCTEV0QlFVRXNSVUZCVHl4SFFVcFFPMFZCUzBFc1RVRkJRU3hGUVVGUkxFVkJURkk3UTBGRVVUczdRVUZSV2l4VFFVRlRMRU5CUVVNc1MwRkJWaXhIUVVOSk8wVkJRVUVzVVVGQlFTeEZRVUZWTEUxQlFWWTdSVUZEUVN4TFFVRkJMRVZCUVU4c1RVRkVVRHRGUVVWQkxGVkJRVUVzUlVGQldTeFhRVVphTzBWQlIwRXNUMEZCUVN4RlFVRlRMSEZDUVVoVU96czdRVUV3UWtvc1NVRkJRU3hIUVVGUExGTkJRVUU3UlVGRFNDeEpRVUZITEZOQlFWTXNRMEZCUXl4TFFVRkxMRU5CUVVNc1RVRkJia0k3VjBGRFNTeE5RVUZOTEVOQlFVTXNTVUZCVUN4RFFVRlpMRmRCUVZvc1JVRkJlVUk3VFVGQlF5eE5RVUZCTEVWQlFWRXNVMEZCVXl4RFFVRkRMRXRCUVc1Q08wdEJRWHBDTEVWQlJFbzdPMEZCUkVjN08wRkJaMEpRTEUxQlFVMHNRMEZCUXl4UlFVRlFMRU5CUVdkQ0xGZEJRV2hDTEVWQlFUWkNMRk5CUVVNc1QwRkJSRHRCUVVONlFpeE5RVUZCTzBGQlFVRTdRVUZCUVN4UFFVRkJMSEZEUVVGQk96dEpRVU5KTEV0QlFVc3NRMEZCUXl4UFFVRk9MRU5CUTBrN1RVRkJRU3hEUVVGQkxFVkJRVWNzUzBGQlN5eERRVUZETEVOQlFVNHNSMEZCVlN4VlFVRmlPMHRCUkVvN1FVRkVTanRGUVVkQkxGbEJRVUVzUjBGQlpTeERRVUZETEVOQlFVTXNUMEZCUml4RFFVRlZMRTlCUVZZN1JVRkZaaXhEUVVGQkxFZEJRVWs3UlVGRFNpeERRVUZCTEVkQlFVazdRVUZGU2p0UFFVRkJMRFJEUVVGQk96dEpRVVZKTEVsQlFVRXNSMEZCVHl4SlFVRkpMRk5CUVVvc1EwRkRTRHROUVVGQkxFTkJRVUVzUlVGQlJ5eEhRVUZJTzAxQlEwRXNVMEZCUVN4RlFVRlhMRTFCUkZnN1RVRkZRU3hEUVVGQkxFVkJRVWNzVFVGQlRTeERRVUZETEUxQlFWQXNSMEZCWjBJc1IwRkJhRUlzUjBGQmMwSXNRMEZCUVN4SFFVRkpMRU5CUmpkQ08wMUJSMEVzU1VGQlFTeEZRVUZOTEVOQlFVTXNRMEZCUXl4SlFVaFNPMDFCU1VFc1MwRkJRU3hGUVVGUExFMUJTbEE3VFVGTFFTeEpRVUZCTEVWQlFVMHNiMEpCVEU0N1MwRkVSenRKUVU5UUxFbEJRVWtzUTBGQlF5eE5RVUZNTEVkQlFXTTdhVUpCUTJRc1EwRkJRVHRCUVZaS096dEJRVlI1UWl4RFFVRTNRanM3UVVGcFEwRXNUVUZCVFN4RFFVRkRMRk5CUVZBc1EwRkJhVUlzVTBGQlFUdEZRVU5pTEUxQlFVMHNRMEZCUXl4TFFVRlFMRWRCUVdVN1UwRkRaaXhKUVVGQkxFTkJRVUU3UVVGR1lTeERRVUZxUWlKOVxuIiwidmFyIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5leHBvcnRzLkZpcmViYXNlRnJhbWVyID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgdmFyIGdldENPUlN1cmwsIHJlcXVlc3Q7XG5cbiAgZXh0ZW5kKEZpcmViYXNlRnJhbWVyLCBzdXBlckNsYXNzKTtcblxuICBnZXRDT1JTdXJsID0gZnVuY3Rpb24oc2VydmVyLCBwYXRoLCBzZWNyZXQsIHByb2plY3QpIHtcbiAgICB2YXIgdXJsO1xuICAgIHN3aXRjaCAoVXRpbHMuaXNXZWJLaXQoKSkge1xuICAgICAgY2FzZSB0cnVlOlxuICAgICAgICB1cmwgPSBcImh0dHBzOi8vXCIgKyBzZXJ2ZXIgKyBwYXRoICsgXCIuanNvbj9hdXRoPVwiICsgc2VjcmV0ICsgXCImbnM9XCIgKyBwcm9qZWN0ICsgXCImc3NlPXRydWVcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB1cmwgPSBcImh0dHBzOi8vXCIgKyBwcm9qZWN0ICsgXCIuZmlyZWJhc2Vpby5jb21cIiArIHBhdGggKyBcIi5qc29uP2F1dGg9XCIgKyBzZWNyZXQ7XG4gICAgfVxuICAgIHJldHVybiB1cmw7XG4gIH07XG5cbiAgRmlyZWJhc2VGcmFtZXIuZGVmaW5lKFwic3RhdHVzXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1cztcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIEZpcmViYXNlRnJhbWVyKG9wdGlvbnMpIHtcbiAgICB2YXIgYmFzZSwgYmFzZTEsIGJhc2UyLCBiYXNlMztcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zICE9IG51bGwgPyBvcHRpb25zIDoge307XG4gICAgdGhpcy5wcm9qZWN0SUQgPSAoYmFzZSA9IHRoaXMub3B0aW9ucykucHJvamVjdElEICE9IG51bGwgPyBiYXNlLnByb2plY3RJRCA6IGJhc2UucHJvamVjdElEID0gbnVsbDtcbiAgICB0aGlzLnNlY3JldCA9IChiYXNlMSA9IHRoaXMub3B0aW9ucykuc2VjcmV0ICE9IG51bGwgPyBiYXNlMS5zZWNyZXQgOiBiYXNlMS5zZWNyZXQgPSBudWxsO1xuICAgIHRoaXMuc2VydmVyID0gKGJhc2UyID0gdGhpcy5vcHRpb25zKS5zZXJ2ZXIgIT0gbnVsbCA/IGJhc2UyLnNlcnZlciA6IGJhc2UyLnNlcnZlciA9IHZvaWQgMDtcbiAgICB0aGlzLmRlYnVnID0gKGJhc2UzID0gdGhpcy5vcHRpb25zKS5kZWJ1ZyAhPSBudWxsID8gYmFzZTMuZGVidWcgOiBiYXNlMy5kZWJ1ZyA9IGZhbHNlO1xuICAgIGlmICh0aGlzLl9zdGF0dXMgPT0gbnVsbCkge1xuICAgICAgdGhpcy5fc3RhdHVzID0gXCJkaXNjb25uZWN0ZWRcIjtcbiAgICB9XG4gICAgRmlyZWJhc2VGcmFtZXIuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHRoaXMuc2VydmVyID09PSB2b2lkIDApIHtcbiAgICAgIFV0aWxzLmRvbUxvYWRKU09OKFwiaHR0cHM6Ly9cIiArIHRoaXMucHJvamVjdElEICsgXCIuZmlyZWJhc2Vpby5jb20vLnNldHRpbmdzL293bmVyLmpzb25cIiwgZnVuY3Rpb24oYSwgc2VydmVyKSB7XG4gICAgICAgIHZhciBtc2c7XG4gICAgICAgIHByaW50KG1zZyA9IFwiQWRkIF9fX19fXyBzZXJ2ZXI6XCIgKyAnICAgXCInICsgc2VydmVyICsgJ1wiJyArIFwiIF9fX19fIHRvIHlvdXIgaW5zdGFuY2Ugb2YgRmlyZWJhc2UuXCIpO1xuICAgICAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhcIkZpcmViYXNlOiBcIiArIG1zZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgY29uc29sZS5sb2coXCJGaXJlYmFzZTogQ29ubmVjdGluZyB0byBGaXJlYmFzZSBQcm9qZWN0ICdcIiArIHRoaXMucHJvamVjdElEICsgXCInIC4uLiBcXG4gVVJMOiAnXCIgKyAoZ2V0Q09SU3VybCh0aGlzLnNlcnZlciwgXCIvXCIsIHRoaXMuc2VjcmV0LCB0aGlzLnByb2plY3RJRCkpICsgXCInXCIpO1xuICAgIH1cbiAgICB0aGlzLm9uQ2hhbmdlKFwiY29ubmVjdGlvblwiKTtcbiAgfVxuXG4gIHJlcXVlc3QgPSBmdW5jdGlvbihwcm9qZWN0LCBzZWNyZXQsIHBhdGgsIGNhbGxiYWNrLCBtZXRob2QsIGRhdGEsIHBhcmFtZXRlcnMsIGRlYnVnKSB7XG4gICAgdmFyIHVybCwgeGh0dHA7XG4gICAgdXJsID0gXCJodHRwczovL1wiICsgcHJvamVjdCArIFwiLmZpcmViYXNlaW8uY29tXCIgKyBwYXRoICsgXCIuanNvbj9hdXRoPVwiICsgc2VjcmV0O1xuICAgIGlmIChwYXJhbWV0ZXJzICE9PSB2b2lkIDApIHtcbiAgICAgIGlmIChwYXJhbWV0ZXJzLnNoYWxsb3cpIHtcbiAgICAgICAgdXJsICs9IFwiJnNoYWxsb3c9dHJ1ZVwiO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtZXRlcnMuZm9ybWF0ID09PSBcImV4cG9ydFwiKSB7XG4gICAgICAgIHVybCArPSBcIiZmb3JtYXQ9ZXhwb3J0XCI7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKHBhcmFtZXRlcnMucHJpbnQpIHtcbiAgICAgICAgY2FzZSBcInByZXR0eVwiOlxuICAgICAgICAgIHVybCArPSBcIiZwcmludD1wcmV0dHlcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNpbGVudFwiOlxuICAgICAgICAgIHVybCArPSBcIiZwcmludD1zaWxlbnRcIjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcGFyYW1ldGVycy5kb3dubG9hZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB1cmwgKz0gXCImZG93bmxvYWQ9XCIgKyBwYXJhbWV0ZXJzLmRvd25sb2FkO1xuICAgICAgICB3aW5kb3cub3Blbih1cmwsIFwiX3NlbGZcIik7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhcmFtZXRlcnMub3JkZXJCeSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB1cmwgKz0gXCImb3JkZXJCeT1cIiArICdcIicgKyBwYXJhbWV0ZXJzLm9yZGVyQnkgKyAnXCInO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYXJhbWV0ZXJzLmxpbWl0VG9GaXJzdCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICB1cmwgKz0gXCImbGltaXRUb0ZpcnN0PVwiICsgcGFyYW1ldGVycy5saW1pdFRvRmlyc3Q7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhcmFtZXRlcnMubGltaXRUb0xhc3QgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdXJsICs9IFwiJmxpbWl0VG9MYXN0PVwiICsgcGFyYW1ldGVycy5saW1pdFRvTGFzdDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcGFyYW1ldGVycy5zdGFydEF0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHVybCArPSBcIiZzdGFydEF0PVwiICsgcGFyYW1ldGVycy5zdGFydEF0O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYXJhbWV0ZXJzLmVuZEF0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHVybCArPSBcIiZlbmRBdD1cIiArIHBhcmFtZXRlcnMuZW5kQXQ7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhcmFtZXRlcnMuZXF1YWxUbyA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICB1cmwgKz0gXCImZXF1YWxUbz1cIiArIHBhcmFtZXRlcnMuZXF1YWxUbztcbiAgICAgIH1cbiAgICB9XG4gICAgeGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3Q7XG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkZpcmViYXNlOiBOZXcgJ1wiICsgbWV0aG9kICsgXCInLXJlcXVlc3Qgd2l0aCBkYXRhOiAnXCIgKyAoSlNPTi5zdHJpbmdpZnkoZGF0YSkpICsgXCInIFxcbiBVUkw6ICdcIiArIHVybCArIFwiJ1wiKTtcbiAgICB9XG4gICAgeGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChwYXJhbWV0ZXJzICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBpZiAocGFyYW1ldGVycy5wcmludCA9PT0gXCJzaWxlbnRcIiB8fCB0eXBlb2YgcGFyYW1ldGVycy5kb3dubG9hZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHhodHRwLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaXJlYmFzZTogUmVxdWVzdCBub3QgaW5pdGlhbGl6ZWQgXFxuIFVSTDogJ1wiICsgdXJsICsgXCInXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmlyZWJhc2U6IFNlcnZlciBjb25uZWN0aW9uIGVzdGFibGlzaGVkIFxcbiBVUkw6ICdcIiArIHVybCArIFwiJ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpcmViYXNlOiBSZXF1ZXN0IHJlY2VpdmVkIFxcbiBVUkw6ICdcIiArIHVybCArIFwiJ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpcmViYXNlOiBQcm9jZXNzaW5nIHJlcXVlc3QgXFxuIFVSTDogJ1wiICsgdXJsICsgXCInXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2soSlNPTi5wYXJzZSh4aHR0cC5yZXNwb25zZVRleHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpcmViYXNlOiBSZXF1ZXN0IGZpbmlzaGVkLCByZXNwb25zZTogJ1wiICsgKEpTT04ucGFyc2UoeGh0dHAucmVzcG9uc2VUZXh0KSkgKyBcIicgXFxuIFVSTDogJ1wiICsgdXJsICsgXCInXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh4aHR0cC5zdGF0dXMgPT09IFwiNDA0XCIpIHtcbiAgICAgICAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLndhcm4oXCJGaXJlYmFzZTogSW52YWxpZCByZXF1ZXN0LCBwYWdlIG5vdCBmb3VuZCBcXG4gVVJMOiAnXCIgKyB1cmwgKyBcIidcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pKHRoaXMpO1xuICAgIHhodHRwLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICAgIHhodHRwLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIpO1xuICAgIHJldHVybiB4aHR0cC5zZW5kKGRhdGEgPSBcIlwiICsgKEpTT04uc3RyaW5naWZ5KGRhdGEpKSk7XG4gIH07XG5cbiAgRmlyZWJhc2VGcmFtZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHBhdGgsIGNhbGxiYWNrLCBwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIHJlcXVlc3QodGhpcy5wcm9qZWN0SUQsIHRoaXMuc2VjcmV0LCBwYXRoLCBjYWxsYmFjaywgXCJHRVRcIiwgbnVsbCwgcGFyYW1ldGVycywgdGhpcy5kZWJ1Zyk7XG4gIH07XG5cbiAgRmlyZWJhc2VGcmFtZXIucHJvdG90eXBlLnB1dCA9IGZ1bmN0aW9uKHBhdGgsIGRhdGEsIGNhbGxiYWNrLCBwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIHJlcXVlc3QodGhpcy5wcm9qZWN0SUQsIHRoaXMuc2VjcmV0LCBwYXRoLCBjYWxsYmFjaywgXCJQVVRcIiwgZGF0YSwgcGFyYW1ldGVycywgdGhpcy5kZWJ1Zyk7XG4gIH07XG5cbiAgRmlyZWJhc2VGcmFtZXIucHJvdG90eXBlLnBvc3QgPSBmdW5jdGlvbihwYXRoLCBkYXRhLCBjYWxsYmFjaywgcGFyYW1ldGVycykge1xuICAgIHJldHVybiByZXF1ZXN0KHRoaXMucHJvamVjdElELCB0aGlzLnNlY3JldCwgcGF0aCwgY2FsbGJhY2ssIFwiUE9TVFwiLCBkYXRhLCBwYXJhbWV0ZXJzLCB0aGlzLmRlYnVnKTtcbiAgfTtcblxuICBGaXJlYmFzZUZyYW1lci5wcm90b3R5cGUucGF0Y2ggPSBmdW5jdGlvbihwYXRoLCBkYXRhLCBjYWxsYmFjaywgcGFyYW1ldGVycykge1xuICAgIHJldHVybiByZXF1ZXN0KHRoaXMucHJvamVjdElELCB0aGlzLnNlY3JldCwgcGF0aCwgY2FsbGJhY2ssIFwiUEFUQ0hcIiwgZGF0YSwgcGFyYW1ldGVycywgdGhpcy5kZWJ1Zyk7XG4gIH07XG5cbiAgRmlyZWJhc2VGcmFtZXIucHJvdG90eXBlW1wiZGVsZXRlXCJdID0gZnVuY3Rpb24ocGF0aCwgY2FsbGJhY2ssIHBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gcmVxdWVzdCh0aGlzLnByb2plY3RJRCwgdGhpcy5zZWNyZXQsIHBhdGgsIGNhbGxiYWNrLCBcIkRFTEVURVwiLCBudWxsLCBwYXJhbWV0ZXJzLCB0aGlzLmRlYnVnKTtcbiAgfTtcblxuICBGaXJlYmFzZUZyYW1lci5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbihwYXRoLCBjYWxsYmFjaykge1xuICAgIHZhciBjdXJyZW50U3RhdHVzLCBzb3VyY2UsIHVybDtcbiAgICBpZiAocGF0aCA9PT0gXCJjb25uZWN0aW9uXCIpIHtcbiAgICAgIHVybCA9IGdldENPUlN1cmwodGhpcy5zZXJ2ZXIsIFwiL1wiLCB0aGlzLnNlY3JldCwgdGhpcy5wcm9qZWN0SUQpO1xuICAgICAgY3VycmVudFN0YXR1cyA9IFwiZGlzY29ubmVjdGVkXCI7XG4gICAgICBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UodXJsKTtcbiAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChjdXJyZW50U3RhdHVzID09PSBcImRpc2Nvbm5lY3RlZFwiKSB7XG4gICAgICAgICAgICBfdGhpcy5fc3RhdHVzID0gXCJjb25uZWN0ZWRcIjtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKFwiY29ubmVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLmRlYnVnKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmlyZWJhc2U6IENvbm5lY3Rpb24gdG8gRmlyZWJhc2UgUHJvamVjdCAnXCIgKyBfdGhpcy5wcm9qZWN0SUQgKyBcIicgZXN0YWJsaXNoZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjdXJyZW50U3RhdHVzID0gXCJjb25uZWN0ZWRcIjtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHJldHVybiBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnRTdGF0dXMgPT09IFwiY29ubmVjdGVkXCIpIHtcbiAgICAgICAgICAgIF90aGlzLl9zdGF0dXMgPSBcImRpc2Nvbm5lY3RlZFwiO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2soXCJkaXNjb25uZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMuZGVidWcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRmlyZWJhc2U6IENvbm5lY3Rpb24gdG8gRmlyZWJhc2UgUHJvamVjdCAnXCIgKyBfdGhpcy5wcm9qZWN0SUQgKyBcIicgY2xvc2VkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY3VycmVudFN0YXR1cyA9IFwiZGlzY29ubmVjdGVkXCI7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVybCA9IGdldENPUlN1cmwodGhpcy5zZXJ2ZXIsIHBhdGgsIHRoaXMuc2VjcmV0LCB0aGlzLnByb2plY3RJRCk7XG4gICAgICBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UodXJsKTtcbiAgICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRmlyZWJhc2U6IExpc3RlbmluZyB0byBjaGFuZ2VzIG1hZGUgdG8gJ1wiICsgcGF0aCArIFwiJyBcXG4gVVJMOiAnXCIgKyB1cmwgKyBcIidcIik7XG4gICAgICB9XG4gICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcInB1dFwiLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKEpTT04ucGFyc2UoZXYuZGF0YSkuZGF0YSwgXCJwdXRcIiwgSlNPTi5wYXJzZShldi5kYXRhKS5wYXRjaCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChfdGhpcy5kZWJ1Zykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKFwiRmlyZWJhc2U6IFJlY2VpdmVkIGNoYW5nZXMgbWFkZSB0byAnXCIgKyBwYXRoICsgXCInIHZpYSAnUFVUJzogXCIgKyAoSlNPTi5wYXJzZShldi5kYXRhKS5kYXRhKSArIFwiIFxcbiBVUkw6ICdcIiArIHVybCArIFwiJ1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICByZXR1cm4gc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJwYXRjaFwiLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKEpTT04ucGFyc2UoZXYuZGF0YSkuZGF0YSwgXCJwYXRjaFwiLCBKU09OLnBhcnNlKGV2LmRhdGEpLnBhdGNoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKF90aGlzLmRlYnVnKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coXCJGaXJlYmFzZTogUmVjZWl2ZWQgY2hhbmdlcyBtYWRlIHRvICdcIiArIHBhdGggKyBcIicgdmlhICdQQVRDSCc6IFwiICsgKEpTT04ucGFyc2UoZXYuZGF0YSkuZGF0YSkgKyBcIiBcXG4gVVJMOiAnXCIgKyB1cmwgKyBcIidcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gRmlyZWJhc2VGcmFtZXI7XG5cbn0pKEZyYW1lci5CYXNlQ2xhc3MpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lMMVZ6WlhKekwycGxabVp5WlhrdWFHRnljbWx6TDBSbGRtVnNiM0J0Wlc1MEwyWnlZVzFsY2kxemEyVjBZMmd0Wm1seVpXSmhjMlV0WW05cGJHVnljR3hoZEdVdmMzSmpMMjF2WkhWc1pYTXZabWx5WldKaGMyVm1jbUZ0WlhJdVkyOW1abVZsSWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE1pT2xzaUwxVnpaWEp6TDJwbFptWnlaWGt1YUdGeWNtbHpMMFJsZG1Wc2IzQnRaVzUwTDJaeVlXMWxjaTF6YTJWMFkyZ3RabWx5WldKaGMyVXRZbTlwYkdWeWNHeGhkR1V2YzNKakwyMXZaSFZzWlhNdlptbHlaV0poYzJWbWNtRnRaWEl1WTI5bVptVmxJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSkJRV2xDUVN4SlFVRkJPenM3UVVGQlRTeFBRVUZQTEVOQlFVTTdRVUZKWWl4TlFVRkJPenM3TzBWQlFVRXNWVUZCUVN4SFFVRmhMRk5CUVVNc1RVRkJSQ3hGUVVGVExFbEJRVlFzUlVGQlpTeE5RVUZtTEVWQlFYVkNMRTlCUVhaQ08wRkJSVm9zVVVGQlFUdEJRVUZCTEZsQlFVOHNTMEZCU3l4RFFVRkRMRkZCUVU0c1EwRkJRU3hEUVVGUU8wRkJRVUVzVjBGRFRTeEpRVVJPTzFGQlEyZENMRWRCUVVFc1IwRkJUU3hWUVVGQkxFZEJRVmNzVFVGQldDeEhRVUZ2UWl4SlFVRndRaXhIUVVGNVFpeGhRVUY2UWl4SFFVRnpReXhOUVVGMFF5eEhRVUUyUXl4TlFVRTNReXhIUVVGdFJDeFBRVUZ1UkN4SFFVRXlSRHRCUVVFelJUdEJRVVJPTzFGQlJXZENMRWRCUVVFc1IwRkJUU3hWUVVGQkxFZEJRVmNzVDBGQldDeEhRVUZ0UWl4cFFrRkJia0lzUjBGQmIwTXNTVUZCY0VNc1IwRkJlVU1zWVVGQmVrTXNSMEZCYzBRN1FVRkdOVVU3UVVGSlFTeFhRVUZQTzBWQlRrczdPMFZCVTJJc1kwRkJReXhEUVVGRExFMUJRVVlzUTBGQlV5eFJRVUZVTEVWQlEwTTdTVUZCUVN4SFFVRkJMRVZCUVVzc1UwRkJRVHRoUVVGSExFbEJRVU1zUTBGQlFUdEpRVUZLTEVOQlFVdzdSMEZFUkRzN1JVRkhZU3gzUWtGQlF5eFBRVUZFTzBGQlExb3NVVUZCUVR0SlFVUmhMRWxCUVVNc1EwRkJRU3cwUWtGQlJDeFZRVUZUTzBsQlEzUkNMRWxCUVVNc1EwRkJRU3hUUVVGRUxHbEVRVUZ4UWl4RFFVRkRMR2RDUVVGRUxFTkJRVU1zV1VGQllUdEpRVU51UXl4SlFVRkRMRU5CUVVFc1RVRkJSQ3huUkVGQmNVSXNRMEZCUXl4alFVRkVMRU5CUVVNc1UwRkJZVHRKUVVOdVF5eEpRVUZETEVOQlFVRXNUVUZCUkN4blJFRkJjVUlzUTBGQlF5eGpRVUZFTEVOQlFVTXNVMEZCWVR0SlFVTnVReXhKUVVGRExFTkJRVUVzUzBGQlJDd3JRMEZCY1VJc1EwRkJReXhoUVVGRUxFTkJRVU1zVVVGQllUczdUVUZEYmtNc1NVRkJReXhEUVVGQkxGVkJRV3RET3p0SlFVTnVReXhwUkVGQlFTeFRRVUZCTzBsQlIwRXNTVUZCUnl4SlFVRkRMRU5CUVVFc1RVRkJSQ3hMUVVGWExFMUJRV1E3VFVGRFF5eExRVUZMTEVOQlFVTXNWMEZCVGl4RFFVRnJRaXhWUVVGQkxFZEJRVmNzU1VGQlF5eERRVUZCTEZOQlFWb3NSMEZCYzBJc2MwTkJRWGhETEVWQlFTdEZMRk5CUVVNc1EwRkJSQ3hGUVVGSExFMUJRVWc3UVVGRE9VVXNXVUZCUVR0UlFVRkJMRXRCUVVFc1EwRkJUU3hIUVVGQkxFZEJRVTBzYjBKQlFVRXNSMEZCZFVJc1RVRkJka0lzUjBGQlowTXNUVUZCYUVNc1IwRkJlVU1zUjBGQmVrTXNSMEZCSzBNc2MwTkJRVE5FTzFGQlEwRXNTVUZCYTBNc1NVRkJReXhEUVVGQkxFdEJRVzVETzJsQ1FVRkJMRTlCUVU4c1EwRkJReXhIUVVGU0xFTkJRVmtzV1VGQlFTeEhRVUZoTEVkQlFYcENMRVZCUVVFN08wMUJSamhGTEVOQlFTOUZMRVZCUkVRN08wbEJUVUVzU1VGQmVVa3NTVUZCUXl4RFFVRkJMRXRCUVRGSk8wMUJRVUVzVDBGQlR5eERRVUZETEVkQlFWSXNRMEZCV1N3MFEwRkJRU3hIUVVFMlF5eEpRVUZETEVOQlFVRXNVMEZCT1VNc1IwRkJkMFFzYVVKQlFYaEVMRWRCUVhkRkxFTkJRVU1zVlVGQlFTeERRVUZYTEVsQlFVTXNRMEZCUVN4TlFVRmFMRVZCUVc5Q0xFZEJRWEJDTEVWQlFYbENMRWxCUVVNc1EwRkJRU3hOUVVFeFFpeEZRVUZyUXl4SlFVRkRMRU5CUVVFc1UwRkJia01zUTBGQlJDeERRVUY0UlN4SFFVRjFTQ3hIUVVGdVNTeEZRVUZCT3p0SlFVTkJMRWxCUVVNc1EwRkJReXhSUVVGR0xFTkJRVmNzV1VGQldEdEZRV2hDV1RzN1JVRnRRbUlzVDBGQlFTeEhRVUZWTEZOQlFVTXNUMEZCUkN4RlFVRlZMRTFCUVZZc1JVRkJhMElzU1VGQmJFSXNSVUZCZDBJc1VVRkJlRUlzUlVGQmEwTXNUVUZCYkVNc1JVRkJNRU1zU1VGQk1VTXNSVUZCWjBRc1ZVRkJhRVFzUlVGQk5FUXNTMEZCTlVRN1FVRkZWQ3hSUVVGQk8wbEJRVUVzUjBGQlFTeEhRVUZOTEZWQlFVRXNSMEZCVnl4UFFVRllMRWRCUVcxQ0xHbENRVUZ1UWl4SFFVRnZReXhKUVVGd1F5eEhRVUY1UXl4aFFVRjZReXhIUVVGelJEdEpRVWMxUkN4SlFVRlBMRlZCUVVFc1MwRkJZeXhOUVVGeVFqdE5RVU5ETEVsQlFVY3NWVUZCVlN4RFFVRkRMRTlCUVdRN1VVRkJjME1zUjBGQlFTeEpRVUZQTEdkQ1FVRTNRenM3VFVGRFFTeEpRVUZITEZWQlFWVXNRMEZCUXl4TlFVRllMRXRCUVhGQ0xGRkJRWGhDTzFGQlFYTkRMRWRCUVVFc1NVRkJUeXhwUWtGQk4wTTdPMEZCUlVFc1kwRkJUeXhWUVVGVkxFTkJRVU1zUzBGQmJFSTdRVUZCUVN4aFFVTk5MRkZCUkU0N1ZVRkRiMElzUjBGQlFTeEpRVUZQTzBGQlFYSkNPMEZCUkU0c1lVRkZUU3hSUVVaT08xVkJSVzlDTEVkQlFVRXNTVUZCVHp0QlFVWXpRanROUVVsQkxFbEJRVWNzVDBGQlR5eFZRVUZWTEVOQlFVTXNVVUZCYkVJc1MwRkJPRUlzVVVGQmFrTTdVVUZEUXl4SFFVRkJMRWxCUVU4c1dVRkJRU3hIUVVGaExGVkJRVlVzUTBGQlF6dFJRVU12UWl4TlFVRk5MRU5CUVVNc1NVRkJVQ3hEUVVGWkxFZEJRVm9zUlVGQlowSXNUMEZCYUVJc1JVRkdSRHM3VFVGTFFTeEpRVUYxUkN4UFFVRlBMRlZCUVZVc1EwRkJReXhQUVVGc1FpeExRVUZyUXl4UlFVRjZSanRSUVVGQkxFZEJRVUVzU1VGQlR5eFhRVUZCTEVkQlFXTXNSMEZCWkN4SFFVRnZRaXhWUVVGVkxFTkJRVU1zVDBGQkwwSXNSMEZCZVVNc1NVRkJhRVE3TzAxQlEwRXNTVUZCZFVRc1QwRkJUeXhWUVVGVkxFTkJRVU1zV1VGQmJFSXNTMEZCYTBNc1VVRkJla1k3VVVGQlFTeEhRVUZCTEVsQlFVOHNaMEpCUVVFc1IwRkJhVUlzVlVGQlZTeERRVUZETEdGQlFXNURPenROUVVOQkxFbEJRWFZFTEU5QlFVOHNWVUZCVlN4RFFVRkRMRmRCUVd4Q0xFdEJRV3RETEZGQlFYcEdPMUZCUVVFc1IwRkJRU3hKUVVGUExHVkJRVUVzUjBGQlowSXNWVUZCVlN4RFFVRkRMRmxCUVd4RE96dE5RVU5CTEVsQlFYVkVMRTlCUVU4c1ZVRkJWU3hEUVVGRExFOUJRV3hDTEV0QlFXdERMRkZCUVhwR08xRkJRVUVzUjBGQlFTeEpRVUZQTEZkQlFVRXNSMEZCV1N4VlFVRlZMRU5CUVVNc1VVRkJPVUk3TzAxQlEwRXNTVUZCZFVRc1QwRkJUeXhWUVVGVkxFTkJRVU1zUzBGQmJFSXNTMEZCYTBNc1VVRkJla1k3VVVGQlFTeEhRVUZCTEVsQlFVOHNVMEZCUVN4SFFVRlZMRlZCUVZVc1EwRkJReXhOUVVFMVFqczdUVUZEUVN4SlFVRjFSQ3hQUVVGUExGVkJRVlVzUTBGQlF5eFBRVUZzUWl4TFFVRnJReXhSUVVGNlJqdFJRVUZCTEVkQlFVRXNTVUZCVHl4WFFVRkJMRWRCUVZrc1ZVRkJWU3hEUVVGRExGRkJRVGxDTzA5QmJFSkVPenRKUVhGQ1FTeExRVUZCTEVkQlFWRXNTVUZCU1R0SlFVTmFMRWxCUVhsSExFdEJRWHBITzAxQlFVRXNUMEZCVHl4RFFVRkRMRWRCUVZJc1EwRkJXU3hwUWtGQlFTeEhRVUZyUWl4TlFVRnNRaXhIUVVGNVFpeDNRa0ZCZWtJc1IwRkJaMFFzUTBGQlF5eEpRVUZKTEVOQlFVTXNVMEZCVEN4RFFVRmxMRWxCUVdZc1EwRkJSQ3hEUVVGb1JDeEhRVUZ6UlN4aFFVRjBSU3hIUVVGdFJpeEhRVUZ1Uml4SFFVRjFSaXhIUVVGdVJ5eEZRVUZCT3p0SlFVTkJMRXRCUVVzc1EwRkJReXhyUWtGQlRpeEhRVUV5UWl4RFFVRkJMRk5CUVVFc1MwRkJRVHRoUVVGQkxGTkJRVUU3VVVGRk1VSXNTVUZCVHl4VlFVRkJMRXRCUVdNc1RVRkJja0k3VlVGRFF5eEpRVUZITEZWQlFWVXNRMEZCUXl4TFFVRllMRXRCUVc5Q0xGRkJRWEJDTEVsQlFXZERMRTlCUVU4c1ZVRkJWU3hEUVVGRExGRkJRV3hDTEV0QlFUaENMRkZCUVdwRk8wRkJRU3RGTEcxQ1FVRXZSVHRYUVVSRU96dEJRVWRCTEdkQ1FVRlBMRXRCUVVzc1EwRkJReXhWUVVGaU8wRkJRVUVzWlVGRFRTeERRVVJPTzFsQlEyRXNTVUZCTUVVc1MwRkJNVVU3WTBGQlFTeFBRVUZQTEVOQlFVTXNSMEZCVWl4RFFVRlpMRFpEUVVGQkxFZEJRVGhETEVkQlFUbERMRWRCUVd0RUxFZEJRVGxFTEVWQlFVRTdPMEZCUVZBN1FVRkVUaXhsUVVWTkxFTkJSazQ3V1VGRllTeEpRVUV3UlN4TFFVRXhSVHRqUVVGQkxFOUJRVThzUTBGQlF5eEhRVUZTTEVOQlFWa3NiVVJCUVVFc1IwRkJiMFFzUjBGQmNFUXNSMEZCZDBRc1IwRkJjRVVzUlVGQlFUczdRVUZCVUR0QlFVWk9MR1ZCUjAwc1EwRklUanRaUVVkaExFbEJRVEJGTEV0QlFURkZPMk5CUVVFc1QwRkJUeXhEUVVGRExFZEJRVklzUTBGQldTeHpRMEZCUVN4SFFVRjFReXhIUVVGMlF5eEhRVUV5UXl4SFFVRjJSQ3hGUVVGQk96dEJRVUZRTzBGQlNFNHNaVUZKVFN4RFFVcE9PMWxCU1dFc1NVRkJNRVVzUzBGQk1VVTdZMEZCUVN4UFFVRlBMRU5CUVVNc1IwRkJVaXhEUVVGWkxIZERRVUZCTEVkQlFYbERMRWRCUVhwRExFZEJRVFpETEVkQlFYcEVMRVZCUVVFN08wRkJRVkE3UVVGS1RpeGxRVXROTEVOQlRFNDdXVUZOUlN4SlFVRTBReXhuUWtGQk5VTTdZMEZCUVN4UlFVRkJMRU5CUVZNc1NVRkJTU3hEUVVGRExFdEJRVXdzUTBGQlZ5eExRVUZMTEVOQlFVTXNXVUZCYWtJc1EwRkJWQ3hGUVVGQk96dFpRVU5CTEVsQlFUUkhMRXRCUVRWSE8yTkJRVUVzVDBGQlR5eERRVUZETEVkQlFWSXNRMEZCV1N4NVEwRkJRU3hIUVVGNVF5eERRVUZETEVsQlFVa3NRMEZCUXl4TFFVRk1MRU5CUVZjc1MwRkJTeXhEUVVGRExGbEJRV3BDTEVOQlFVUXNRMEZCZWtNc1IwRkJlVVVzWVVGQmVrVXNSMEZCYzBZc1IwRkJkRVlzUjBGQk1FWXNSMEZCZEVjc1JVRkJRVHM3UVVGUVJqdFJRVk5CTEVsQlFVY3NTMEZCU3l4RFFVRkRMRTFCUVU0c1MwRkJaMElzUzBGQmJrSTdWVUZEUXl4SlFVRTJSU3hMUVVFM1JUdHRRa0ZCUVN4UFFVRlBMRU5CUVVNc1NVRkJVaXhEUVVGaExIRkVRVUZCTEVkQlFYTkVMRWRCUVhSRUxFZEJRVEJFTEVkQlFYWkZMRVZCUVVFN1YwRkVSRHM3VFVGa01FSTdTVUZCUVN4RFFVRkJMRU5CUVVFc1EwRkJRU3hKUVVGQk8wbEJhMEl6UWl4TFFVRkxMRU5CUVVNc1NVRkJUaXhEUVVGWExFMUJRVmdzUlVGQmJVSXNSMEZCYmtJc1JVRkJkMElzU1VGQmVFSTdTVUZEUVN4TFFVRkxMRU5CUVVNc1owSkJRVTRzUTBGQmRVSXNZMEZCZGtJc1JVRkJkVU1zYVVOQlFYWkRPMWRCUTBFc1MwRkJTeXhEUVVGRExFbEJRVTRzUTBGQlZ5eEpRVUZCTEVkQlFVOHNSVUZCUVN4SFFVRkZMRU5CUVVNc1NVRkJTU3hEUVVGRExGTkJRVXdzUTBGQlpTeEpRVUZtTEVOQlFVUXNRMEZCY0VJN1JVRm9SRk03T3pKQ1FYTkVWaXhIUVVGQkxFZEJRVkVzVTBGQlF5eEpRVUZFTEVWQlFVOHNVVUZCVUN4RlFVRjFRaXhWUVVGMlFqdFhRVUZ6UXl4UFFVRkJMRU5CUVZFc1NVRkJReXhEUVVGQkxGTkJRVlFzUlVGQmIwSXNTVUZCUXl4RFFVRkJMRTFCUVhKQ0xFVkJRVFpDTEVsQlFUZENMRVZCUVcxRExGRkJRVzVETEVWQlFUWkRMRXRCUVRkRExFVkJRWFZFTEVsQlFYWkVMRVZCUVRaRUxGVkJRVGRFTEVWQlFYbEZMRWxCUVVNc1EwRkJRU3hMUVVFeFJUdEZRVUYwUXpzN01rSkJRMUlzUjBGQlFTeEhRVUZSTEZOQlFVTXNTVUZCUkN4RlFVRlBMRWxCUVZBc1JVRkJZU3hSUVVGaUxFVkJRWFZDTEZWQlFYWkNPMWRCUVhORExFOUJRVUVzUTBGQlVTeEpRVUZETEVOQlFVRXNVMEZCVkN4RlFVRnZRaXhKUVVGRExFTkJRVUVzVFVGQmNrSXNSVUZCTmtJc1NVRkJOMElzUlVGQmJVTXNVVUZCYmtNc1JVRkJOa01zUzBGQk4wTXNSVUZCZFVRc1NVRkJka1FzUlVGQk5rUXNWVUZCTjBRc1JVRkJlVVVzU1VGQlF5eERRVUZCTEV0QlFURkZPMFZCUVhSRE96c3lRa0ZEVWl4SlFVRkJMRWRCUVZFc1UwRkJReXhKUVVGRUxFVkJRVThzU1VGQlVDeEZRVUZoTEZGQlFXSXNSVUZCZFVJc1ZVRkJka0k3VjBGQmMwTXNUMEZCUVN4RFFVRlJMRWxCUVVNc1EwRkJRU3hUUVVGVUxFVkJRVzlDTEVsQlFVTXNRMEZCUVN4TlFVRnlRaXhGUVVFMlFpeEpRVUUzUWl4RlFVRnRReXhSUVVGdVF5eEZRVUUyUXl4TlFVRTNReXhGUVVGMVJDeEpRVUYyUkN4RlFVRTJSQ3hWUVVFM1JDeEZRVUY1UlN4SlFVRkRMRU5CUVVFc1MwRkJNVVU3UlVGQmRFTTdPekpDUVVOU0xFdEJRVUVzUjBGQlVTeFRRVUZETEVsQlFVUXNSVUZCVHl4SlFVRlFMRVZCUVdFc1VVRkJZaXhGUVVGMVFpeFZRVUYyUWp0WFFVRnpReXhQUVVGQkxFTkJRVkVzU1VGQlF5eERRVUZCTEZOQlFWUXNSVUZCYjBJc1NVRkJReXhEUVVGQkxFMUJRWEpDTEVWQlFUWkNMRWxCUVRkQ0xFVkJRVzFETEZGQlFXNURMRVZCUVRaRExFOUJRVGRETEVWQlFYVkVMRWxCUVhaRUxFVkJRVFpFTEZWQlFUZEVMRVZCUVhsRkxFbEJRVU1zUTBGQlFTeExRVUV4UlR0RlFVRjBRenM3TkVKQlExSXNVVUZCUVN4SFFVRlJMRk5CUVVNc1NVRkJSQ3hGUVVGUExGRkJRVkFzUlVGQmRVSXNWVUZCZGtJN1YwRkJjME1zVDBGQlFTeERRVUZSTEVsQlFVTXNRMEZCUVN4VFFVRlVMRVZCUVc5Q0xFbEJRVU1zUTBGQlFTeE5RVUZ5UWl4RlFVRTJRaXhKUVVFM1FpeEZRVUZ0UXl4UlFVRnVReXhGUVVFMlF5eFJRVUUzUXl4RlFVRjFSQ3hKUVVGMlJDeEZRVUUyUkN4VlFVRTNSQ3hGUVVGNVJTeEpRVUZETEVOQlFVRXNTMEZCTVVVN1JVRkJkRU03T3pKQ1FVbFNMRkZCUVVFc1IwRkJWU3hUUVVGRExFbEJRVVFzUlVGQlR5eFJRVUZRTzBGQlIxUXNVVUZCUVR0SlFVRkJMRWxCUVVjc1NVRkJRU3hMUVVGUkxGbEJRVmc3VFVGRlF5eEhRVUZCTEVkQlFVMHNWVUZCUVN4RFFVRlhMRWxCUVVNc1EwRkJRU3hOUVVGYUxFVkJRVzlDTEVkQlFYQkNMRVZCUVhsQ0xFbEJRVU1zUTBGQlFTeE5RVUV4UWl4RlFVRnJReXhKUVVGRExFTkJRVUVzVTBGQmJrTTdUVUZEVGl4aFFVRkJMRWRCUVdkQ08wMUJRMmhDTEUxQlFVRXNSMEZCVXl4SlFVRkpMRmRCUVVvc1EwRkJaMElzUjBGQmFFSTdUVUZGVkN4TlFVRk5MRU5CUVVNc1owSkJRVkFzUTBGQmQwSXNUVUZCZUVJc1JVRkJaME1zUTBGQlFTeFRRVUZCTEV0QlFVRTdaVUZCUVN4VFFVRkJPMVZCUXk5Q0xFbEJRVWNzWVVGQlFTeExRVUZwUWl4alFVRndRanRaUVVORExFdEJRVU1zUTBGQlF5eFBRVUZHTEVkQlFWazdXVUZEV2l4SlFVRjVRaXhuUWtGQmVrSTdZMEZCUVN4UlFVRkJMRU5CUVZNc1YwRkJWQ3hGUVVGQk96dFpRVU5CTEVsQlFYTkdMRXRCUVVNc1EwRkJRU3hMUVVGMlJqdGpRVUZCTEU5QlFVOHNRMEZCUXl4SFFVRlNMRU5CUVZrc05FTkJRVUVzUjBGQk5rTXNTMEZCUXl4RFFVRkJMRk5CUVRsRExFZEJRWGRFTEdWQlFYQkZMRVZCUVVFN1lVRklSRHM3YVVKQlNVRXNZVUZCUVN4SFFVRm5RanRSUVV4bE8wMUJRVUVzUTBGQlFTeERRVUZCTEVOQlFVRXNTVUZCUVN4RFFVRm9RenRoUVU5QkxFMUJRVTBzUTBGQlF5eG5Ra0ZCVUN4RFFVRjNRaXhQUVVGNFFpeEZRVUZwUXl4RFFVRkJMRk5CUVVFc1MwRkJRVHRsUVVGQkxGTkJRVUU3VlVGRGFFTXNTVUZCUnl4aFFVRkJMRXRCUVdsQ0xGZEJRWEJDTzFsQlEwTXNTMEZCUXl4RFFVRkRMRTlCUVVZc1IwRkJXVHRaUVVOYUxFbEJRVFJDTEdkQ1FVRTFRanRqUVVGQkxGRkJRVUVzUTBGQlV5eGpRVUZVTEVWQlFVRTdPMWxCUTBFc1NVRkJhMFlzUzBGQlF5eERRVUZCTEV0QlFXNUdPMk5CUVVFc1QwRkJUeXhEUVVGRExFbEJRVklzUTBGQllTdzBRMEZCUVN4SFFVRTJReXhMUVVGRExFTkJRVUVzVTBGQk9VTXNSMEZCZDBRc1ZVRkJja1VzUlVGQlFUdGhRVWhFT3p0cFFrRkpRU3hoUVVGQkxFZEJRV2RDTzFGQlRHZENPMDFCUVVFc1EwRkJRU3hEUVVGQkxFTkJRVUVzU1VGQlFTeERRVUZxUXl4RlFXSkVPMHRCUVVFc1RVRkJRVHROUVhWQ1F5eEhRVUZCTEVkQlFVMHNWVUZCUVN4RFFVRlhMRWxCUVVNc1EwRkJRU3hOUVVGYUxFVkJRVzlDTEVsQlFYQkNMRVZCUVRCQ0xFbEJRVU1zUTBGQlFTeE5RVUV6UWl4RlFVRnRReXhKUVVGRExFTkJRVUVzVTBGQmNFTTdUVUZEVGl4TlFVRkJMRWRCUVZNc1NVRkJTU3hYUVVGS0xFTkJRV2RDTEVkQlFXaENPMDFCUTFRc1NVRkJiVVlzU1VGQlF5eERRVUZCTEV0QlFYQkdPMUZCUVVFc1QwRkJUeXhEUVVGRExFZEJRVklzUTBGQldTd3dRMEZCUVN4SFFVRXlReXhKUVVFelF5eEhRVUZuUkN4aFFVRm9SQ3hIUVVFMlJDeEhRVUUzUkN4SFFVRnBSU3hIUVVFM1JTeEZRVUZCT3p0TlFVVkJMRTFCUVUwc1EwRkJReXhuUWtGQlVDeERRVUYzUWl4TFFVRjRRaXhGUVVFclFpeERRVUZCTEZOQlFVRXNTMEZCUVR0bFFVRkJMRk5CUVVNc1JVRkJSRHRWUVVNNVFpeEpRVUYzUlN4blFrRkJlRVU3V1VGQlFTeFJRVUZCTEVOQlFWTXNTVUZCU1N4RFFVRkRMRXRCUVV3c1EwRkJWeXhGUVVGRkxFTkJRVU1zU1VGQlpDeERRVUZ0UWl4RFFVRkRMRWxCUVRkQ0xFVkJRVzFETEV0QlFXNURMRVZCUVRCRExFbEJRVWtzUTBGQlF5eExRVUZNTEVOQlFWY3NSVUZCUlN4RFFVRkRMRWxCUVdRc1EwRkJiVUlzUTBGQlF5eExRVUU1UkN4RlFVRkJPenRWUVVOQkxFbEJRWE5JTEV0QlFVTXNRMEZCUVN4TFFVRjJTRHR0UWtGQlFTeFBRVUZQTEVOQlFVTXNSMEZCVWl4RFFVRlpMSE5EUVVGQkxFZEJRWFZETEVsQlFYWkRMRWRCUVRSRExHVkJRVFZETEVkQlFUQkVMRU5CUVVNc1NVRkJTU3hEUVVGRExFdEJRVXdzUTBGQlZ5eEZRVUZGTEVOQlFVTXNTVUZCWkN4RFFVRnRRaXhEUVVGRExFbEJRWEpDTEVOQlFURkVMRWRCUVc5R0xGbEJRWEJHTEVkQlFXZEhMRWRCUVdoSExFZEJRVzlITEVkQlFXaElMRVZCUVVFN08xRkJSamhDTzAxQlFVRXNRMEZCUVN4RFFVRkJMRU5CUVVFc1NVRkJRU3hEUVVFdlFqdGhRVWxCTEUxQlFVMHNRMEZCUXl4blFrRkJVQ3hEUVVGM1FpeFBRVUY0UWl4RlFVRnBReXhEUVVGQkxGTkJRVUVzUzBGQlFUdGxRVUZCTEZOQlFVTXNSVUZCUkR0VlFVTm9ReXhKUVVFd1JTeG5Ra0ZCTVVVN1dVRkJRU3hSUVVGQkxFTkJRVk1zU1VGQlNTeERRVUZETEV0QlFVd3NRMEZCVnl4RlFVRkZMRU5CUVVNc1NVRkJaQ3hEUVVGdFFpeERRVUZETEVsQlFUZENMRVZCUVcxRExFOUJRVzVETEVWQlFUUkRMRWxCUVVrc1EwRkJReXhMUVVGTUxFTkJRVmNzUlVGQlJTeERRVUZETEVsQlFXUXNRMEZCYlVJc1EwRkJReXhMUVVGb1JTeEZRVUZCT3p0VlFVTkJMRWxCUVhkSUxFdEJRVU1zUTBGQlFTeExRVUY2U0R0dFFrRkJRU3hQUVVGUExFTkJRVU1zUjBGQlVpeERRVUZaTEhORFFVRkJMRWRCUVhWRExFbEJRWFpETEVkQlFUUkRMR2xDUVVFMVF5eEhRVUUwUkN4RFFVRkRMRWxCUVVrc1EwRkJReXhMUVVGTUxFTkJRVmNzUlVGQlJTeERRVUZETEVsQlFXUXNRMEZCYlVJc1EwRkJReXhKUVVGeVFpeERRVUUxUkN4SFFVRnpSaXhaUVVGMFJpeEhRVUZyUnl4SFFVRnNSeXhIUVVGelJ5eEhRVUZzU0N4RlFVRkJPenRSUVVablF6dE5RVUZCTEVOQlFVRXNRMEZCUVN4RFFVRkJMRWxCUVVFc1EwRkJha01zUlVFdlFrUTdPMFZCU0ZNN096czdSMEZxUnpCQ0xFMUJRVTBzUTBGQlF5SjlcbiIsInZhciBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuZXhwb3J0cy5JbnB1dCA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gIGV4dGVuZChJbnB1dCwgc3VwZXJDbGFzcyk7XG5cbiAgSW5wdXQuZGVmaW5lKFwic3R5bGVcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnB1dC5zdHlsZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBfLmV4dGVuZCh0aGlzLmlucHV0LnN0eWxlLCB2YWx1ZSk7XG4gICAgfVxuICB9KTtcblxuICBJbnB1dC5kZWZpbmUoXCJ2YWx1ZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmlucHV0LnZhbHVlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5wdXQudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIElucHV0KG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnNldHVwID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMuc2V0dXAgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMud2lkdGggPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucy53aWR0aCA9IFNjcmVlbi53aWR0aDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuY2xpcCA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zLmNsaXAgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuaGVpZ2h0ID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gNjA7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmJhY2tncm91bmRDb2xvciA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zLmJhY2tncm91bmRDb2xvciA9IG9wdGlvbnMuc2V0dXAgPyBcInJnYmEoMjU1LCA2MCwgNDcsIC41KVwiIDogXCJ0cmFuc3BhcmVudFwiO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5mb250U2l6ZSA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zLmZvbnRTaXplID0gMzA7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmxpbmVIZWlnaHQgPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucy5saW5lSGVpZ2h0ID0gMzA7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnBhZGRpbmcgPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucy5wYWRkaW5nID0gMTA7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmZvbnRGYW1pbHkgPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucy5mb250RmFtaWx5ID0gXCJcIjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMub3BhY2l0eSA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zLm9wYWNpdHkgPSAxO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy50ZXh0ID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMudGV4dCA9IFwiXCI7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnBsYWNlaG9sZGVyID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMucGxhY2Vob2xkZXIgPSBcIlwiO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy50eXBlID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMudHlwZSA9IFwidGV4dFwiO1xuICAgIH1cbiAgICBJbnB1dC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy5wbGFjZWhvbGRlckNvbG9yICE9IG51bGwpIHtcbiAgICAgIHRoaXMucGxhY2Vob2xkZXJDb2xvciA9IG9wdGlvbnMucGxhY2Vob2xkZXJDb2xvcjtcbiAgICB9XG4gICAgdGhpcy5pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICB0aGlzLmlucHV0LmlkID0gXCJpbnB1dC1cIiArIChfLm5vdygpKTtcbiAgICB0aGlzLmlucHV0LnN0eWxlLmNzc1RleHQgPSBcImZvbnQtc2l6ZTogXCIgKyBvcHRpb25zLmZvbnRTaXplICsgXCJweDsgbGluZS1oZWlnaHQ6IFwiICsgb3B0aW9ucy5saW5lSGVpZ2h0ICsgXCJweDsgcGFkZGluZzogXCIgKyBvcHRpb25zLnBhZGRpbmcgKyBcInB4OyB3aWR0aDogXCIgKyBvcHRpb25zLndpZHRoICsgXCJweDsgaGVpZ2h0OiBcIiArIG9wdGlvbnMuaGVpZ2h0ICsgXCJweDsgYm9yZGVyOiBub25lOyBvdXRsaW5lLXdpZHRoOiAwOyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoYWJvdXQ6YmxhbmspOyBiYWNrZ3JvdW5kLWNvbG9yOiBcIiArIG9wdGlvbnMuYmFja2dyb3VuZENvbG9yICsgXCI7IGZvbnQtZmFtaWx5OiBcIiArIG9wdGlvbnMuZm9udEZhbWlseSArIFwiOyBvcGFjaXR5OiBcIiArIG9wdGlvbnMub3BhY2l0eSArIFwiO1wiO1xuICAgIHRoaXMuaW5wdXQudmFsdWUgPSBvcHRpb25zLnRleHQ7XG4gICAgdGhpcy5pbnB1dC50eXBlID0gb3B0aW9ucy50eXBlO1xuICAgIHRoaXMuaW5wdXQucGxhY2Vob2xkZXIgPSBvcHRpb25zLnBsYWNlaG9sZGVyO1xuICAgIHRoaXMuZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xuICAgIHRoaXMuZm9ybS5hcHBlbmRDaGlsZCh0aGlzLmlucHV0KTtcbiAgICB0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZm9ybSk7XG4gICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBcInRyYW5zcGFyZW50XCI7XG4gICAgaWYgKHRoaXMucGxhY2Vob2xkZXJDb2xvcikge1xuICAgICAgdGhpcy51cGRhdGVQbGFjZWhvbGRlckNvbG9yKG9wdGlvbnMucGxhY2Vob2xkZXJDb2xvcik7XG4gICAgfVxuICB9XG5cbiAgSW5wdXQucHJvdG90eXBlLnVwZGF0ZVBsYWNlaG9sZGVyQ29sb3IgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHZhciBjc3M7XG4gICAgdGhpcy5wbGFjZWhvbGRlckNvbG9yID0gY29sb3I7XG4gICAgaWYgKHRoaXMucGFnZVN0eWxlICE9IG51bGwpIHtcbiAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQodGhpcy5wYWdlU3R5bGUpO1xuICAgIH1cbiAgICB0aGlzLnBhZ2VTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICB0aGlzLnBhZ2VTdHlsZS50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICAgIGNzcyA9IFwiI1wiICsgdGhpcy5pbnB1dC5pZCArIFwiOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyIHsgY29sb3I6IFwiICsgdGhpcy5wbGFjZWhvbGRlckNvbG9yICsgXCI7IH1cIjtcbiAgICB0aGlzLnBhZ2VTdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgICByZXR1cm4gZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0aGlzLnBhZ2VTdHlsZSk7XG4gIH07XG5cbiAgSW5wdXQucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXQuZm9jdXMoKTtcbiAgfTtcblxuICByZXR1cm4gSW5wdXQ7XG5cbn0pKExheWVyKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pTDFWelpYSnpMMnBsWm1aeVpYa3VhR0Z5Y21sekwwUmxkbVZzYjNCdFpXNTBMMlp5WVcxbGNpMXphMlYwWTJndFptbHlaV0poYzJVdFltOXBiR1Z5Y0d4aGRHVXZjM0pqTDIxdlpIVnNaWE12YVc1d2RYUm1hV1ZzWkM1amIyWm1aV1VpTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lJdlZYTmxjbk12YW1WbVpuSmxlUzVvWVhKeWFYTXZSR1YyWld4dmNHMWxiblF2Wm5KaGJXVnlMWE5yWlhSamFDMW1hWEpsWW1GelpTMWliMmxzWlhKd2JHRjBaUzl6Y21NdmJXOWtkV3hsY3k5cGJuQjFkR1pwWld4a0xtTnZabVpsWlNKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pUVVGRFFTeEpRVUZCT3pzN1FVRkJUU3hQUVVGUExFTkJRVU03T3p0RlFVTmlMRXRCUVVNc1EwRkJRU3hOUVVGRUxFTkJRVkVzVDBGQlVpeEZRVU5ETzBsQlFVRXNSMEZCUVN4RlFVRkxMRk5CUVVFN1lVRkJSeXhKUVVGRExFTkJRVUVzUzBGQlN5eERRVUZETzBsQlFWWXNRMEZCVER0SlFVTkJMRWRCUVVFc1JVRkJTeXhUUVVGRExFdEJRVVE3WVVGRFNpeERRVUZETEVOQlFVTXNUVUZCUml4RFFVRlRMRWxCUVVNc1EwRkJRU3hMUVVGTExFTkJRVU1zUzBGQmFFSXNSVUZCZFVJc1MwRkJka0k3U1VGRVNTeERRVVJNTzBkQlJFUTdPMFZCUzBFc1MwRkJReXhEUVVGQkxFMUJRVVFzUTBGQlVTeFBRVUZTTEVWQlEwTTdTVUZCUVN4SFFVRkJMRVZCUVVzc1UwRkJRVHRoUVVGSExFbEJRVU1zUTBGQlFTeExRVUZMTEVOQlFVTTdTVUZCVml4RFFVRk1PMGxCUTBFc1IwRkJRU3hGUVVGTExGTkJRVU1zUzBGQlJEdGhRVU5LTEVsQlFVTXNRMEZCUVN4TFFVRkxMRU5CUVVNc1MwRkJVQ3hIUVVGbE8wbEJSRmdzUTBGRVREdEhRVVJFT3p0RlFVdGhMR1ZCUVVNc1QwRkJSRHM3VFVGQlF5eFZRVUZWT3pzN1RVRkRka0lzVDBGQlR5eERRVUZETEZGQlFWTTdPenROUVVOcVFpeFBRVUZQTEVOQlFVTXNVVUZCVXl4TlFVRk5MRU5CUVVNN096dE5RVU40UWl4UFFVRlBMRU5CUVVNc1QwRkJVVHM3TzAxQlEyaENMRTlCUVU4c1EwRkJReXhUUVVGVk96czdUVUZEYkVJc1QwRkJUeXhEUVVGRExHdENRVUZ6UWl4UFFVRlBMRU5CUVVNc1MwRkJXQ3hIUVVGelFpeDFRa0ZCZEVJc1IwRkJiVVE3T3p0TlFVTTVSU3hQUVVGUExFTkJRVU1zVjBGQldUczdPMDFCUTNCQ0xFOUJRVThzUTBGQlF5eGhRVUZqT3pzN1RVRkRkRUlzVDBGQlR5eERRVUZETEZWQlFWYzdPenROUVVOdVFpeFBRVUZQTEVOQlFVTXNZVUZCWXpzN08wMUJRM1JDTEU5QlFVOHNRMEZCUXl4VlFVRlhPenM3VFVGRGJrSXNUMEZCVHl4RFFVRkRMRTlCUVZFN096dE5RVU5vUWl4UFFVRlBMRU5CUVVNc1kwRkJaVHM3TzAxQlEzWkNMRTlCUVU4c1EwRkJReXhQUVVGUk96dEpRVVZvUWl4MVEwRkJUU3hQUVVGT08wbEJSVUVzU1VGQlowUXNaME5CUVdoRU8wMUJRVUVzU1VGQlF5eERRVUZCTEdkQ1FVRkVMRWRCUVc5Q0xFOUJRVThzUTBGQlF5eHBRa0ZCTlVJN08wbEJRMEVzU1VGQlF5eERRVUZCTEV0QlFVUXNSMEZCVXl4UlFVRlJMRU5CUVVNc1lVRkJWQ3hEUVVGMVFpeFBRVUYyUWp0SlFVTlVMRWxCUVVNc1EwRkJRU3hMUVVGTExFTkJRVU1zUlVGQlVDeEhRVUZaTEZGQlFVRXNSMEZCVVN4RFFVRkRMRU5CUVVNc1EwRkJReXhIUVVGR0xFTkJRVUVzUTBGQlJEdEpRVU53UWl4SlFVRkRMRU5CUVVFc1MwRkJTeXhEUVVGRExFdEJRVXNzUTBGQlF5eFBRVUZpTEVkQlFYVkNMR0ZCUVVFc1IwRkJZeXhQUVVGUExFTkJRVU1zVVVGQmRFSXNSMEZCSzBJc2JVSkJRUzlDTEVkQlFXdEVMRTlCUVU4c1EwRkJReXhWUVVFeFJDeEhRVUZ4UlN4bFFVRnlSU3hIUVVGdlJpeFBRVUZQTEVOQlFVTXNUMEZCTlVZc1IwRkJiMGNzWVVGQmNFY3NSMEZCYVVnc1QwRkJUeXhEUVVGRExFdEJRWHBJTEVkQlFTdElMR05CUVM5SUxFZEJRVFpKTEU5QlFVOHNRMEZCUXl4TlFVRnlTaXhIUVVFMFNpdzBSa0ZCTlVvc1IwRkJkMUFzVDBGQlR5eERRVUZETEdWQlFXaFJMRWRCUVdkU0xHbENRVUZvVWl4SFFVRnBVeXhQUVVGUExFTkJRVU1zVlVGQmVsTXNSMEZCYjFRc1lVRkJjRlFzUjBGQmFWVXNUMEZCVHl4RFFVRkRMRTlCUVhwVkxFZEJRV2xXTzBsQlEzaFhMRWxCUVVNc1EwRkJRU3hMUVVGTExFTkJRVU1zUzBGQlVDeEhRVUZsTEU5QlFVOHNRMEZCUXp0SlFVTjJRaXhKUVVGRExFTkJRVUVzUzBGQlN5eERRVUZETEVsQlFWQXNSMEZCWXl4UFFVRlBMRU5CUVVNN1NVRkRkRUlzU1VGQlF5eERRVUZCTEV0QlFVc3NRMEZCUXl4WFFVRlFMRWRCUVhGQ0xFOUJRVThzUTBGQlF6dEpRVU0zUWl4SlFVRkRMRU5CUVVFc1NVRkJSQ3hIUVVGUkxGRkJRVkVzUTBGQlF5eGhRVUZVTEVOQlFYVkNMRTFCUVhaQ08wbEJSVklzU1VGQlF5eERRVUZCTEVsQlFVa3NRMEZCUXl4WFFVRk9MRU5CUVd0Q0xFbEJRVU1zUTBGQlFTeExRVUZ1UWp0SlFVTkJMRWxCUVVNc1EwRkJRU3hSUVVGUkxFTkJRVU1zVjBGQlZpeERRVUZ6UWl4SlFVRkRMRU5CUVVFc1NVRkJka0k3U1VGRlFTeEpRVUZETEVOQlFVRXNaVUZCUkN4SFFVRnRRanRKUVVOdVFpeEpRVUZ2UkN4SlFVRkRMRU5CUVVFc1owSkJRWEpFTzAxQlFVRXNTVUZCUXl4RFFVRkJMSE5DUVVGRUxFTkJRWGRDTEU5QlFVOHNRMEZCUXl4blFrRkJhRU1zUlVGQlFUczdSVUU1UWxrN08ydENRV2REWWl4elFrRkJRU3hIUVVGM1FpeFRRVUZETEV0QlFVUTdRVUZEZGtJc1VVRkJRVHRKUVVGQkxFbEJRVU1zUTBGQlFTeG5Ra0ZCUkN4SFFVRnZRanRKUVVOd1FpeEpRVUZITEhOQ1FVRklPMDFCUTBNc1VVRkJVU3hEUVVGRExFbEJRVWtzUTBGQlF5eFhRVUZrTEVOQlFUQkNMRWxCUVVNc1EwRkJRU3hUUVVFelFpeEZRVVJFT3p0SlFVVkJMRWxCUVVNc1EwRkJRU3hUUVVGRUxFZEJRV0VzVVVGQlVTeERRVUZETEdGQlFWUXNRMEZCZFVJc1QwRkJka0k3U1VGRFlpeEpRVUZETEVOQlFVRXNVMEZCVXl4RFFVRkRMRWxCUVZnc1IwRkJhMEk3U1VGRGJFSXNSMEZCUVN4SFFVRk5MRWRCUVVFc1IwRkJTU3hKUVVGRExFTkJRVUVzUzBGQlN5eERRVUZETEVWQlFWZ3NSMEZCWXl4MVEwRkJaQ3hIUVVGeFJDeEpRVUZETEVOQlFVRXNaMEpCUVhSRUxFZEJRWFZGTzBsQlF6ZEZMRWxCUVVNc1EwRkJRU3hUUVVGVExFTkJRVU1zVjBGQldDeERRVUYxUWl4UlFVRlJMRU5CUVVNc1kwRkJWQ3hEUVVGM1FpeEhRVUY0UWl4RFFVRjJRanRYUVVOQkxGRkJRVkVzUTBGQlF5eEpRVUZKTEVOQlFVTXNWMEZCWkN4RFFVRXdRaXhKUVVGRExFTkJRVUVzVTBGQk0wSTdSVUZTZFVJN08ydENRVlY0UWl4TFFVRkJMRWRCUVU4c1UwRkJRVHRYUVVOT0xFbEJRVU1zUTBGQlFTeExRVUZMTEVOQlFVTXNTMEZCVUN4RFFVRkJPMFZCUkUwN096czdSMEZ5Ukc5Q0luMD1cbiJdfQ=="}