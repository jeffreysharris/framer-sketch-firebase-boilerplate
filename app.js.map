{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/browserify/lib/_empty.js","node_modules/file-match/file-match.js","node_modules/file-system/file-system.js","node_modules/path-browserify/index.js","node_modules/process/browser.js","node_modules/util/node_modules/inherits/inherits_browser.js","node_modules/util/support/isBufferBrowser.js","node_modules/util/util.js","node_modules/utils-extend/index.js","src/app.coffee","src/modules/firebaseframer.coffee","src/modules/inputfield.coffee"],"names":[],"mappings":"AAAA;ACAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC1kBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","","var util = require('utils-extend');\n/**\n * @description\n * @example\n * `**\\/*` match all files\n * `*.js`  only match current dir files\n * '**\\/*.js' match all js files\n * 'path/*.js' match js files in path\n * '!*.js' exclude js files \n */\nfunction fileMatch(filter, ignore) {\n  if (filter === null) {\n    return function() {\n      return true;\n    };\n  } else if (filter === '' || (util.isArray(filter) && !filter.length)) {\n    return function() {\n      return false;\n    };\n  }\n\n  if (util.isString(filter)) {\n    filter = [filter];\n  }\n\n  var match = [];\n  var negate = [];\n  var isIgnore = ignore ? 'i' : '';\n\n  filter.forEach(function(item) {\n    var isNegate = item.indexOf('!') === 0;\n    item = item\n      .replace(/^!/, '')\n      .replace(/\\*(?![\\/*])/, '[^/]*?')\n      .replace('**\\/', '([^/]+\\/)*')\n      .replace(/\\{([^\\}]+)\\}/g, function($1, $2) {\n        var collection = $2.split(',');\n        var length = collection.length;\n        var result = '(?:';\n\n        collection.forEach(function(item, index) {\n          result += '(' + item.trim() + ')';\n\n          if (index + 1 !== length) {\n            result += '|';\n          }\n        });\n\n        result += ')';\n\n        return result;\n      })\n      .replace(/([\\/\\.])/g, '\\\\$1');\n\n    item = '(^' + item + '$)';\n\n    if (isNegate) {\n      negate.push(item);\n    } else {\n      match.push(item);\n    }\n  });\n\n  match = match.length ?  new RegExp(match.join('|'), isIgnore) : null;\n  negate = negate.length ? new RegExp(negate.join('|'), isIgnore) : null;\n\n  return function(filepath) {\n    // Normalize \\\\ paths to / paths.\n    filepath = util.path.unixifyPath(filepath);\n\n    if (negate && negate.test(filepath)) {\n      return false;\n    }\n\n    if (match && match.test(filepath)) {\n      return true;\n    }\n\n    return false;\n  };\n}\n\nmodule.exports = fileMatch;","/**\n * @fileoverview Strengthen the ability of file system\n * @author wliao <wliao@Ctrip.com> \n */\nvar fs = require('fs');\nvar util = require('utils-extend');\nvar path = require('path');\nvar fileMatch = require('file-match');\n\nfunction checkCbAndOpts(options, callback) {\n  if (util.isFunction(options)) {\n    return {\n      options: null,\n      callback: options\n    };\n  } else if (util.isObject(options)) {\n    return {\n      options: options,\n      callback: callback\n    };\n  } else {\n    return {\n      options: null,\n      callback: util.noop\n    };\n  }\n}\n\nfunction getExists(filepath) {\n  var exists = fs.existsSync(filepath);\n\n  if (exists) {\n    return filepath;\n  } else {\n    return getExists(path.dirname(filepath));\n  }\n}\n\nutil.extend(exports, fs);\n\n/**\n * @description\n * Assign node origin methods to fs\n */\nexports.fs = fs;\n\nexports.fileMatch = fileMatch;\n\n/**\n * @description\n * Create dir, if dir exist, it will only invoke callback.\n *\n * @example\n * ```js\n *   fs.mkdir('1/2/3/4/5', 511);\n *   fs.mkdir('path/2/3', function() {});\n * ```\n */\nexports.mkdir = function(filepath, mode, callback) {\n  var root = getExists(filepath);\n  var children  = path.relative(root, filepath);\n\n  if (util.isFunction(mode)) {\n    callback = mode;\n    mode = null;\n  }\n\n  if (!util.isFunction(callback)) {\n    callback = util.noop;\n  }\n\n  mode = mode || 511;\n\n  if (!children) return callback();\n\n  children = children.split(path.sep);\n\n  function create(filepath) {\n    if (create.count === children.length) {\n      return callback();\n    }\n\n    filepath = path.join(filepath, children[create.count]);\n\n    fs.mkdir(filepath, mode, function(err) {\n      create.count++;\n      create(filepath);\n    });\n  }\n\n  create.count = 0;\n  create(root);\n};\n\n/**\n * @description\n * Same as mkdir, but it is synchronous\n */\nexports.mkdirSync = function(filepath, mode) {\n  var root = getExists(filepath);\n  var children  = path.relative(root, filepath);\n\n  if (!children) return;\n\n  children = children.split(path.sep);\n\n  children.forEach(function(item) {\n    root = path.join(root, item);\n    fs.mkdirSync(root, mode);\n  });\n};\n\n/**\n * @description \n * Create file, if path don't exists, it will not throw error.\n * And will mkdir for path, it is asynchronous\n * \n * @example\n * ```js\n *   fs.writeFile('path/filename.txt', 'something')\n *   fs.writeFile('path/filename.txt', 'something', {})\n * ```\n */\nexports.writeFile = function(filename, data, options, callback) {\n  var result = checkCbAndOpts(options, callback);\n  var dirname = path.dirname(filename);\n  options = result.options;\n  callback = result.callback;\n\n  // Create dir first\n  exports.mkdir(dirname, function() {\n    fs.writeFile(filename, data, options, callback);\n  });\n};\n\n/**\n * @description\n * Same as writeFile, but it is synchronous\n */\nexports.writeFileSync = function(filename, data, options) {\n  var dirname = path.dirname(filename);\n\n  exports.mkdirSync(dirname);\n  fs.writeFileSync(filename, data, options);\n};\n\n/**\n * @description\n * Asynchronously copy a file\n * @example\n * file.copyFile('demo.txt', 'demo.dest.txt', { done: function(err) { }})\n */\nexports.copyFile = function(srcpath, destpath, options) {\n  options = util.extend({\n    encoding: 'utf8',\n    done: util.noop\n  }, options || {});\n\n  if (!options.process) {\n    options.encoding = null;\n  }\n\n  fs.readFile(srcpath, {\n    encoding: options.encoding\n  }, function(err, contents) {\n    if (err) return options.done(err);\n\n    if (options.process) {\n      contents = options.process(contents);\n    }\n\n    exports.writeFile(destpath, contents, options, options.done);\n  });\n};\n\n/**\n * @description\n * Copy file to dest, if no process options, it will only copy file to dest\n * @example\n * file.copyFileSync('demo.txt', 'demo.dest.txt' { process: function(contents) { }});\n * file.copyFileSync('demo.png', 'dest.png');\n */\nexports.copyFileSync = function(srcpath, destpath, options) {\n  options = util.extend({\n    encoding: 'utf8' \n  }, options || {});\n  var contents;\n\n  if (options.process) {\n    contents = fs.readFileSync(srcpath, options);\n    contents = options.process(contents, srcpath, options.relative);\n\n    if (util.isObject(contents) && contents.filepath) {\n      destpath = contents.filepath;\n      contents = contents.contents;\n    }\n\n    exports.writeFileSync(destpath, contents, options);    \n  } else {\n    contents = fs.readFileSync(srcpath);\n    exports.writeFileSync(destpath, contents);\n  }\n};\n\n/**\n * @description\n * Recurse into a directory, executing callback for each file and folder\n * if the filename is undefiend, the callback is for folder, otherwise for file.\n * and it is asynchronous\n * @example\n * file.recurse('path', function(filepath, filename) { });\n * file.recurse('path', ['*.js', 'path/**\\/*.html'], function(filepath, relative, filename) { });\n */\nexports.recurse = function(dirpath, filter, callback) {\n  if (util.isFunction(filter)) {\n    callback = filter;\n    filter = null;\n  }\n  var filterCb = fileMatch(filter);\n  var rootpath = dirpath;\n\n  function recurse(dirpath) {\n    fs.readdir(dirpath, function(err, files) {\n      if (err) return callback(err);\n\n      files.forEach(function(filename) {\n        var filepath = path.join(dirpath, filename);\n\n        fs.stat(filepath, function(err, stats) {\n            var relative = path.relative(rootpath, filepath);\n            var flag = filterCb(relative);\n\n            if (stats.isDirectory()) {\n              recurse(filepath);\n              if (flag) callback(filepath, relative);\n            } else {\n              if (flag) callback(filepath, relative, filename);\n            }\n          });\n        });\n    });\n  }\n\n  recurse(dirpath);\n};\n\n/**\n * @description\n * Same as recurse, but it is synchronous\n * @example\n * file.recurseSync('path', function(filepath, filename) {});\n * file.recurseSync('path', ['*.js', 'path/**\\/*.html'], function(filepath, relative, filename) {});\n */\nexports.recurseSync = function(dirpath, filter, callback) {\n  if (util.isFunction(filter)) {\n    callback = filter;\n    filter = null;\n  }\n  var filterCb = fileMatch(filter);\n  var rootpath = dirpath;\n\n  function recurse(dirpath) {\n    fs.readdirSync(dirpath).forEach(function(filename) {\n      var filepath = path.join(dirpath, filename);\n      var stats = fs.statSync(filepath);\n      var relative = path.relative(rootpath, filepath);\n      var flag = filterCb(relative);\n\n      if (stats.isDirectory()) {\n        recurse(filepath);\n        if (flag) callback(filepath, relative);\n      } else {\n        if (flag) callback(filepath, relative, filename);\n      }\n    });\n  }\n\n  recurse(dirpath);\n};\n\n/**\n * @description\n * Remove folder and files in folder, but it's synchronous\n * @example\n * file.rmdirSync('path');\n */\nexports.rmdirSync = function(dirpath) {\n  exports.recurseSync(dirpath, function(filepath, relative, filename) {\n    // it is file, otherwise it's folder\n    if (filename) {\n      fs.unlinkSync(filepath);\n    } else {\n      fs.rmdirSync(filepath);\n    }\n  });\n\n  fs.rmdirSync(dirpath);\n};\n\n/**\n * @description\n * Copy dirpath to destpath, pass process callback for each file hanlder\n * if you want to change the dest filepath, process callback return { contents: '', filepath: ''}\n * otherwise only change contents\n * @example\n * file.copySync('path', 'dest');\n * file.copySync('src', 'dest/src');\n * file.copySync('path', 'dest', { process: function(contents, filepath) {} });\n * file.copySync('path', 'dest', { process: function(contents, filepath) {} }, noProcess: ['']);\n */\nexports.copySync = function(dirpath, destpath, options) {\n  options = util.extend({\n    encoding: 'utf8',\n    filter: null,\n    noProcess: ''\n  }, options || {});\n  var noProcessCb = fileMatch(options.noProcess);\n\n  // Make sure dest root\n  exports.mkdirSync(destpath);\n  exports.recurseSync(dirpath, options.filter, function(filepath, relative, filename) {\n    if (!filename) return;\n    var newpath = path.join(destpath, relative);\n    var opts = {\n      relative: relative\n    };\n\n    if (options.process && !noProcessCb(relative)) {\n      opts.encoding = options.encoding;\n      opts.process = options.process;\n    }\n\n    exports.copyFileSync(filepath, newpath, opts);\n  });\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","/**\n * @fileoverview Extend node util module\n * @author douzi <liaowei08@gmail.com> \n */\nvar util = require('util');\nvar toString = Object.prototype.toString;\nvar isWindows = process.platform === 'win32';\n\nfunction isObject(value) {\n  return toString.call(value) === '[object Object]';\n}\n\n// And type check method: isFunction, isString, isNumber, isDate, isRegExp, isObject\n['Function', 'String', 'Number', 'Date', 'RegExp'].forEach(function(item) {\n  exports['is' + item]  = function(value) {\n    return toString.call(value) === '[object ' + item + ']';\n  };\n});\n\n/**\n * @description\n * Deep extend\n * @example\n * extend({ key: { k1: 'v1'} }, { key: { k2: 'v2' }, none: { k: 'v' } });\n * extend({ arr: [] }, { arr: [ {}, {} ] });\n */\nfunction extend(target, source) {\n  var value;\n\n  for (var key in source) {\n    value = source[key];\n\n    if (Array.isArray(value)) {\n      if (!Array.isArray(target[key])) {\n        target[key] = [];\n      }\n\n      extend(target[key], value);\n    } else if (isObject(value)) {\n      if (!isObject(target[key])) {\n        target[key]  = {};\n      }\n\n      extend(target[key], value);\n    } else {\n      target[key] = value;\n    }\n  }\n\n  return target;\n}\n\nextend(exports, util);\n\n// fixed util.isObject \nexports.isObject = isObject;\n\nexports.extend = function() {\n  var args = Array.prototype.slice.call(arguments, 0);\n  var target = args.shift();\n\n  args.forEach(function(item) {\n    extend(target, item);\n  });\n\n  return target;\n};\n\nexports.isArray = Array.isArray;\n\nexports.isUndefined = function(value) {\n  return typeof value == 'undefined';\n};\n\nexports.noop = function() {};\n\nexports.unique = function(array) {\n  var result = [];\n\n  array.forEach(function(item) {\n    if (result.indexOf(item) == -1) {\n      result.push(item);\n    }\n  });\n\n  return result;\n};\n\nexports.escape = function(value) {\n  return String(value)\n    .replace(/&/g, '&amp;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n};\n\nexports.unescape = function(value) {\n  return String(value)\n    .replace(/&amp;/g, '&')\n    .replace(/&quot;/g, '\"')\n    .replace(/&#39;/g, \"'\")\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>');\n};\n\nexports.hrtime = function(time) {\n  if (time) {\n    var spend = process.hrtime(time);\n    \n    spend = (spend[0] + spend[1] / 1e9) * 1000 + 'ms';\n\n    return spend;\n  } else {\n    return process.hrtime();\n  }\n};\n\n/**\n * @description\n * Return a copy of the object with list keys\n * @example\n * util.pick({ key: 'value' }, 'key', 'key1');\n * util.pick(obj, function(value, key, object) { });\n */\nexports.pick = function(obj, iteratee) {\n  var result = {};\n\n  if (exports.isFunction(iteratee)) {\n    for (var key in obj) {\n      var value = obj[key];\n      if (iteratee(value, key, obj)) {\n        result[key] = value;\n      }\n    }\n  } else {\n    var keys = Array.prototype.slice.call(arguments, 1);\n\n    keys.forEach(function(key) {\n      if (key in obj) {\n        result[key] = obj[key];\n      }\n    });\n  }\n\n  return result;\n};\n\nexports.path = {};\n\nif (isWindows) {\n  // Regex to split a windows path into three parts: [*, device, slash,\n  // tail] windows-only\n  var splitDeviceRe =\n      /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/;\n\n  exports.path.isAbsolute = function(filepath) {\n    var result = splitDeviceRe.exec(filepath),\n        device = result[1] || '',\n        isUnc = !!device && device.charAt(1) !== ':';\n    // UNC paths are always absolute\n    return !!result[2] || isUnc;\n  };\n\n  // Normalize \\\\ paths to / paths.\n  exports.path.unixifyPath = function(filepath) {\n    return filepath.replace(/\\\\/g, '/');\n  };\n\n} else {\n  exports.path.isAbsolute = function(filepath) {\n    return filepath.charAt(0) === '/';\n  };\n\n  exports.path.unixifyPath = function(filepath) {\n    return filepath;\n  };\n}","var FirebaseFramer, HEIGHT, Input, WIDTH, bg, button, demoDB, field, footer, fs, images, lineHeight, post, stream, textfield;\n\nimages = '/images';\n\nfs = require('../node_modules/file-system');\n\nFirebaseFramer = require('firebaseframer').FirebaseFramer;\n\nInput = require(\"inputfield\").Input;\n\nWIDTH = Framer.Screen.width;\n\nHEIGHT = Framer.Screen.height;\n\nlineHeight = 30;\n\nfs.readdir(images, function(err, files) {\n  var file, j, len, results;\n  results = [];\n  for (j = 0, len = files.length; j < len; j++) {\n    file = files[j];\n    results.push(console.log(file));\n  }\n  return results;\n});\n\nFramer.Defaults.Animation = {\n  curve: 'spring(150, 10, 0)'\n};\n\ndemoDB = new FirebaseFramer({\n  projectID: \"framer-sketch-firebase-test\",\n  secret: \"lHwsK4ljhwUmMt3EU1ybrMPQcSDgbKhvTIwuqJ9I\",\n  server: \"s-usc1c-nss-134.firebaseio.com\"\n});\n\nbg = new BackgroundLayer({\n  backgroundColor: \"#fafafa\"\n});\n\nfooter = new Layer({\n  x: 0,\n  y: Canvas.height - 230,\n  width: Canvas.width,\n  height: 230,\n  backgroundColor: \"#999\"\n});\n\nstream = new Layer({\n  x: 0,\n  y: 0,\n  width: Canvas.width,\n  height: Canvas.height - 230,\n  backgroundColor: \"transparent\"\n});\n\nbutton = new Layer({\n  x: 620,\n  y: Canvas.height - 200,\n  width: 50,\n  height: 50,\n  image: \"images/button.png\"\n});\n\nbutton.onMouseDown(function() {\n  return button.image = \"images/button-down.png\";\n});\n\nfield = new Layer({\n  x: 100,\n  y: Canvas.height - 200,\n  width: 520,\n  height: 50,\n  image: \"images/field.png\"\n});\n\ntextfield = new Input({\n  setup: false,\n  type: \"text\",\n  x: 100,\n  y: Canvas.height - 200,\n  width: 500,\n  height: 30\n});\n\ntextfield.style = {\n  fontSize: \"14px\",\n  color: \"#333\",\n  fontFamily: \"Helvetica\",\n  padding: \"10px 10px 10px 20px\"\n};\n\npost = function() {\n  if (textfield.value.length) {\n    return demoDB.post('/messages', {\n      \"text\": textfield.value\n    });\n  }\n};\n\ndemoDB.onChange(\"/messages\", function(message) {\n  var child, h, i, j, k, len, line, m, messageArray, ref, ref1, results, t;\n  ref = stream.children;\n  for (j = 0, len = ref.length; j < len; j++) {\n    child = ref[j];\n    child.animate({\n      y: child.y - lineHeight\n    });\n  }\n  messageArray = _.toArray(message);\n  i = 1;\n  h = lineHeight;\n  results = [];\n  for (k = messageArray.length - 1; k >= 0; k += -1) {\n    m = messageArray[k];\n    t = (ref1 = m.text) != null ? ref1 : m;\n    line = new TextLayer({\n      x: 120,\n      textAlign: \"left\",\n      y: Canvas.height - 250 - h * i,\n      text: t,\n      color: \"#333\",\n      font: \"14px/1.5 Helvetica\"\n    });\n    line.parent = stream;\n    results.push(i++);\n  }\n  return results;\n});\n\nbutton.onMouseUp(function() {\n  button.image = \"images/button.png\";\n  return post();\n});\n\ndocument.addEventListener('keypress', function(event) {\n  if (event.keyCode === 13) {\n    event.preventDefault();\n    post();\n    return textfield.value = \"\";\n  }\n});\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2plZmZyZXkuaGFycmlzL0RldmVsb3BtZW50L2ZyYW1lci1za2V0Y2gtZmlyZWJhc2UtYm9pbGVycGxhdGUvc3JjL2FwcC5jb2ZmZWUiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvVXNlcnMvamVmZnJleS5oYXJyaXMvRGV2ZWxvcG1lbnQvZnJhbWVyLXNrZXRjaC1maXJlYmFzZS1ib2lsZXJwbGF0ZS9zcmMvYXBwLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBOztBQUFBLE1BQUEsR0FBUzs7QUFDVCxFQUFBLEdBQUssT0FBQSxDQUFRLDZCQUFSOztBQUNKLGlCQUFrQixPQUFBLENBQVEsZ0JBQVI7O0FBQ2xCLFFBQVMsT0FBQSxDQUFRLFlBQVI7O0FBRVYsS0FBQSxHQUFRLE1BQU0sQ0FBQyxNQUFNLENBQUM7O0FBQ3RCLE1BQUEsR0FBUyxNQUFNLENBQUMsTUFBTSxDQUFDOztBQUV2QixVQUFBLEdBQWE7O0FBRWIsRUFBRSxDQUFDLE9BQUgsQ0FBVyxNQUFYLEVBQW1CLFNBQUMsR0FBRCxFQUFNLEtBQU47QUFDakIsTUFBQTtBQUFBO09BQUEsdUNBQUE7O2lCQUNFLE9BQU8sQ0FBQyxHQUFSLENBQVksSUFBWjtBQURGOztBQURpQixDQUFuQjs7QUFJQSxNQUFNLENBQUMsUUFBUSxDQUFDLFNBQWhCLEdBQ0U7RUFBQSxLQUFBLEVBQU8sb0JBQVA7OztBQUVGLE1BQUEsR0FBUyxJQUFJLGNBQUosQ0FDUjtFQUFBLFNBQUEsRUFBVyw2QkFBWDtFQUNBLE1BQUEsRUFBUSwwQ0FEUjtFQUVBLE1BQUEsRUFBUSxnQ0FGUjtDQURROztBQUtULEVBQUEsR0FBSyxJQUFJLGVBQUosQ0FDRDtFQUFBLGVBQUEsRUFBaUIsU0FBakI7Q0FEQzs7QUFHTCxNQUFBLEdBQVMsSUFBSSxLQUFKLENBQ0w7RUFBQSxDQUFBLEVBQUksQ0FBSjtFQUNBLENBQUEsRUFBSSxNQUFNLENBQUMsTUFBUCxHQUFnQixHQURwQjtFQUVBLEtBQUEs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\n","var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nexports.FirebaseFramer = (function(superClass) {\n  var getCORSurl, request;\n\n  extend(FirebaseFramer, superClass);\n\n  getCORSurl = function(server, path, secret, project) {\n    var url;\n    switch (Utils.isWebKit()) {\n      case true:\n        url = \"https://\" + server + path + \".json?auth=\" + secret + \"&ns=\" + project + \"&sse=true\";\n        break;\n      default:\n        url = \"https://\" + project + \".firebaseio.com\" + path + \".json?auth=\" + secret;\n    }\n    return url;\n  };\n\n  FirebaseFramer.define(\"status\", {\n    get: function() {\n      return this._status;\n    }\n  });\n\n  function FirebaseFramer(options) {\n    var base, base1, base2, base3;\n    this.options = options != null ? options : {};\n    this.projectID = (base = this.options).projectID != null ? base.projectID : base.projectID = null;\n    this.secret = (base1 = this.options).secret != null ? base1.secret : base1.secret = null;\n    this.server = (base2 = this.options).server != null ? base2.server : base2.server = void 0;\n    this.debug = (base3 = this.options).debug != null ? base3.debug : base3.debug = false;\n    if (this._status == null) {\n      this._status = \"disconnected\";\n    }\n    FirebaseFramer.__super__.constructor.apply(this, arguments);\n    if (this.server === void 0) {\n      Utils.domLoadJSON(\"https://\" + this.projectID + \".firebaseio.com/.settings/owner.json\", function(a, server) {\n        var msg;\n        print(msg = \"Add ______ server:\" + '   \"' + server + '\"' + \" _____ to your instance of Firebase.\");\n        if (this.debug) {\n          return console.log(\"Firebase: \" + msg);\n        }\n      });\n    }\n    if (this.debug) {\n      console.log(\"Firebase: Connecting to Firebase Project '\" + this.projectID + \"' ... \\n URL: '\" + (getCORSurl(this.server, \"/\", this.secret, this.projectID)) + \"'\");\n    }\n    this.onChange(\"connection\");\n  }\n\n  request = function(project, secret, path, callback, method, data, parameters, debug) {\n    var url, xhttp;\n    url = \"https://\" + project + \".firebaseio.com\" + path + \".json?auth=\" + secret;\n    if (parameters !== void 0) {\n      if (parameters.shallow) {\n        url += \"&shallow=true\";\n      }\n      if (parameters.format === \"export\") {\n        url += \"&format=export\";\n      }\n      switch (parameters.print) {\n        case \"pretty\":\n          url += \"&print=pretty\";\n          break;\n        case \"silent\":\n          url += \"&print=silent\";\n      }\n      if (typeof parameters.download === \"string\") {\n        url += \"&download=\" + parameters.download;\n        window.open(url, \"_self\");\n      }\n      if (typeof parameters.orderBy === \"string\") {\n        url += \"&orderBy=\" + '\"' + parameters.orderBy + '\"';\n      }\n      if (typeof parameters.limitToFirst === \"number\") {\n        url += \"&limitToFirst=\" + parameters.limitToFirst;\n      }\n      if (typeof parameters.limitToLast === \"number\") {\n        url += \"&limitToLast=\" + parameters.limitToLast;\n      }\n      if (typeof parameters.startAt === \"number\") {\n        url += \"&startAt=\" + parameters.startAt;\n      }\n      if (typeof parameters.endAt === \"number\") {\n        url += \"&endAt=\" + parameters.endAt;\n      }\n      if (typeof parameters.equalTo === \"number\") {\n        url += \"&equalTo=\" + parameters.equalTo;\n      }\n    }\n    xhttp = new XMLHttpRequest;\n    if (debug) {\n      console.log(\"Firebase: New '\" + method + \"'-request with data: '\" + (JSON.stringify(data)) + \"' \\n URL: '\" + url + \"'\");\n    }\n    xhttp.onreadystatechange = (function(_this) {\n      return function() {\n        if (parameters !== void 0) {\n          if (parameters.print === \"silent\" || typeof parameters.download === \"string\") {\n            return;\n          }\n        }\n        switch (xhttp.readyState) {\n          case 0:\n            if (debug) {\n              console.log(\"Firebase: Request not initialized \\n URL: '\" + url + \"'\");\n            }\n            break;\n          case 1:\n            if (debug) {\n              console.log(\"Firebase: Server connection established \\n URL: '\" + url + \"'\");\n            }\n            break;\n          case 2:\n            if (debug) {\n              console.log(\"Firebase: Request received \\n URL: '\" + url + \"'\");\n            }\n            break;\n          case 3:\n            if (debug) {\n              console.log(\"Firebase: Processing request \\n URL: '\" + url + \"'\");\n            }\n            break;\n          case 4:\n            if (callback != null) {\n              callback(JSON.parse(xhttp.responseText));\n            }\n            if (debug) {\n              console.log(\"Firebase: Request finished, response: '\" + (JSON.parse(xhttp.responseText)) + \"' \\n URL: '\" + url + \"'\");\n            }\n        }\n        if (xhttp.status === \"404\") {\n          if (debug) {\n            return console.warn(\"Firebase: Invalid request, page not found \\n URL: '\" + url + \"'\");\n          }\n        }\n      };\n    })(this);\n    xhttp.open(method, url, true);\n    xhttp.setRequestHeader(\"Content-type\", \"application/json; charset=utf-8\");\n    return xhttp.send(data = \"\" + (JSON.stringify(data)));\n  };\n\n  FirebaseFramer.prototype.get = function(path, callback, parameters) {\n    return request(this.projectID, this.secret, path, callback, \"GET\", null, parameters, this.debug);\n  };\n\n  FirebaseFramer.prototype.put = function(path, data, callback, parameters) {\n    return request(this.projectID, this.secret, path, callback, \"PUT\", data, parameters, this.debug);\n  };\n\n  FirebaseFramer.prototype.post = function(path, data, callback, parameters) {\n    return request(this.projectID, this.secret, path, callback, \"POST\", data, parameters, this.debug);\n  };\n\n  FirebaseFramer.prototype.patch = function(path, data, callback, parameters) {\n    return request(this.projectID, this.secret, path, callback, \"PATCH\", data, parameters, this.debug);\n  };\n\n  FirebaseFramer.prototype[\"delete\"] = function(path, callback, parameters) {\n    return request(this.projectID, this.secret, path, callback, \"DELETE\", null, parameters, this.debug);\n  };\n\n  FirebaseFramer.prototype.onChange = function(path, callback) {\n    var currentStatus, source, url;\n    if (path === \"connection\") {\n      url = getCORSurl(this.server, \"/\", this.secret, this.projectID);\n      currentStatus = \"disconnected\";\n      source = new EventSource(url);\n      source.addEventListener(\"open\", (function(_this) {\n        return function() {\n          if (currentStatus === \"disconnected\") {\n            _this._status = \"connected\";\n            if (callback != null) {\n              callback(\"connected\");\n            }\n            if (_this.debug) {\n              console.log(\"Firebase: Connection to Firebase Project '\" + _this.projectID + \"' established\");\n            }\n          }\n          return currentStatus = \"connected\";\n        };\n      })(this));\n      return source.addEventListener(\"error\", (function(_this) {\n        return function() {\n          if (currentStatus === \"connected\") {\n            _this._status = \"disconnected\";\n            if (callback != null) {\n              callback(\"disconnected\");\n            }\n            if (_this.debug) {\n              console.warn(\"Firebase: Connection to Firebase Project '\" + _this.projectID + \"' closed\");\n            }\n          }\n          return currentStatus = \"disconnected\";\n        };\n      })(this));\n    } else {\n      url = getCORSurl(this.server, path, this.secret, this.projectID);\n      source = new EventSource(url);\n      if (this.debug) {\n        console.log(\"Firebase: Listening to changes made to '\" + path + \"' \\n URL: '\" + url + \"'\");\n      }\n      source.addEventListener(\"put\", (function(_this) {\n        return function(ev) {\n          if (callback != null) {\n            callback(JSON.parse(ev.data).data, \"put\", JSON.parse(ev.data).patch);\n          }\n          if (_this.debug) {\n            return console.log(\"Firebase: Received changes made to '\" + path + \"' via 'PUT': \" + (JSON.parse(ev.data).data) + \" \\n URL: '\" + url + \"'\");\n          }\n        };\n      })(this));\n      return source.addEventListener(\"patch\", (function(_this) {\n        return function(ev) {\n          if (callback != null) {\n            callback(JSON.parse(ev.data).data, \"patch\", JSON.parse(ev.data).patch);\n          }\n          if (_this.debug) {\n            return console.log(\"Firebase: Received changes made to '\" + path + \"' via 'PATCH': \" + (JSON.parse(ev.data).data) + \" \\n URL: '\" + url + \"'\");\n          }\n        };\n      })(this));\n    }\n  };\n\n  return FirebaseFramer;\n\n})(Framer.BaseClass);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2plZmZyZXkuaGFycmlzL0RldmVsb3BtZW50L2ZyYW1lci1za2V0Y2gtZmlyZWJhc2UtYm9pbGVycGxhdGUvc3JjL21vZHVsZXMvZmlyZWJhc2VmcmFtZXIuY29mZmVlIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL1VzZXJzL2plZmZyZXkuaGFycmlzL0RldmVsb3BtZW50L2ZyYW1lci1za2V0Y2gtZmlyZWJhc2UtYm9pbGVycGxhdGUvc3JjL21vZHVsZXMvZmlyZWJhc2VmcmFtZXIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlCQSxJQUFBOzs7QUFBTSxPQUFPLENBQUM7QUFJYixNQUFBOzs7O0VBQUEsVUFBQSxHQUFhLFNBQUMsTUFBRCxFQUFTLElBQVQsRUFBZSxNQUFmLEVBQXVCLE9BQXZCO0FBRVosUUFBQTtBQUFBLFlBQU8sS0FBSyxDQUFDLFFBQU4sQ0FBQSxDQUFQO0FBQUEsV0FDTSxJQUROO1FBQ2dCLEdBQUEsR0FBTSxVQUFBLEdBQVcsTUFBWCxHQUFvQixJQUFwQixHQUF5QixhQUF6QixHQUFzQyxNQUF0QyxHQUE2QyxNQUE3QyxHQUFtRCxPQUFuRCxHQUEyRDtBQUEzRTtBQUROO1FBRWdCLEdBQUEsR0FBTSxVQUFBLEdBQVcsT0FBWCxHQUFtQixpQkFBbkIsR0FBb0MsSUFBcEMsR0FBeUMsYUFBekMsR0FBc0Q7QUFGNUU7QUFJQSxXQUFPO0VBTks7O0VBU2IsY0FBQyxDQUFDLE1BQUYsQ0FBUyxRQUFULEVBQ0M7SUFBQSxHQUFBLEVBQUssU0FBQTthQUFHLElBQUMsQ0FBQTtJQUFKLENBQUw7R0FERDs7RUFHYSx3QkFBQyxPQUFEO0FBQ1osUUFBQTtJQURhLElBQUMsQ0FBQSw0QkFBRCxVQUFTO0lBQ3RCLElBQUMsQ0FBQSxTQUFELGlEQUFxQixDQUFDLGdCQUFELENBQUMsWUFBYTtJQUNuQyxJQUFDLENBQUEsTUFBRCxnREFBcUIsQ0FBQyxjQUFELENBQUMsU0FBYTtJQUNuQyxJQUFDLENBQUEsTUFBRCxn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\n","var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nexports.Input = (function(superClass) {\n  extend(Input, superClass);\n\n  Input.define(\"style\", {\n    get: function() {\n      return this.input.style;\n    },\n    set: function(value) {\n      return _.extend(this.input.style, value);\n    }\n  });\n\n  Input.define(\"value\", {\n    get: function() {\n      return this.input.value;\n    },\n    set: function(value) {\n      return this.input.value = value;\n    }\n  });\n\n  function Input(options) {\n    if (options == null) {\n      options = {};\n    }\n    if (options.setup == null) {\n      options.setup = false;\n    }\n    if (options.width == null) {\n      options.width = Screen.width;\n    }\n    if (options.clip == null) {\n      options.clip = false;\n    }\n    if (options.height == null) {\n      options.height = 60;\n    }\n    if (options.backgroundColor == null) {\n      options.backgroundColor = options.setup ? \"rgba(255, 60, 47, .5)\" : \"transparent\";\n    }\n    if (options.fontSize == null) {\n      options.fontSize = 30;\n    }\n    if (options.lineHeight == null) {\n      options.lineHeight = 30;\n    }\n    if (options.padding == null) {\n      options.padding = 10;\n    }\n    if (options.fontFamily == null) {\n      options.fontFamily = \"\";\n    }\n    if (options.opacity == null) {\n      options.opacity = 1;\n    }\n    if (options.text == null) {\n      options.text = \"\";\n    }\n    if (options.placeholder == null) {\n      options.placeholder = \"\";\n    }\n    if (options.type == null) {\n      options.type = \"text\";\n    }\n    Input.__super__.constructor.call(this, options);\n    if (options.placeholderColor != null) {\n      this.placeholderColor = options.placeholderColor;\n    }\n    this.input = document.createElement(\"input\");\n    this.input.id = \"input-\" + (_.now());\n    this.input.style.cssText = \"font-size: \" + options.fontSize + \"px; line-height: \" + options.lineHeight + \"px; padding: \" + options.padding + \"px; width: \" + options.width + \"px; height: \" + options.height + \"px; border: none; outline-width: 0; background-image: url(about:blank); background-color: \" + options.backgroundColor + \"; font-family: \" + options.fontFamily + \"; opacity: \" + options.opacity + \";\";\n    this.input.value = options.text;\n    this.input.type = options.type;\n    this.input.placeholder = options.placeholder;\n    this.form = document.createElement(\"form\");\n    this.form.appendChild(this.input);\n    this._element.appendChild(this.form);\n    this.backgroundColor = \"transparent\";\n    if (this.placeholderColor) {\n      this.updatePlaceholderColor(options.placeholderColor);\n    }\n  }\n\n  Input.prototype.updatePlaceholderColor = function(color) {\n    var css;\n    this.placeholderColor = color;\n    if (this.pageStyle != null) {\n      document.head.removeChild(this.pageStyle);\n    }\n    this.pageStyle = document.createElement(\"style\");\n    this.pageStyle.type = \"text/css\";\n    css = \"#\" + this.input.id + \"::-webkit-input-placeholder { color: \" + this.placeholderColor + \"; }\";\n    this.pageStyle.appendChild(document.createTextNode(css));\n    return document.head.appendChild(this.pageStyle);\n  };\n\n  Input.prototype.focus = function() {\n    return this.input.focus();\n  };\n\n  return Input;\n\n})(Layer);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2plZmZyZXkuaGFycmlzL0RldmVsb3BtZW50L2ZyYW1lci1za2V0Y2gtZmlyZWJhc2UtYm9pbGVycGxhdGUvc3JjL21vZHVsZXMvaW5wdXRmaWVsZC5jb2ZmZWUiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvVXNlcnMvamVmZnJleS5oYXJyaXMvRGV2ZWxvcG1lbnQvZnJhbWVyLXNrZXRjaC1maXJlYmFzZS1ib2lsZXJwbGF0ZS9zcmMvbW9kdWxlcy9pbnB1dGZpZWxkLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxJQUFBOzs7QUFBTSxPQUFPLENBQUM7OztFQUNiLEtBQUMsQ0FBQSxNQUFELENBQVEsT0FBUixFQUNDO0lBQUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUEsS0FBSyxDQUFDO0lBQVYsQ0FBTDtJQUNBLEdBQUEsRUFBSyxTQUFDLEtBQUQ7YUFDSixDQUFDLENBQUMsTUFBRixDQUFTLElBQUMsQ0FBQSxLQUFLLENBQUMsS0FBaEIsRUFBdUIsS0FBdkI7SUFESSxDQURMO0dBREQ7O0VBS0EsS0FBQyxDQUFBLE1BQUQsQ0FBUSxPQUFSLEVBQ0M7SUFBQSxHQUFBLEVBQUssU0FBQTthQUFHLElBQUMsQ0FBQSxLQUFLLENBQUM7SUFBVixDQUFMO0lBQ0EsR0FBQSxFQUFLLFNBQUMsS0FBRDthQUNKLElBQUMsQ0FBQSxLQUFLLENBQUMsS0FBUCxHQUFlO0lBRFgsQ0FETDtHQUREOztFQUthLGVBQUMsT0FBRDs7TUFBQyxVQUFVOzs7TUFDdkIsT0FBTyxDQUFDLFFBQVM7OztNQUNqQixPQUFPLENBQUMsUUFBUyxNQUFNLENBQUM7OztNQUN4QixPQUFPLENBQUMsT0FBUTs7O01BQ2hCLE9BQU8sQ0FBQyxTQUFVOzs7TUFDbEIsT0FBTyxDQUFDLGtCQUFzQixPQUFPLENBQUMsS0FBWCxHQUFzQix1QkFBdEIsR0FBbUQ7OztNQUM5RSxPQUFPLENBQUMsV0FBWTs7O01BQ3BCLE9BQU8sQ0FBQyxhQUFjOzs7TUFD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\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9saWIvX2VtcHR5LmpzIiwibm9kZV9tb2R1bGVzL2ZpbGUtbWF0Y2gvZmlsZS1tYXRjaC5qcyIsIm5vZGVfbW9kdWxlcy9maWxlLXN5c3RlbS9maWxlLXN5c3RlbS5qcyIsIm5vZGVfbW9kdWxlcy9wYXRoLWJyb3dzZXJpZnkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3V0aWwvbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvdXRpbC9zdXBwb3J0L2lzQnVmZmVyQnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy91dGlsL3V0aWwuanMiLCJub2RlX21vZHVsZXMvdXRpbHMtZXh0ZW5kL2luZGV4LmpzIiwic3JjL2FwcC5jb2ZmZWUiLCJzcmMvbW9kdWxlcy9maXJlYmFzZWZyYW1lci5jb2ZmZWUiLCJzcmMvbW9kdWxlcy9pbnB1dGZpZWxkLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzlVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNoT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDMWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ2pMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2hKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDeE9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsbnVsbCwidmFyIHV0aWwgPSByZXF1aXJlKCd1dGlscy1leHRlbmQnKTtcbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKiBAZXhhbXBsZVxuICogYCoqXFwvKmAgbWF0Y2ggYWxsIGZpbGVzXG4gKiBgKi5qc2AgIG9ubHkgbWF0Y2ggY3VycmVudCBkaXIgZmlsZXNcbiAqICcqKlxcLyouanMnIG1hdGNoIGFsbCBqcyBmaWxlc1xuICogJ3BhdGgvKi5qcycgbWF0Y2gganMgZmlsZXMgaW4gcGF0aFxuICogJyEqLmpzJyBleGNsdWRlIGpzIGZpbGVzIFxuICovXG5mdW5jdGlvbiBmaWxlTWF0Y2goZmlsdGVyLCBpZ25vcmUpIHtcbiAgaWYgKGZpbHRlciA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoZmlsdGVyID09PSAnJyB8fCAodXRpbC5pc0FycmF5KGZpbHRlcikgJiYgIWZpbHRlci5sZW5ndGgpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gIH1cblxuICBpZiAodXRpbC5pc1N0cmluZyhmaWx0ZXIpKSB7XG4gICAgZmlsdGVyID0gW2ZpbHRlcl07XG4gIH1cblxuICB2YXIgbWF0Y2ggPSBbXTtcbiAgdmFyIG5lZ2F0ZSA9IFtdO1xuICB2YXIgaXNJZ25vcmUgPSBpZ25vcmUgPyAnaScgOiAnJztcblxuICBmaWx0ZXIuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgdmFyIGlzTmVnYXRlID0gaXRlbS5pbmRleE9mKCchJykgPT09IDA7XG4gICAgaXRlbSA9IGl0ZW1cbiAgICAgIC5yZXBsYWNlKC9eIS8sICcnKVxuICAgICAgLnJlcGxhY2UoL1xcKig/IVtcXC8qXSkvLCAnW14vXSo/JylcbiAgICAgIC5yZXBsYWNlKCcqKlxcLycsICcoW14vXStcXC8pKicpXG4gICAgICAucmVwbGFjZSgvXFx7KFteXFx9XSspXFx9L2csIGZ1bmN0aW9uKCQxLCAkMikge1xuICAgICAgICB2YXIgY29sbGVjdGlvbiA9ICQyLnNwbGl0KCcsJyk7XG4gICAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcoPzonO1xuXG4gICAgICAgIGNvbGxlY3Rpb24uZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICAgIHJlc3VsdCArPSAnKCcgKyBpdGVtLnRyaW0oKSArICcpJztcblxuICAgICAgICAgIGlmIChpbmRleCArIDEgIT09IGxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0ICs9ICd8JztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlc3VsdCArPSAnKSc7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pXG4gICAgICAucmVwbGFjZSgvKFtcXC9cXC5dKS9nLCAnXFxcXCQxJyk7XG5cbiAgICBpdGVtID0gJyheJyArIGl0ZW0gKyAnJCknO1xuXG4gICAgaWYgKGlzTmVnYXRlKSB7XG4gICAgICBuZWdhdGUucHVzaChpdGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWF0Y2gucHVzaChpdGVtKTtcbiAgICB9XG4gIH0pO1xuXG4gIG1hdGNoID0gbWF0Y2gubGVuZ3RoID8gIG5ldyBSZWdFeHAobWF0Y2guam9pbignfCcpLCBpc0lnbm9yZSkgOiBudWxsO1xuICBuZWdhdGUgPSBuZWdhdGUubGVuZ3RoID8gbmV3IFJlZ0V4cChuZWdhdGUuam9pbignfCcpLCBpc0lnbm9yZSkgOiBudWxsO1xuXG4gIHJldHVybiBmdW5jdGlvbihmaWxlcGF0aCkge1xuICAgIC8vIE5vcm1hbGl6ZSBcXFxcIHBhdGhzIHRvIC8gcGF0aHMuXG4gICAgZmlsZXBhdGggPSB1dGlsLnBhdGgudW5peGlmeVBhdGgoZmlsZXBhdGgpO1xuXG4gICAgaWYgKG5lZ2F0ZSAmJiBuZWdhdGUudGVzdChmaWxlcGF0aCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAobWF0Y2ggJiYgbWF0Y2gudGVzdChmaWxlcGF0aCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmaWxlTWF0Y2g7IiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFN0cmVuZ3RoZW4gdGhlIGFiaWxpdHkgb2YgZmlsZSBzeXN0ZW1cbiAqIEBhdXRob3Igd2xpYW8gPHdsaWFvQEN0cmlwLmNvbT4gXG4gKi9cbnZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWxzLWV4dGVuZCcpO1xudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgZmlsZU1hdGNoID0gcmVxdWlyZSgnZmlsZS1tYXRjaCcpO1xuXG5mdW5jdGlvbiBjaGVja0NiQW5kT3B0cyhvcHRpb25zLCBjYWxsYmFjaykge1xuICBpZiAodXRpbC5pc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9wdGlvbnM6IG51bGwsXG4gICAgICBjYWxsYmFjazogb3B0aW9uc1xuICAgIH07XG4gIH0gZWxzZSBpZiAodXRpbC5pc09iamVjdChvcHRpb25zKSkge1xuICAgIHJldHVybiB7XG4gICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgIGNhbGxiYWNrOiB1dGlsLm5vb3BcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEV4aXN0cyhmaWxlcGF0aCkge1xuICB2YXIgZXhpc3RzID0gZnMuZXhpc3RzU3luYyhmaWxlcGF0aCk7XG5cbiAgaWYgKGV4aXN0cykge1xuICAgIHJldHVybiBmaWxlcGF0aDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0RXhpc3RzKHBhdGguZGlybmFtZShmaWxlcGF0aCkpO1xuICB9XG59XG5cbnV0aWwuZXh0ZW5kKGV4cG9ydHMsIGZzKTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFzc2lnbiBub2RlIG9yaWdpbiBtZXRob2RzIHRvIGZzXG4gKi9cbmV4cG9ydHMuZnMgPSBmcztcblxuZXhwb3J0cy5maWxlTWF0Y2ggPSBmaWxlTWF0Y2g7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGUgZGlyLCBpZiBkaXIgZXhpc3QsIGl0IHdpbGwgb25seSBpbnZva2UgY2FsbGJhY2suXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiAgIGZzLm1rZGlyKCcxLzIvMy80LzUnLCA1MTEpO1xuICogICBmcy5ta2RpcigncGF0aC8yLzMnLCBmdW5jdGlvbigpIHt9KTtcbiAqIGBgYFxuICovXG5leHBvcnRzLm1rZGlyID0gZnVuY3Rpb24oZmlsZXBhdGgsIG1vZGUsIGNhbGxiYWNrKSB7XG4gIHZhciByb290ID0gZ2V0RXhpc3RzKGZpbGVwYXRoKTtcbiAgdmFyIGNoaWxkcmVuICA9IHBhdGgucmVsYXRpdmUocm9vdCwgZmlsZXBhdGgpO1xuXG4gIGlmICh1dGlsLmlzRnVuY3Rpb24obW9kZSkpIHtcbiAgICBjYWxsYmFjayA9IG1vZGU7XG4gICAgbW9kZSA9IG51bGw7XG4gIH1cblxuICBpZiAoIXV0aWwuaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICBjYWxsYmFjayA9IHV0aWwubm9vcDtcbiAgfVxuXG4gIG1vZGUgPSBtb2RlIHx8IDUxMTtcblxuICBpZiAoIWNoaWxkcmVuKSByZXR1cm4gY2FsbGJhY2soKTtcblxuICBjaGlsZHJlbiA9IGNoaWxkcmVuLnNwbGl0KHBhdGguc2VwKTtcblxuICBmdW5jdGlvbiBjcmVhdGUoZmlsZXBhdGgpIHtcbiAgICBpZiAoY3JlYXRlLmNvdW50ID09PSBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIGZpbGVwYXRoID0gcGF0aC5qb2luKGZpbGVwYXRoLCBjaGlsZHJlbltjcmVhdGUuY291bnRdKTtcblxuICAgIGZzLm1rZGlyKGZpbGVwYXRoLCBtb2RlLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgIGNyZWF0ZS5jb3VudCsrO1xuICAgICAgY3JlYXRlKGZpbGVwYXRoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNyZWF0ZS5jb3VudCA9IDA7XG4gIGNyZWF0ZShyb290KTtcbn07XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTYW1lIGFzIG1rZGlyLCBidXQgaXQgaXMgc3luY2hyb25vdXNcbiAqL1xuZXhwb3J0cy5ta2RpclN5bmMgPSBmdW5jdGlvbihmaWxlcGF0aCwgbW9kZSkge1xuICB2YXIgcm9vdCA9IGdldEV4aXN0cyhmaWxlcGF0aCk7XG4gIHZhciBjaGlsZHJlbiAgPSBwYXRoLnJlbGF0aXZlKHJvb3QsIGZpbGVwYXRoKTtcblxuICBpZiAoIWNoaWxkcmVuKSByZXR1cm47XG5cbiAgY2hpbGRyZW4gPSBjaGlsZHJlbi5zcGxpdChwYXRoLnNlcCk7XG5cbiAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgcm9vdCA9IHBhdGguam9pbihyb290LCBpdGVtKTtcbiAgICBmcy5ta2RpclN5bmMocm9vdCwgbW9kZSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gXG4gKiBDcmVhdGUgZmlsZSwgaWYgcGF0aCBkb24ndCBleGlzdHMsIGl0IHdpbGwgbm90IHRocm93IGVycm9yLlxuICogQW5kIHdpbGwgbWtkaXIgZm9yIHBhdGgsIGl0IGlzIGFzeW5jaHJvbm91c1xuICogXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqICAgZnMud3JpdGVGaWxlKCdwYXRoL2ZpbGVuYW1lLnR4dCcsICdzb21ldGhpbmcnKVxuICogICBmcy53cml0ZUZpbGUoJ3BhdGgvZmlsZW5hbWUudHh0JywgJ3NvbWV0aGluZycsIHt9KVxuICogYGBgXG4gKi9cbmV4cG9ydHMud3JpdGVGaWxlID0gZnVuY3Rpb24oZmlsZW5hbWUsIGRhdGEsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIHZhciByZXN1bHQgPSBjaGVja0NiQW5kT3B0cyhvcHRpb25zLCBjYWxsYmFjayk7XG4gIHZhciBkaXJuYW1lID0gcGF0aC5kaXJuYW1lKGZpbGVuYW1lKTtcbiAgb3B0aW9ucyA9IHJlc3VsdC5vcHRpb25zO1xuICBjYWxsYmFjayA9IHJlc3VsdC5jYWxsYmFjaztcblxuICAvLyBDcmVhdGUgZGlyIGZpcnN0XG4gIGV4cG9ydHMubWtkaXIoZGlybmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgZnMud3JpdGVGaWxlKGZpbGVuYW1lLCBkYXRhLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNhbWUgYXMgd3JpdGVGaWxlLCBidXQgaXQgaXMgc3luY2hyb25vdXNcbiAqL1xuZXhwb3J0cy53cml0ZUZpbGVTeW5jID0gZnVuY3Rpb24oZmlsZW5hbWUsIGRhdGEsIG9wdGlvbnMpIHtcbiAgdmFyIGRpcm5hbWUgPSBwYXRoLmRpcm5hbWUoZmlsZW5hbWUpO1xuXG4gIGV4cG9ydHMubWtkaXJTeW5jKGRpcm5hbWUpO1xuICBmcy53cml0ZUZpbGVTeW5jKGZpbGVuYW1lLCBkYXRhLCBvcHRpb25zKTtcbn07XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBc3luY2hyb25vdXNseSBjb3B5IGEgZmlsZVxuICogQGV4YW1wbGVcbiAqIGZpbGUuY29weUZpbGUoJ2RlbW8udHh0JywgJ2RlbW8uZGVzdC50eHQnLCB7IGRvbmU6IGZ1bmN0aW9uKGVycikgeyB9fSlcbiAqL1xuZXhwb3J0cy5jb3B5RmlsZSA9IGZ1bmN0aW9uKHNyY3BhdGgsIGRlc3RwYXRoLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSB1dGlsLmV4dGVuZCh7XG4gICAgZW5jb2Rpbmc6ICd1dGY4JyxcbiAgICBkb25lOiB1dGlsLm5vb3BcbiAgfSwgb3B0aW9ucyB8fCB7fSk7XG5cbiAgaWYgKCFvcHRpb25zLnByb2Nlc3MpIHtcbiAgICBvcHRpb25zLmVuY29kaW5nID0gbnVsbDtcbiAgfVxuXG4gIGZzLnJlYWRGaWxlKHNyY3BhdGgsIHtcbiAgICBlbmNvZGluZzogb3B0aW9ucy5lbmNvZGluZ1xuICB9LCBmdW5jdGlvbihlcnIsIGNvbnRlbnRzKSB7XG4gICAgaWYgKGVycikgcmV0dXJuIG9wdGlvbnMuZG9uZShlcnIpO1xuXG4gICAgaWYgKG9wdGlvbnMucHJvY2Vzcykge1xuICAgICAgY29udGVudHMgPSBvcHRpb25zLnByb2Nlc3MoY29udGVudHMpO1xuICAgIH1cblxuICAgIGV4cG9ydHMud3JpdGVGaWxlKGRlc3RwYXRoLCBjb250ZW50cywgb3B0aW9ucywgb3B0aW9ucy5kb25lKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICogQ29weSBmaWxlIHRvIGRlc3QsIGlmIG5vIHByb2Nlc3Mgb3B0aW9ucywgaXQgd2lsbCBvbmx5IGNvcHkgZmlsZSB0byBkZXN0XG4gKiBAZXhhbXBsZVxuICogZmlsZS5jb3B5RmlsZVN5bmMoJ2RlbW8udHh0JywgJ2RlbW8uZGVzdC50eHQnIHsgcHJvY2VzczogZnVuY3Rpb24oY29udGVudHMpIHsgfX0pO1xuICogZmlsZS5jb3B5RmlsZVN5bmMoJ2RlbW8ucG5nJywgJ2Rlc3QucG5nJyk7XG4gKi9cbmV4cG9ydHMuY29weUZpbGVTeW5jID0gZnVuY3Rpb24oc3JjcGF0aCwgZGVzdHBhdGgsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IHV0aWwuZXh0ZW5kKHtcbiAgICBlbmNvZGluZzogJ3V0ZjgnIFxuICB9LCBvcHRpb25zIHx8IHt9KTtcbiAgdmFyIGNvbnRlbnRzO1xuXG4gIGlmIChvcHRpb25zLnByb2Nlc3MpIHtcbiAgICBjb250ZW50cyA9IGZzLnJlYWRGaWxlU3luYyhzcmNwYXRoLCBvcHRpb25zKTtcbiAgICBjb250ZW50cyA9IG9wdGlvbnMucHJvY2Vzcyhjb250ZW50cywgc3JjcGF0aCwgb3B0aW9ucy5yZWxhdGl2ZSk7XG5cbiAgICBpZiAodXRpbC5pc09iamVjdChjb250ZW50cykgJiYgY29udGVudHMuZmlsZXBhdGgpIHtcbiAgICAgIGRlc3RwYXRoID0gY29udGVudHMuZmlsZXBhdGg7XG4gICAgICBjb250ZW50cyA9IGNvbnRlbnRzLmNvbnRlbnRzO1xuICAgIH1cblxuICAgIGV4cG9ydHMud3JpdGVGaWxlU3luYyhkZXN0cGF0aCwgY29udGVudHMsIG9wdGlvbnMpOyAgICBcbiAgfSBlbHNlIHtcbiAgICBjb250ZW50cyA9IGZzLnJlYWRGaWxlU3luYyhzcmNwYXRoKTtcbiAgICBleHBvcnRzLndyaXRlRmlsZVN5bmMoZGVzdHBhdGgsIGNvbnRlbnRzKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJlY3Vyc2UgaW50byBhIGRpcmVjdG9yeSwgZXhlY3V0aW5nIGNhbGxiYWNrIGZvciBlYWNoIGZpbGUgYW5kIGZvbGRlclxuICogaWYgdGhlIGZpbGVuYW1lIGlzIHVuZGVmaWVuZCwgdGhlIGNhbGxiYWNrIGlzIGZvciBmb2xkZXIsIG90aGVyd2lzZSBmb3IgZmlsZS5cbiAqIGFuZCBpdCBpcyBhc3luY2hyb25vdXNcbiAqIEBleGFtcGxlXG4gKiBmaWxlLnJlY3Vyc2UoJ3BhdGgnLCBmdW5jdGlvbihmaWxlcGF0aCwgZmlsZW5hbWUpIHsgfSk7XG4gKiBmaWxlLnJlY3Vyc2UoJ3BhdGgnLCBbJyouanMnLCAncGF0aC8qKlxcLyouaHRtbCddLCBmdW5jdGlvbihmaWxlcGF0aCwgcmVsYXRpdmUsIGZpbGVuYW1lKSB7IH0pO1xuICovXG5leHBvcnRzLnJlY3Vyc2UgPSBmdW5jdGlvbihkaXJwYXRoLCBmaWx0ZXIsIGNhbGxiYWNrKSB7XG4gIGlmICh1dGlsLmlzRnVuY3Rpb24oZmlsdGVyKSkge1xuICAgIGNhbGxiYWNrID0gZmlsdGVyO1xuICAgIGZpbHRlciA9IG51bGw7XG4gIH1cbiAgdmFyIGZpbHRlckNiID0gZmlsZU1hdGNoKGZpbHRlcik7XG4gIHZhciByb290cGF0aCA9IGRpcnBhdGg7XG5cbiAgZnVuY3Rpb24gcmVjdXJzZShkaXJwYXRoKSB7XG4gICAgZnMucmVhZGRpcihkaXJwYXRoLCBmdW5jdGlvbihlcnIsIGZpbGVzKSB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKTtcblxuICAgICAgZmlsZXMuZm9yRWFjaChmdW5jdGlvbihmaWxlbmFtZSkge1xuICAgICAgICB2YXIgZmlsZXBhdGggPSBwYXRoLmpvaW4oZGlycGF0aCwgZmlsZW5hbWUpO1xuXG4gICAgICAgIGZzLnN0YXQoZmlsZXBhdGgsIGZ1bmN0aW9uKGVyciwgc3RhdHMpIHtcbiAgICAgICAgICAgIHZhciByZWxhdGl2ZSA9IHBhdGgucmVsYXRpdmUocm9vdHBhdGgsIGZpbGVwYXRoKTtcbiAgICAgICAgICAgIHZhciBmbGFnID0gZmlsdGVyQ2IocmVsYXRpdmUpO1xuXG4gICAgICAgICAgICBpZiAoc3RhdHMuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICAgICAgICByZWN1cnNlKGZpbGVwYXRoKTtcbiAgICAgICAgICAgICAgaWYgKGZsYWcpIGNhbGxiYWNrKGZpbGVwYXRoLCByZWxhdGl2ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoZmxhZykgY2FsbGJhY2soZmlsZXBhdGgsIHJlbGF0aXZlLCBmaWxlbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVjdXJzZShkaXJwYXRoKTtcbn07XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTYW1lIGFzIHJlY3Vyc2UsIGJ1dCBpdCBpcyBzeW5jaHJvbm91c1xuICogQGV4YW1wbGVcbiAqIGZpbGUucmVjdXJzZVN5bmMoJ3BhdGgnLCBmdW5jdGlvbihmaWxlcGF0aCwgZmlsZW5hbWUpIHt9KTtcbiAqIGZpbGUucmVjdXJzZVN5bmMoJ3BhdGgnLCBbJyouanMnLCAncGF0aC8qKlxcLyouaHRtbCddLCBmdW5jdGlvbihmaWxlcGF0aCwgcmVsYXRpdmUsIGZpbGVuYW1lKSB7fSk7XG4gKi9cbmV4cG9ydHMucmVjdXJzZVN5bmMgPSBmdW5jdGlvbihkaXJwYXRoLCBmaWx0ZXIsIGNhbGxiYWNrKSB7XG4gIGlmICh1dGlsLmlzRnVuY3Rpb24oZmlsdGVyKSkge1xuICAgIGNhbGxiYWNrID0gZmlsdGVyO1xuICAgIGZpbHRlciA9IG51bGw7XG4gIH1cbiAgdmFyIGZpbHRlckNiID0gZmlsZU1hdGNoKGZpbHRlcik7XG4gIHZhciByb290cGF0aCA9IGRpcnBhdGg7XG5cbiAgZnVuY3Rpb24gcmVjdXJzZShkaXJwYXRoKSB7XG4gICAgZnMucmVhZGRpclN5bmMoZGlycGF0aCkuZm9yRWFjaChmdW5jdGlvbihmaWxlbmFtZSkge1xuICAgICAgdmFyIGZpbGVwYXRoID0gcGF0aC5qb2luKGRpcnBhdGgsIGZpbGVuYW1lKTtcbiAgICAgIHZhciBzdGF0cyA9IGZzLnN0YXRTeW5jKGZpbGVwYXRoKTtcbiAgICAgIHZhciByZWxhdGl2ZSA9IHBhdGgucmVsYXRpdmUocm9vdHBhdGgsIGZpbGVwYXRoKTtcbiAgICAgIHZhciBmbGFnID0gZmlsdGVyQ2IocmVsYXRpdmUpO1xuXG4gICAgICBpZiAoc3RhdHMuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICByZWN1cnNlKGZpbGVwYXRoKTtcbiAgICAgICAgaWYgKGZsYWcpIGNhbGxiYWNrKGZpbGVwYXRoLCByZWxhdGl2ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZmxhZykgY2FsbGJhY2soZmlsZXBhdGgsIHJlbGF0aXZlLCBmaWxlbmFtZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZWN1cnNlKGRpcnBhdGgpO1xufTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJlbW92ZSBmb2xkZXIgYW5kIGZpbGVzIGluIGZvbGRlciwgYnV0IGl0J3Mgc3luY2hyb25vdXNcbiAqIEBleGFtcGxlXG4gKiBmaWxlLnJtZGlyU3luYygncGF0aCcpO1xuICovXG5leHBvcnRzLnJtZGlyU3luYyA9IGZ1bmN0aW9uKGRpcnBhdGgpIHtcbiAgZXhwb3J0cy5yZWN1cnNlU3luYyhkaXJwYXRoLCBmdW5jdGlvbihmaWxlcGF0aCwgcmVsYXRpdmUsIGZpbGVuYW1lKSB7XG4gICAgLy8gaXQgaXMgZmlsZSwgb3RoZXJ3aXNlIGl0J3MgZm9sZGVyXG4gICAgaWYgKGZpbGVuYW1lKSB7XG4gICAgICBmcy51bmxpbmtTeW5jKGZpbGVwYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnMucm1kaXJTeW5jKGZpbGVwYXRoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGZzLnJtZGlyU3luYyhkaXJwYXRoKTtcbn07XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb3B5IGRpcnBhdGggdG8gZGVzdHBhdGgsIHBhc3MgcHJvY2VzcyBjYWxsYmFjayBmb3IgZWFjaCBmaWxlIGhhbmxkZXJcbiAqIGlmIHlvdSB3YW50IHRvIGNoYW5nZSB0aGUgZGVzdCBmaWxlcGF0aCwgcHJvY2VzcyBjYWxsYmFjayByZXR1cm4geyBjb250ZW50czogJycsIGZpbGVwYXRoOiAnJ31cbiAqIG90aGVyd2lzZSBvbmx5IGNoYW5nZSBjb250ZW50c1xuICogQGV4YW1wbGVcbiAqIGZpbGUuY29weVN5bmMoJ3BhdGgnLCAnZGVzdCcpO1xuICogZmlsZS5jb3B5U3luYygnc3JjJywgJ2Rlc3Qvc3JjJyk7XG4gKiBmaWxlLmNvcHlTeW5jKCdwYXRoJywgJ2Rlc3QnLCB7IHByb2Nlc3M6IGZ1bmN0aW9uKGNvbnRlbnRzLCBmaWxlcGF0aCkge30gfSk7XG4gKiBmaWxlLmNvcHlTeW5jKCdwYXRoJywgJ2Rlc3QnLCB7IHByb2Nlc3M6IGZ1bmN0aW9uKGNvbnRlbnRzLCBmaWxlcGF0aCkge30gfSwgbm9Qcm9jZXNzOiBbJyddKTtcbiAqL1xuZXhwb3J0cy5jb3B5U3luYyA9IGZ1bmN0aW9uKGRpcnBhdGgsIGRlc3RwYXRoLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSB1dGlsLmV4dGVuZCh7XG4gICAgZW5jb2Rpbmc6ICd1dGY4JyxcbiAgICBmaWx0ZXI6IG51bGwsXG4gICAgbm9Qcm9jZXNzOiAnJ1xuICB9LCBvcHRpb25zIHx8IHt9KTtcbiAgdmFyIG5vUHJvY2Vzc0NiID0gZmlsZU1hdGNoKG9wdGlvbnMubm9Qcm9jZXNzKTtcblxuICAvLyBNYWtlIHN1cmUgZGVzdCByb290XG4gIGV4cG9ydHMubWtkaXJTeW5jKGRlc3RwYXRoKTtcbiAgZXhwb3J0cy5yZWN1cnNlU3luYyhkaXJwYXRoLCBvcHRpb25zLmZpbHRlciwgZnVuY3Rpb24oZmlsZXBhdGgsIHJlbGF0aXZlLCBmaWxlbmFtZSkge1xuICAgIGlmICghZmlsZW5hbWUpIHJldHVybjtcbiAgICB2YXIgbmV3cGF0aCA9IHBhdGguam9pbihkZXN0cGF0aCwgcmVsYXRpdmUpO1xuICAgIHZhciBvcHRzID0ge1xuICAgICAgcmVsYXRpdmU6IHJlbGF0aXZlXG4gICAgfTtcblxuICAgIGlmIChvcHRpb25zLnByb2Nlc3MgJiYgIW5vUHJvY2Vzc0NiKHJlbGF0aXZlKSkge1xuICAgICAgb3B0cy5lbmNvZGluZyA9IG9wdGlvbnMuZW5jb2Rpbmc7XG4gICAgICBvcHRzLnByb2Nlc3MgPSBvcHRpb25zLnByb2Nlc3M7XG4gICAgfVxuXG4gICAgZXhwb3J0cy5jb3B5RmlsZVN5bmMoZmlsZXBhdGgsIG5ld3BhdGgsIG9wdHMpO1xuICB9KTtcbn07IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZVxuLy8gbXVzdCBiZSBubyBzbGFzaGVzLCBlbXB0eSBlbGVtZW50cywgb3IgZGV2aWNlIG5hbWVzIChjOlxcKSBpbiB0aGUgYXJyYXlcbi8vIChzbyBhbHNvIG5vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoZXMgLSBpdCBkb2VzIG5vdCBkaXN0aW5ndWlzaFxuLy8gcmVsYXRpdmUgYW5kIGFic29sdXRlIHBhdGhzKVxuZnVuY3Rpb24gbm9ybWFsaXplQXJyYXkocGFydHMsIGFsbG93QWJvdmVSb290KSB7XG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBwYXJ0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciBsYXN0ID0gcGFydHNbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBwYXJ0cy51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuLy8gU3BsaXQgYSBmaWxlbmFtZSBpbnRvIFtyb290LCBkaXIsIGJhc2VuYW1lLCBleHRdLCB1bml4IHZlcnNpb25cbi8vICdyb290JyBpcyBqdXN0IGEgc2xhc2gsIG9yIG5vdGhpbmcuXG52YXIgc3BsaXRQYXRoUmUgPVxuICAgIC9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvO1xudmFyIHNwbGl0UGF0aCA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XG4gIHJldHVybiBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKS5zbGljZSgxKTtcbn07XG5cbi8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzb2x2ZWRQYXRoID0gJycsXG4gICAgICByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG5cbiAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICB2YXIgcGF0aCA9IChpID49IDApID8gYXJndW1lbnRzW2ldIDogcHJvY2Vzcy5jd2QoKTtcblxuICAgIC8vIFNraXAgZW1wdHkgYW5kIGludmFsaWQgZW50cmllc1xuICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfSBlbHNlIGlmICghcGF0aCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbiAgfVxuXG4gIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpXG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHJlc29sdmVkUGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihyZXNvbHZlZFBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhcmVzb2x2ZWRBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIHJldHVybiAoKHJlc29sdmVkQWJzb2x1dGUgPyAnLycgOiAnJykgKyByZXNvbHZlZFBhdGgpIHx8ICcuJztcbn07XG5cbi8vIHBhdGgubm9ybWFsaXplKHBhdGgpXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIGlzQWJzb2x1dGUgPSBleHBvcnRzLmlzQWJzb2x1dGUocGF0aCksXG4gICAgICB0cmFpbGluZ1NsYXNoID0gc3Vic3RyKHBhdGgsIC0xKSA9PT0gJy8nO1xuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICBwYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhaXNBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIGlmICghcGF0aCAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHBhdGggPSAnLic7XG4gIH1cbiAgaWYgKHBhdGggJiYgdHJhaWxpbmdTbGFzaCkge1xuICAgIHBhdGggKz0gJy8nO1xuICB9XG5cbiAgcmV0dXJuIChpc0Fic29sdXRlID8gJy8nIDogJycpICsgcGF0aDtcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuaXNBYnNvbHV0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLyc7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmpvaW4gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhdGhzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgcmV0dXJuIGV4cG9ydHMubm9ybWFsaXplKGZpbHRlcihwYXRocywgZnVuY3Rpb24ocCwgaW5kZXgpIHtcbiAgICBpZiAodHlwZW9mIHAgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5qb2luIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbiAgfSkuam9pbignLycpKTtcbn07XG5cblxuLy8gcGF0aC5yZWxhdGl2ZShmcm9tLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVsYXRpdmUgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICBmcm9tID0gZXhwb3J0cy5yZXNvbHZlKGZyb20pLnN1YnN0cigxKTtcbiAgdG8gPSBleHBvcnRzLnJlc29sdmUodG8pLnN1YnN0cigxKTtcblxuICBmdW5jdGlvbiB0cmltKGFycikge1xuICAgIHZhciBzdGFydCA9IDA7XG4gICAgZm9yICg7IHN0YXJ0IDwgYXJyLmxlbmd0aDsgc3RhcnQrKykge1xuICAgICAgaWYgKGFycltzdGFydF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gYXJyLmxlbmd0aCAtIDE7XG4gICAgZm9yICg7IGVuZCA+PSAwOyBlbmQtLSkge1xuICAgICAgaWYgKGFycltlbmRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0ID4gZW5kKSByZXR1cm4gW107XG4gICAgcmV0dXJuIGFyci5zbGljZShzdGFydCwgZW5kIC0gc3RhcnQgKyAxKTtcbiAgfVxuXG4gIHZhciBmcm9tUGFydHMgPSB0cmltKGZyb20uc3BsaXQoJy8nKSk7XG4gIHZhciB0b1BhcnRzID0gdHJpbSh0by5zcGxpdCgnLycpKTtcblxuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oZnJvbVBhcnRzLmxlbmd0aCwgdG9QYXJ0cy5sZW5ndGgpO1xuICB2YXIgc2FtZVBhcnRzTGVuZ3RoID0gbGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGZyb21QYXJ0c1tpXSAhPT0gdG9QYXJ0c1tpXSkge1xuICAgICAgc2FtZVBhcnRzTGVuZ3RoID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvdXRwdXRQYXJ0cyA9IFtdO1xuICBmb3IgKHZhciBpID0gc2FtZVBhcnRzTGVuZ3RoOyBpIDwgZnJvbVBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgb3V0cHV0UGFydHMucHVzaCgnLi4nKTtcbiAgfVxuXG4gIG91dHB1dFBhcnRzID0gb3V0cHV0UGFydHMuY29uY2F0KHRvUGFydHMuc2xpY2Uoc2FtZVBhcnRzTGVuZ3RoKSk7XG5cbiAgcmV0dXJuIG91dHB1dFBhcnRzLmpvaW4oJy8nKTtcbn07XG5cbmV4cG9ydHMuc2VwID0gJy8nO1xuZXhwb3J0cy5kZWxpbWl0ZXIgPSAnOic7XG5cbmV4cG9ydHMuZGlybmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIHJlc3VsdCA9IHNwbGl0UGF0aChwYXRoKSxcbiAgICAgIHJvb3QgPSByZXN1bHRbMF0sXG4gICAgICBkaXIgPSByZXN1bHRbMV07XG5cbiAgaWYgKCFyb290ICYmICFkaXIpIHtcbiAgICAvLyBObyBkaXJuYW1lIHdoYXRzb2V2ZXJcbiAgICByZXR1cm4gJy4nO1xuICB9XG5cbiAgaWYgKGRpcikge1xuICAgIC8vIEl0IGhhcyBhIGRpcm5hbWUsIHN0cmlwIHRyYWlsaW5nIHNsYXNoXG4gICAgZGlyID0gZGlyLnN1YnN0cigwLCBkaXIubGVuZ3RoIC0gMSk7XG4gIH1cblxuICByZXR1cm4gcm9vdCArIGRpcjtcbn07XG5cblxuZXhwb3J0cy5iYXNlbmFtZSA9IGZ1bmN0aW9uKHBhdGgsIGV4dCkge1xuICB2YXIgZiA9IHNwbGl0UGF0aChwYXRoKVsyXTtcbiAgLy8gVE9ETzogbWFrZSB0aGlzIGNvbXBhcmlzb24gY2FzZS1pbnNlbnNpdGl2ZSBvbiB3aW5kb3dzP1xuICBpZiAoZXh0ICYmIGYuc3Vic3RyKC0xICogZXh0Lmxlbmd0aCkgPT09IGV4dCkge1xuICAgIGYgPSBmLnN1YnN0cigwLCBmLmxlbmd0aCAtIGV4dC5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBmO1xufTtcblxuXG5leHBvcnRzLmV4dG5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBzcGxpdFBhdGgocGF0aClbM107XG59O1xuXG5mdW5jdGlvbiBmaWx0ZXIgKHhzLCBmKSB7XG4gICAgaWYgKHhzLmZpbHRlcikgcmV0dXJuIHhzLmZpbHRlcihmKTtcbiAgICB2YXIgcmVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZih4c1tpXSwgaSwgeHMpKSByZXMucHVzaCh4c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFN0cmluZy5wcm90b3R5cGUuc3Vic3RyIC0gbmVnYXRpdmUgaW5kZXggZG9uJ3Qgd29yayBpbiBJRThcbnZhciBzdWJzdHIgPSAnYWInLnN1YnN0cigtMSkgPT09ICdiJ1xuICAgID8gZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikgeyByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKSB9XG4gICAgOiBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7XG4gICAgICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gc3RyLmxlbmd0aCArIHN0YXJ0O1xuICAgICAgICByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKTtcbiAgICB9XG47XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQnVmZmVyKGFyZykge1xuICByZXR1cm4gYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnXG4gICAgJiYgdHlwZW9mIGFyZy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5maWxsID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5yZWFkVUludDggPT09ICdmdW5jdGlvbic7XG59IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEV4dGVuZCBub2RlIHV0aWwgbW9kdWxlXG4gKiBAYXV0aG9yIGRvdXppIDxsaWFvd2VpMDhAZ21haWwuY29tPiBcbiAqL1xudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGlzV2luZG93cyA9IHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMic7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG5cbi8vIEFuZCB0eXBlIGNoZWNrIG1ldGhvZDogaXNGdW5jdGlvbiwgaXNTdHJpbmcsIGlzTnVtYmVyLCBpc0RhdGUsIGlzUmVnRXhwLCBpc09iamVjdFxuWydGdW5jdGlvbicsICdTdHJpbmcnLCAnTnVtYmVyJywgJ0RhdGUnLCAnUmVnRXhwJ10uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gIGV4cG9ydHNbJ2lzJyArIGl0ZW1dICA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCAnICsgaXRlbSArICddJztcbiAgfTtcbn0pO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICogRGVlcCBleHRlbmRcbiAqIEBleGFtcGxlXG4gKiBleHRlbmQoeyBrZXk6IHsgazE6ICd2MSd9IH0sIHsga2V5OiB7IGsyOiAndjInIH0sIG5vbmU6IHsgazogJ3YnIH0gfSk7XG4gKiBleHRlbmQoeyBhcnI6IFtdIH0sIHsgYXJyOiBbIHt9LCB7fSBdIH0pO1xuICovXG5mdW5jdGlvbiBleHRlbmQodGFyZ2V0LCBzb3VyY2UpIHtcbiAgdmFyIHZhbHVlO1xuXG4gIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICB2YWx1ZSA9IHNvdXJjZVtrZXldO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGFyZ2V0W2tleV0pKSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gW107XG4gICAgICB9XG5cbiAgICAgIGV4dGVuZCh0YXJnZXRba2V5XSwgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHRhcmdldFtrZXldKSkge1xuICAgICAgICB0YXJnZXRba2V5XSAgPSB7fTtcbiAgICAgIH1cblxuICAgICAgZXh0ZW5kKHRhcmdldFtrZXldLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZXh0ZW5kKGV4cG9ydHMsIHV0aWwpO1xuXG4vLyBmaXhlZCB1dGlsLmlzT2JqZWN0IFxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5leHBvcnRzLmV4dGVuZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gIHZhciB0YXJnZXQgPSBhcmdzLnNoaWZ0KCk7XG5cbiAgYXJncy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICBleHRlbmQodGFyZ2V0LCBpdGVtKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbmV4cG9ydHMuaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICd1bmRlZmluZWQnO1xufTtcblxuZXhwb3J0cy5ub29wID0gZnVuY3Rpb24oKSB7fTtcblxuZXhwb3J0cy51bmlxdWUgPSBmdW5jdGlvbihhcnJheSkge1xuICB2YXIgcmVzdWx0ID0gW107XG5cbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgaWYgKHJlc3VsdC5pbmRleE9mKGl0ZW0pID09IC0xKSB7XG4gICAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnRzLmVzY2FwZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBTdHJpbmcodmFsdWUpXG4gICAgLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG4gICAgLnJlcGxhY2UoLycvZywgJyYjMzk7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbn07XG5cbmV4cG9ydHMudW5lc2NhcGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gU3RyaW5nKHZhbHVlKVxuICAgIC5yZXBsYWNlKC8mYW1wOy9nLCAnJicpXG4gICAgLnJlcGxhY2UoLyZxdW90Oy9nLCAnXCInKVxuICAgIC5yZXBsYWNlKC8mIzM5Oy9nLCBcIidcIilcbiAgICAucmVwbGFjZSgvJmx0Oy9nLCAnPCcpXG4gICAgLnJlcGxhY2UoLyZndDsvZywgJz4nKTtcbn07XG5cbmV4cG9ydHMuaHJ0aW1lID0gZnVuY3Rpb24odGltZSkge1xuICBpZiAodGltZSkge1xuICAgIHZhciBzcGVuZCA9IHByb2Nlc3MuaHJ0aW1lKHRpbWUpO1xuICAgIFxuICAgIHNwZW5kID0gKHNwZW5kWzBdICsgc3BlbmRbMV0gLyAxZTkpICogMTAwMCArICdtcyc7XG5cbiAgICByZXR1cm4gc3BlbmQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHByb2Nlc3MuaHJ0aW1lKCk7XG4gIH1cbn07XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgd2l0aCBsaXN0IGtleXNcbiAqIEBleGFtcGxlXG4gKiB1dGlsLnBpY2soeyBrZXk6ICd2YWx1ZScgfSwgJ2tleScsICdrZXkxJyk7XG4gKiB1dGlsLnBpY2sob2JqLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHsgfSk7XG4gKi9cbmV4cG9ydHMucGljayA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIGlmIChleHBvcnRzLmlzRnVuY3Rpb24oaXRlcmF0ZWUpKSB7XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XG4gICAgICBpZiAoaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqKSkge1xuICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIga2V5cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgICByZXN1bHRba2V5XSA9IG9ialtrZXldO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydHMucGF0aCA9IHt9O1xuXG5pZiAoaXNXaW5kb3dzKSB7XG4gIC8vIFJlZ2V4IHRvIHNwbGl0IGEgd2luZG93cyBwYXRoIGludG8gdGhyZWUgcGFydHM6IFsqLCBkZXZpY2UsIHNsYXNoLFxuICAvLyB0YWlsXSB3aW5kb3dzLW9ubHlcbiAgdmFyIHNwbGl0RGV2aWNlUmUgPVxuICAgICAgL14oW2EtekEtWl06fFtcXFxcXFwvXXsyfVteXFxcXFxcL10rW1xcXFxcXC9dK1teXFxcXFxcL10rKT8oW1xcXFxcXC9dKT8oW1xcc1xcU10qPykkLztcblxuICBleHBvcnRzLnBhdGguaXNBYnNvbHV0ZSA9IGZ1bmN0aW9uKGZpbGVwYXRoKSB7XG4gICAgdmFyIHJlc3VsdCA9IHNwbGl0RGV2aWNlUmUuZXhlYyhmaWxlcGF0aCksXG4gICAgICAgIGRldmljZSA9IHJlc3VsdFsxXSB8fCAnJyxcbiAgICAgICAgaXNVbmMgPSAhIWRldmljZSAmJiBkZXZpY2UuY2hhckF0KDEpICE9PSAnOic7XG4gICAgLy8gVU5DIHBhdGhzIGFyZSBhbHdheXMgYWJzb2x1dGVcbiAgICByZXR1cm4gISFyZXN1bHRbMl0gfHwgaXNVbmM7XG4gIH07XG5cbiAgLy8gTm9ybWFsaXplIFxcXFwgcGF0aHMgdG8gLyBwYXRocy5cbiAgZXhwb3J0cy5wYXRoLnVuaXhpZnlQYXRoID0gZnVuY3Rpb24oZmlsZXBhdGgpIHtcbiAgICByZXR1cm4gZmlsZXBhdGgucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuICB9O1xuXG59IGVsc2Uge1xuICBleHBvcnRzLnBhdGguaXNBYnNvbHV0ZSA9IGZ1bmN0aW9uKGZpbGVwYXRoKSB7XG4gICAgcmV0dXJuIGZpbGVwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuICB9O1xuXG4gIGV4cG9ydHMucGF0aC51bml4aWZ5UGF0aCA9IGZ1bmN0aW9uKGZpbGVwYXRoKSB7XG4gICAgcmV0dXJuIGZpbGVwYXRoO1xuICB9O1xufSIsInZhciBGaXJlYmFzZUZyYW1lciwgSEVJR0hULCBJbnB1dCwgV0lEVEgsIGJnLCBidXR0b24sIGRlbW9EQiwgZmllbGQsIGZvb3RlciwgZnMsIGltYWdlcywgbGluZUhlaWdodCwgcG9zdCwgc3RyZWFtLCB0ZXh0ZmllbGQ7XG5cbmltYWdlcyA9ICcvaW1hZ2VzJztcblxuZnMgPSByZXF1aXJlKCcuLi9ub2RlX21vZHVsZXMvZmlsZS1zeXN0ZW0nKTtcblxuRmlyZWJhc2VGcmFtZXIgPSByZXF1aXJlKCdmaXJlYmFzZWZyYW1lcicpLkZpcmViYXNlRnJhbWVyO1xuXG5JbnB1dCA9IHJlcXVpcmUoXCJpbnB1dGZpZWxkXCIpLklucHV0O1xuXG5XSURUSCA9IEZyYW1lci5TY3JlZW4ud2lkdGg7XG5cbkhFSUdIVCA9IEZyYW1lci5TY3JlZW4uaGVpZ2h0O1xuXG5saW5lSGVpZ2h0ID0gMzA7XG5cbmZzLnJlYWRkaXIoaW1hZ2VzLCBmdW5jdGlvbihlcnIsIGZpbGVzKSB7XG4gIHZhciBmaWxlLCBqLCBsZW4sIHJlc3VsdHM7XG4gIHJlc3VsdHMgPSBbXTtcbiAgZm9yIChqID0gMCwgbGVuID0gZmlsZXMubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICBmaWxlID0gZmlsZXNbal07XG4gICAgcmVzdWx0cy5wdXNoKGNvbnNvbGUubG9nKGZpbGUpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn0pO1xuXG5GcmFtZXIuRGVmYXVsdHMuQW5pbWF0aW9uID0ge1xuICBjdXJ2ZTogJ3NwcmluZygxNTAsIDEwLCAwKSdcbn07XG5cbmRlbW9EQiA9IG5ldyBGaXJlYmFzZUZyYW1lcih7XG4gIHByb2plY3RJRDogXCJmcmFtZXItc2tldGNoLWZpcmViYXNlLXRlc3RcIixcbiAgc2VjcmV0OiBcImxId3NLNGxqaHdVbU10M0VVMXlick1QUWNTRGdiS2h2VEl3dXFKOUlcIixcbiAgc2VydmVyOiBcInMtdXNjMWMtbnNzLTEzNC5maXJlYmFzZWlvLmNvbVwiXG59KTtcblxuYmcgPSBuZXcgQmFja2dyb3VuZExheWVyKHtcbiAgYmFja2dyb3VuZENvbG9yOiBcIiNmYWZhZmFcIlxufSk7XG5cbmZvb3RlciA9IG5ldyBMYXllcih7XG4gIHg6IDAsXG4gIHk6IENhbnZhcy5oZWlnaHQgLSAyMzAsXG4gIHdpZHRoOiBDYW52YXMud2lkdGgsXG4gIGhlaWdodDogMjMwLFxuICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzk5OVwiXG59KTtcblxuc3RyZWFtID0gbmV3IExheWVyKHtcbiAgeDogMCxcbiAgeTogMCxcbiAgd2lkdGg6IENhbnZhcy53aWR0aCxcbiAgaGVpZ2h0OiBDYW52YXMuaGVpZ2h0IC0gMjMwLFxuICBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIlxufSk7XG5cbmJ1dHRvbiA9IG5ldyBMYXllcih7XG4gIHg6IDYyMCxcbiAgeTogQ2FudmFzLmhlaWdodCAtIDIwMCxcbiAgd2lkdGg6IDUwLFxuICBoZWlnaHQ6IDUwLFxuICBpbWFnZTogXCJpbWFnZXMvYnV0dG9uLnBuZ1wiXG59KTtcblxuYnV0dG9uLm9uTW91c2VEb3duKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gYnV0dG9uLmltYWdlID0gXCJpbWFnZXMvYnV0dG9uLWRvd24ucG5nXCI7XG59KTtcblxuZmllbGQgPSBuZXcgTGF5ZXIoe1xuICB4OiAxMDAsXG4gIHk6IENhbnZhcy5oZWlnaHQgLSAyMDAsXG4gIHdpZHRoOiA1MjAsXG4gIGhlaWdodDogNTAsXG4gIGltYWdlOiBcImltYWdlcy9maWVsZC5wbmdcIlxufSk7XG5cbnRleHRmaWVsZCA9IG5ldyBJbnB1dCh7XG4gIHNldHVwOiBmYWxzZSxcbiAgdHlwZTogXCJ0ZXh0XCIsXG4gIHg6IDEwMCxcbiAgeTogQ2FudmFzLmhlaWdodCAtIDIwMCxcbiAgd2lkdGg6IDUwMCxcbiAgaGVpZ2h0OiAzMFxufSk7XG5cbnRleHRmaWVsZC5zdHlsZSA9IHtcbiAgZm9udFNpemU6IFwiMTRweFwiLFxuICBjb2xvcjogXCIjMzMzXCIsXG4gIGZvbnRGYW1pbHk6IFwiSGVsdmV0aWNhXCIsXG4gIHBhZGRpbmc6IFwiMTBweCAxMHB4IDEwcHggMjBweFwiXG59O1xuXG5wb3N0ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0ZXh0ZmllbGQudmFsdWUubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGRlbW9EQi5wb3N0KCcvbWVzc2FnZXMnLCB7XG4gICAgICBcInRleHRcIjogdGV4dGZpZWxkLnZhbHVlXG4gICAgfSk7XG4gIH1cbn07XG5cbmRlbW9EQi5vbkNoYW5nZShcIi9tZXNzYWdlc1wiLCBmdW5jdGlvbihtZXNzYWdlKSB7XG4gIHZhciBjaGlsZCwgaCwgaSwgaiwgaywgbGVuLCBsaW5lLCBtLCBtZXNzYWdlQXJyYXksIHJlZiwgcmVmMSwgcmVzdWx0cywgdDtcbiAgcmVmID0gc3RyZWFtLmNoaWxkcmVuO1xuICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICBjaGlsZCA9IHJlZltqXTtcbiAgICBjaGlsZC5hbmltYXRlKHtcbiAgICAgIHk6IGNoaWxkLnkgLSBsaW5lSGVpZ2h0XG4gICAgfSk7XG4gIH1cbiAgbWVzc2FnZUFycmF5ID0gXy50b0FycmF5KG1lc3NhZ2UpO1xuICBpID0gMTtcbiAgaCA9IGxpbmVIZWlnaHQ7XG4gIHJlc3VsdHMgPSBbXTtcbiAgZm9yIChrID0gbWVzc2FnZUFycmF5Lmxlbmd0aCAtIDE7IGsgPj0gMDsgayArPSAtMSkge1xuICAgIG0gPSBtZXNzYWdlQXJyYXlba107XG4gICAgdCA9IChyZWYxID0gbS50ZXh0KSAhPSBudWxsID8gcmVmMSA6IG07XG4gICAgbGluZSA9IG5ldyBUZXh0TGF5ZXIoe1xuICAgICAgeDogMTIwLFxuICAgICAgdGV4dEFsaWduOiBcImxlZnRcIixcbiAgICAgIHk6IENhbnZhcy5oZWlnaHQgLSAyNTAgLSBoICogaSxcbiAgICAgIHRleHQ6IHQsXG4gICAgICBjb2xvcjogXCIjMzMzXCIsXG4gICAgICBmb250OiBcIjE0cHgvMS41IEhlbHZldGljYVwiXG4gICAgfSk7XG4gICAgbGluZS5wYXJlbnQgPSBzdHJlYW07XG4gICAgcmVzdWx0cy5wdXNoKGkrKyk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHM7XG59KTtcblxuYnV0dG9uLm9uTW91c2VVcChmdW5jdGlvbigpIHtcbiAgYnV0dG9uLmltYWdlID0gXCJpbWFnZXMvYnV0dG9uLnBuZ1wiO1xuICByZXR1cm4gcG9zdCgpO1xufSk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBwb3N0KCk7XG4gICAgcmV0dXJuIHRleHRmaWVsZC52YWx1ZSA9IFwiXCI7XG4gIH1cbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lMMVZ6WlhKekwycGxabVp5WlhrdWFHRnljbWx6TDBSbGRtVnNiM0J0Wlc1MEwyWnlZVzFsY2kxemEyVjBZMmd0Wm1seVpXSmhjMlV0WW05cGJHVnljR3hoZEdVdmMzSmpMMkZ3Y0M1amIyWm1aV1VpTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lJdlZYTmxjbk12YW1WbVpuSmxlUzVvWVhKeWFYTXZSR1YyWld4dmNHMWxiblF2Wm5KaGJXVnlMWE5yWlhSamFDMW1hWEpsWW1GelpTMWliMmxzWlhKd2JHRjBaUzl6Y21NdllYQndMbU52Wm1abFpTSmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRkJRU3hKUVVGQk96dEJRVUZCTEUxQlFVRXNSMEZCVXpzN1FVRkRWQ3hGUVVGQkxFZEJRVXNzVDBGQlFTeERRVUZSTERaQ1FVRlNPenRCUVVOS0xHbENRVUZyUWl4UFFVRkJMRU5CUVZFc1owSkJRVkk3TzBGQlEyeENMRkZCUVZNc1QwRkJRU3hEUVVGUkxGbEJRVkk3TzBGQlJWWXNTMEZCUVN4SFFVRlJMRTFCUVUwc1EwRkJReXhOUVVGTkxFTkJRVU03TzBGQlEzUkNMRTFCUVVFc1IwRkJVeXhOUVVGTkxFTkJRVU1zVFVGQlRTeERRVUZET3p0QlFVVjJRaXhWUVVGQkxFZEJRV0U3TzBGQlJXSXNSVUZCUlN4RFFVRkRMRTlCUVVnc1EwRkJWeXhOUVVGWUxFVkJRVzFDTEZOQlFVTXNSMEZCUkN4RlFVRk5MRXRCUVU0N1FVRkRha0lzVFVGQlFUdEJRVUZCTzA5QlFVRXNkVU5CUVVFN08ybENRVU5GTEU5QlFVOHNRMEZCUXl4SFFVRlNMRU5CUVZrc1NVRkJXanRCUVVSR096dEJRVVJwUWl4RFFVRnVRanM3UVVGSlFTeE5RVUZOTEVOQlFVTXNVVUZCVVN4RFFVRkRMRk5CUVdoQ0xFZEJRMFU3UlVGQlFTeExRVUZCTEVWQlFVOHNiMEpCUVZBN096dEJRVVZHTEUxQlFVRXNSMEZCVXl4SlFVRkpMR05CUVVvc1EwRkRVanRGUVVGQkxGTkJRVUVzUlVGQlZ5dzJRa0ZCV0R0RlFVTkJMRTFCUVVFc1JVRkJVU3d3UTBGRVVqdEZRVVZCTEUxQlFVRXNSVUZCVVN4blEwRkdVanREUVVSUk96dEJRVXRVTEVWQlFVRXNSMEZCU3l4SlFVRkpMR1ZCUVVvc1EwRkRSRHRGUVVGQkxHVkJRVUVzUlVGQmFVSXNVMEZCYWtJN1EwRkVRenM3UVVGSFRDeE5RVUZCTEVkQlFWTXNTVUZCU1N4TFFVRktMRU5CUTB3N1JVRkJRU3hEUVVGQkxFVkJRVWtzUTBGQlNqdEZRVU5CTEVOQlFVRXNSVUZCU1N4TlFVRk5MRU5CUVVNc1RVRkJVQ3hIUVVGblFpeEhRVVJ3UWp0RlFVVkJMRXRCUVVFc1JVRkJUeXhOUVVGTkxFTkJRVU1zUzBGR1pEdEZRVWRCTEUxQlFVRXNSVUZCVVN4SFFVaFNPMFZCU1VFc1pVRkJRU3hGUVVGcFFpeE5RVXBxUWp0RFFVUkxPenRCUVU5VUxFMUJRVUVzUjBGQlV5eEpRVUZKTEV0QlFVb3NRMEZEVER0RlFVRkJMRU5CUVVFc1JVRkJSeXhEUVVGSU8wVkJRMEVzUTBGQlFTeEZRVUZITEVOQlJFZzdSVUZGUVN4TFFVRkJMRVZCUVU4c1RVRkJUU3hEUVVGRExFdEJSbVE3UlVGSFFTeE5RVUZCTEVWQlFWRXNUVUZCVFN4RFFVRkRMRTFCUVZBc1IwRkJaMElzUjBGSWVFSTdSVUZKUVN4bFFVRkJMRVZCUVdsQ0xHRkJTbXBDTzBOQlJFczdPMEZCVTFRc1RVRkJRU3hIUVVGVExFbEJRVWtzUzBGQlNpeERRVU5NTzBWQlFVRXNRMEZCUVN4RlFVRkhMRWRCUVVnN1JVRkRRU3hEUVVGQkxFVkJRVWNzVFVGQlRTeERRVUZETEUxQlFWQXNSMEZCWjBJc1IwRkVia0k3UlVGRlFTeExRVUZCTEVWQlFVOHNSVUZHVUR0RlFVZEJMRTFCUVVFc1JVRkJVU3hGUVVoU08wVkJTVUVzUzBGQlFTeEZRVUZQTEcxQ1FVcFFPME5CUkVzN08wRkJUMVFzVFVGQlRTeERRVUZETEZkQlFWQXNRMEZCYlVJc1UwRkJRVHRUUVVObUxFMUJRVTBzUTBGQlF5eExRVUZRTEVkQlFXVTdRVUZFUVN4RFFVRnVRanM3UVVGSFFTeExRVUZCTEVkQlFWRXNTVUZCU1N4TFFVRktMRU5CUTBvN1JVRkJRU3hEUVVGQkxFVkJRVWNzUjBGQlNEdEZRVU5CTEVOQlFVRXNSVUZCUnl4TlFVRk5MRU5CUVVNc1RVRkJVQ3hIUVVGblFpeEhRVVJ1UWp0RlFVVkJMRXRCUVVFc1JVRkJUeXhIUVVaUU8wVkJSMEVzVFVGQlFTeEZRVUZSTEVWQlNGSTdSVUZKUVN4TFFVRkJMRVZCUVU4c2EwSkJTbEE3UTBGRVNUczdRVUZQVWl4VFFVRkJMRWRCUVZrc1NVRkJTU3hMUVVGS0xFTkJRMUk3UlVGQlFTeExRVUZCTEVWQlFVOHNTMEZCVUR0RlFVTkJMRWxCUVVFc1JVRkJUU3hOUVVST08wVkJSVUVzUTBGQlFTeEZRVUZITEVkQlJrZzdSVUZIUVN4RFFVRkJMRVZCUVVjc1RVRkJUU3hEUVVGRExFMUJRVkFzUjBGQlowSXNSMEZJYmtJN1JVRkpRU3hMUVVGQkxFVkJRVThzUjBGS1VEdEZRVXRCTEUxQlFVRXNSVUZCVVN4RlFVeFNPME5CUkZFN08wRkJVVm9zVTBGQlV5eERRVUZETEV0QlFWWXNSMEZEU1R0RlFVRkJMRkZCUVVFc1JVRkJWU3hOUVVGV08wVkJRMEVzUzBGQlFTeEZRVUZQTEUxQlJGQTdSVUZGUVN4VlFVRkJMRVZCUVZrc1YwRkdXanRGUVVkQkxFOUJRVUVzUlVGQlV5eHhRa0ZJVkRzN08wRkJUMG9zU1VGQlFTeEhRVUZQTEZOQlFVRTdSVUZEU0N4SlFVRkhMRk5CUVZNc1EwRkJReXhMUVVGTExFTkJRVU1zVFVGQmJrSTdWMEZEU1N4TlFVRk5MRU5CUVVNc1NVRkJVQ3hEUVVGWkxGZEJRVm9zUlVGQmVVSTdUVUZCUXl4TlFVRkJMRVZCUVZFc1UwRkJVeXhEUVVGRExFdEJRVzVDTzB0QlFYcENMRVZCUkVvN08wRkJSRWM3TzBGQlowSlFMRTFCUVUwc1EwRkJReXhSUVVGUUxFTkJRV2RDTEZkQlFXaENMRVZCUVRaQ0xGTkJRVU1zVDBGQlJEdEJRVU42UWl4TlFVRkJPMEZCUVVFN1FVRkJRU3hQUVVGQkxIRkRRVUZCT3p0SlFVTkpMRXRCUVVzc1EwRkJReXhQUVVGT0xFTkJRMGs3VFVGQlFTeERRVUZCTEVWQlFVY3NTMEZCU3l4RFFVRkRMRU5CUVU0c1IwRkJWU3hWUVVGaU8wdEJSRW83UVVGRVNqdEZRVWRCTEZsQlFVRXNSMEZCWlN4RFFVRkRMRU5CUVVNc1QwRkJSaXhEUVVGVkxFOUJRVlk3UlVGRlppeERRVUZCTEVkQlFVazdSVUZEU2l4RFFVRkJMRWRCUVVrN1FVRkZTanRQUVVGQkxEUkRRVUZCT3p0SlFVTkpMRU5CUVVFc2IwTkJRV0U3U1VGRFlpeEpRVUZCTEVkQlFVOHNTVUZCU1N4VFFVRktMRU5CUTBnN1RVRkJRU3hEUVVGQkxFVkJRVWNzUjBGQlNEdE5RVU5CTEZOQlFVRXNSVUZCVnl4TlFVUllPMDFCUlVFc1EwRkJRU3hGUVVGSExFMUJRVTBzUTBGQlF5eE5RVUZRTEVkQlFXZENMRWRCUVdoQ0xFZEJRWE5DTEVOQlFVRXNSMEZCU1N4RFFVWTNRanROUVVkQkxFbEJRVUVzUlVGQlRTeERRVWhPTzAxQlNVRXNTMEZCUVN4RlFVRlBMRTFCU2xBN1RVRkxRU3hKUVVGQkxFVkJRVTBzYjBKQlRFNDdTMEZFUnp0SlFVOVFMRWxCUVVrc1EwRkJReXhOUVVGTUxFZEJRV003YVVKQlEyUXNRMEZCUVR0QlFWWktPenRCUVZSNVFpeERRVUUzUWpzN1FVRnhRa0VzVFVGQlRTeERRVUZETEZOQlFWQXNRMEZCYVVJc1UwRkJRVHRGUVVOaUxFMUJRVTBzUTBGQlF5eExRVUZRTEVkQlFXVTdVMEZEWml4SlFVRkJMRU5CUVVFN1FVRkdZU3hEUVVGcVFqczdRVUZKUVN4UlFVRlJMRU5CUVVNc1owSkJRVlFzUTBGQk1FSXNWVUZCTVVJc1JVRkJjME1zVTBGQlF5eExRVUZFTzBWQlEyeERMRWxCUVVjc1MwRkJTeXhEUVVGRExFOUJRVTRzUzBGQmFVSXNSVUZCY0VJN1NVRkRTU3hMUVVGTExFTkJRVU1zWTBGQlRpeERRVUZCTzBsQlEwRXNTVUZCUVN4RFFVRkJPMWRCUTBFc1UwRkJVeXhEUVVGRExFdEJRVllzUjBGQmEwSXNSMEZJZEVJN08wRkJSR3RETEVOQlFYUkRJbjA9XG4iLCJ2YXIgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbmV4cG9ydHMuRmlyZWJhc2VGcmFtZXIgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICB2YXIgZ2V0Q09SU3VybCwgcmVxdWVzdDtcblxuICBleHRlbmQoRmlyZWJhc2VGcmFtZXIsIHN1cGVyQ2xhc3MpO1xuXG4gIGdldENPUlN1cmwgPSBmdW5jdGlvbihzZXJ2ZXIsIHBhdGgsIHNlY3JldCwgcHJvamVjdCkge1xuICAgIHZhciB1cmw7XG4gICAgc3dpdGNoIChVdGlscy5pc1dlYktpdCgpKSB7XG4gICAgICBjYXNlIHRydWU6XG4gICAgICAgIHVybCA9IFwiaHR0cHM6Ly9cIiArIHNlcnZlciArIHBhdGggKyBcIi5qc29uP2F1dGg9XCIgKyBzZWNyZXQgKyBcIiZucz1cIiArIHByb2plY3QgKyBcIiZzc2U9dHJ1ZVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHVybCA9IFwiaHR0cHM6Ly9cIiArIHByb2plY3QgKyBcIi5maXJlYmFzZWlvLmNvbVwiICsgcGF0aCArIFwiLmpzb24/YXV0aD1cIiArIHNlY3JldDtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfTtcblxuICBGaXJlYmFzZUZyYW1lci5kZWZpbmUoXCJzdGF0dXNcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3RhdHVzO1xuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gRmlyZWJhc2VGcmFtZXIob3B0aW9ucykge1xuICAgIHZhciBiYXNlLCBiYXNlMSwgYmFzZTIsIGJhc2UzO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMgOiB7fTtcbiAgICB0aGlzLnByb2plY3RJRCA9IChiYXNlID0gdGhpcy5vcHRpb25zKS5wcm9qZWN0SUQgIT0gbnVsbCA/IGJhc2UucHJvamVjdElEIDogYmFzZS5wcm9qZWN0SUQgPSBudWxsO1xuICAgIHRoaXMuc2VjcmV0ID0gKGJhc2UxID0gdGhpcy5vcHRpb25zKS5zZWNyZXQgIT0gbnVsbCA/IGJhc2UxLnNlY3JldCA6IGJhc2UxLnNlY3JldCA9IG51bGw7XG4gICAgdGhpcy5zZXJ2ZXIgPSAoYmFzZTIgPSB0aGlzLm9wdGlvbnMpLnNlcnZlciAhPSBudWxsID8gYmFzZTIuc2VydmVyIDogYmFzZTIuc2VydmVyID0gdm9pZCAwO1xuICAgIHRoaXMuZGVidWcgPSAoYmFzZTMgPSB0aGlzLm9wdGlvbnMpLmRlYnVnICE9IG51bGwgPyBiYXNlMy5kZWJ1ZyA6IGJhc2UzLmRlYnVnID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuX3N0YXR1cyA9PSBudWxsKSB7XG4gICAgICB0aGlzLl9zdGF0dXMgPSBcImRpc2Nvbm5lY3RlZFwiO1xuICAgIH1cbiAgICBGaXJlYmFzZUZyYW1lci5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodGhpcy5zZXJ2ZXIgPT09IHZvaWQgMCkge1xuICAgICAgVXRpbHMuZG9tTG9hZEpTT04oXCJodHRwczovL1wiICsgdGhpcy5wcm9qZWN0SUQgKyBcIi5maXJlYmFzZWlvLmNvbS8uc2V0dGluZ3Mvb3duZXIuanNvblwiLCBmdW5jdGlvbihhLCBzZXJ2ZXIpIHtcbiAgICAgICAgdmFyIG1zZztcbiAgICAgICAgcHJpbnQobXNnID0gXCJBZGQgX19fX19fIHNlcnZlcjpcIiArICcgICBcIicgKyBzZXJ2ZXIgKyAnXCInICsgXCIgX19fX18gdG8geW91ciBpbnN0YW5jZSBvZiBGaXJlYmFzZS5cIik7XG4gICAgICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKFwiRmlyZWJhc2U6IFwiICsgbXNnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkZpcmViYXNlOiBDb25uZWN0aW5nIHRvIEZpcmViYXNlIFByb2plY3QgJ1wiICsgdGhpcy5wcm9qZWN0SUQgKyBcIicgLi4uIFxcbiBVUkw6ICdcIiArIChnZXRDT1JTdXJsKHRoaXMuc2VydmVyLCBcIi9cIiwgdGhpcy5zZWNyZXQsIHRoaXMucHJvamVjdElEKSkgKyBcIidcIik7XG4gICAgfVxuICAgIHRoaXMub25DaGFuZ2UoXCJjb25uZWN0aW9uXCIpO1xuICB9XG5cbiAgcmVxdWVzdCA9IGZ1bmN0aW9uKHByb2plY3QsIHNlY3JldCwgcGF0aCwgY2FsbGJhY2ssIG1ldGhvZCwgZGF0YSwgcGFyYW1ldGVycywgZGVidWcpIHtcbiAgICB2YXIgdXJsLCB4aHR0cDtcbiAgICB1cmwgPSBcImh0dHBzOi8vXCIgKyBwcm9qZWN0ICsgXCIuZmlyZWJhc2Vpby5jb21cIiArIHBhdGggKyBcIi5qc29uP2F1dGg9XCIgKyBzZWNyZXQ7XG4gICAgaWYgKHBhcmFtZXRlcnMgIT09IHZvaWQgMCkge1xuICAgICAgaWYgKHBhcmFtZXRlcnMuc2hhbGxvdykge1xuICAgICAgICB1cmwgKz0gXCImc2hhbGxvdz10cnVlXCI7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1ldGVycy5mb3JtYXQgPT09IFwiZXhwb3J0XCIpIHtcbiAgICAgICAgdXJsICs9IFwiJmZvcm1hdD1leHBvcnRcIjtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAocGFyYW1ldGVycy5wcmludCkge1xuICAgICAgICBjYXNlIFwicHJldHR5XCI6XG4gICAgICAgICAgdXJsICs9IFwiJnByaW50PXByZXR0eVwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic2lsZW50XCI6XG4gICAgICAgICAgdXJsICs9IFwiJnByaW50PXNpbGVudFwiO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYXJhbWV0ZXJzLmRvd25sb2FkID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHVybCArPSBcIiZkb3dubG9hZD1cIiArIHBhcmFtZXRlcnMuZG93bmxvYWQ7XG4gICAgICAgIHdpbmRvdy5vcGVuKHVybCwgXCJfc2VsZlwiKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcGFyYW1ldGVycy5vcmRlckJ5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHVybCArPSBcIiZvcmRlckJ5PVwiICsgJ1wiJyArIHBhcmFtZXRlcnMub3JkZXJCeSArICdcIic7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhcmFtZXRlcnMubGltaXRUb0ZpcnN0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHVybCArPSBcIiZsaW1pdFRvRmlyc3Q9XCIgKyBwYXJhbWV0ZXJzLmxpbWl0VG9GaXJzdDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcGFyYW1ldGVycy5saW1pdFRvTGFzdCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICB1cmwgKz0gXCImbGltaXRUb0xhc3Q9XCIgKyBwYXJhbWV0ZXJzLmxpbWl0VG9MYXN0O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYXJhbWV0ZXJzLnN0YXJ0QXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdXJsICs9IFwiJnN0YXJ0QXQ9XCIgKyBwYXJhbWV0ZXJzLnN0YXJ0QXQ7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhcmFtZXRlcnMuZW5kQXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdXJsICs9IFwiJmVuZEF0PVwiICsgcGFyYW1ldGVycy5lbmRBdDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcGFyYW1ldGVycy5lcXVhbFRvID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHVybCArPSBcIiZlcXVhbFRvPVwiICsgcGFyYW1ldGVycy5lcXVhbFRvO1xuICAgICAgfVxuICAgIH1cbiAgICB4aHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdDtcbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRmlyZWJhc2U6IE5ldyAnXCIgKyBtZXRob2QgKyBcIictcmVxdWVzdCB3aXRoIGRhdGE6ICdcIiArIChKU09OLnN0cmluZ2lmeShkYXRhKSkgKyBcIicgXFxuIFVSTDogJ1wiICsgdXJsICsgXCInXCIpO1xuICAgIH1cbiAgICB4aHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHBhcmFtZXRlcnMgIT09IHZvaWQgMCkge1xuICAgICAgICAgIGlmIChwYXJhbWV0ZXJzLnByaW50ID09PSBcInNpbGVudFwiIHx8IHR5cGVvZiBwYXJhbWV0ZXJzLmRvd25sb2FkID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoeGh0dHAucmVhZHlTdGF0ZSkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpcmViYXNlOiBSZXF1ZXN0IG5vdCBpbml0aWFsaXplZCBcXG4gVVJMOiAnXCIgKyB1cmwgKyBcIidcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaXJlYmFzZTogU2VydmVyIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQgXFxuIFVSTDogJ1wiICsgdXJsICsgXCInXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmlyZWJhc2U6IFJlcXVlc3QgcmVjZWl2ZWQgXFxuIFVSTDogJ1wiICsgdXJsICsgXCInXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmlyZWJhc2U6IFByb2Nlc3NpbmcgcmVxdWVzdCBcXG4gVVJMOiAnXCIgKyB1cmwgKyBcIidcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjYWxsYmFjayhKU09OLnBhcnNlKHhodHRwLnJlc3BvbnNlVGV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmlyZWJhc2U6IFJlcXVlc3QgZmluaXNoZWQsIHJlc3BvbnNlOiAnXCIgKyAoSlNPTi5wYXJzZSh4aHR0cC5yZXNwb25zZVRleHQpKSArIFwiJyBcXG4gVVJMOiAnXCIgKyB1cmwgKyBcIidcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHhodHRwLnN0YXR1cyA9PT0gXCI0MDRcIikge1xuICAgICAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUud2FybihcIkZpcmViYXNlOiBJbnZhbGlkIHJlcXVlc3QsIHBhZ2Ugbm90IGZvdW5kIFxcbiBVUkw6ICdcIiArIHVybCArIFwiJ1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSkodGhpcyk7XG4gICAgeGh0dHAub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG4gICAgeGh0dHAuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIik7XG4gICAgcmV0dXJuIHhodHRwLnNlbmQoZGF0YSA9IFwiXCIgKyAoSlNPTi5zdHJpbmdpZnkoZGF0YSkpKTtcbiAgfTtcblxuICBGaXJlYmFzZUZyYW1lci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24ocGF0aCwgY2FsbGJhY2ssIHBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gcmVxdWVzdCh0aGlzLnByb2plY3RJRCwgdGhpcy5zZWNyZXQsIHBhdGgsIGNhbGxiYWNrLCBcIkdFVFwiLCBudWxsLCBwYXJhbWV0ZXJzLCB0aGlzLmRlYnVnKTtcbiAgfTtcblxuICBGaXJlYmFzZUZyYW1lci5wcm90b3R5cGUucHV0ID0gZnVuY3Rpb24ocGF0aCwgZGF0YSwgY2FsbGJhY2ssIHBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gcmVxdWVzdCh0aGlzLnByb2plY3RJRCwgdGhpcy5zZWNyZXQsIHBhdGgsIGNhbGxiYWNrLCBcIlBVVFwiLCBkYXRhLCBwYXJhbWV0ZXJzLCB0aGlzLmRlYnVnKTtcbiAgfTtcblxuICBGaXJlYmFzZUZyYW1lci5wcm90b3R5cGUucG9zdCA9IGZ1bmN0aW9uKHBhdGgsIGRhdGEsIGNhbGxiYWNrLCBwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIHJlcXVlc3QodGhpcy5wcm9qZWN0SUQsIHRoaXMuc2VjcmV0LCBwYXRoLCBjYWxsYmFjaywgXCJQT1NUXCIsIGRhdGEsIHBhcmFtZXRlcnMsIHRoaXMuZGVidWcpO1xuICB9O1xuXG4gIEZpcmViYXNlRnJhbWVyLnByb3RvdHlwZS5wYXRjaCA9IGZ1bmN0aW9uKHBhdGgsIGRhdGEsIGNhbGxiYWNrLCBwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIHJlcXVlc3QodGhpcy5wcm9qZWN0SUQsIHRoaXMuc2VjcmV0LCBwYXRoLCBjYWxsYmFjaywgXCJQQVRDSFwiLCBkYXRhLCBwYXJhbWV0ZXJzLCB0aGlzLmRlYnVnKTtcbiAgfTtcblxuICBGaXJlYmFzZUZyYW1lci5wcm90b3R5cGVbXCJkZWxldGVcIl0gPSBmdW5jdGlvbihwYXRoLCBjYWxsYmFjaywgcGFyYW1ldGVycykge1xuICAgIHJldHVybiByZXF1ZXN0KHRoaXMucHJvamVjdElELCB0aGlzLnNlY3JldCwgcGF0aCwgY2FsbGJhY2ssIFwiREVMRVRFXCIsIG51bGwsIHBhcmFtZXRlcnMsIHRoaXMuZGVidWcpO1xuICB9O1xuXG4gIEZpcmViYXNlRnJhbWVyLnByb3RvdHlwZS5vbkNoYW5nZSA9IGZ1bmN0aW9uKHBhdGgsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGN1cnJlbnRTdGF0dXMsIHNvdXJjZSwgdXJsO1xuICAgIGlmIChwYXRoID09PSBcImNvbm5lY3Rpb25cIikge1xuICAgICAgdXJsID0gZ2V0Q09SU3VybCh0aGlzLnNlcnZlciwgXCIvXCIsIHRoaXMuc2VjcmV0LCB0aGlzLnByb2plY3RJRCk7XG4gICAgICBjdXJyZW50U3RhdHVzID0gXCJkaXNjb25uZWN0ZWRcIjtcbiAgICAgIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSh1cmwpO1xuICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnRTdGF0dXMgPT09IFwiZGlzY29ubmVjdGVkXCIpIHtcbiAgICAgICAgICAgIF90aGlzLl9zdGF0dXMgPSBcImNvbm5lY3RlZFwiO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2soXCJjb25uZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMuZGVidWcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaXJlYmFzZTogQ29ubmVjdGlvbiB0byBGaXJlYmFzZSBQcm9qZWN0ICdcIiArIF90aGlzLnByb2plY3RJRCArIFwiJyBlc3RhYmxpc2hlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRTdGF0dXMgPSBcImNvbm5lY3RlZFwiO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgcmV0dXJuIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoY3VycmVudFN0YXR1cyA9PT0gXCJjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgX3RoaXMuX3N0YXR1cyA9IFwiZGlzY29ubmVjdGVkXCI7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjYWxsYmFjayhcImRpc2Nvbm5lY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5kZWJ1Zykge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGaXJlYmFzZTogQ29ubmVjdGlvbiB0byBGaXJlYmFzZSBQcm9qZWN0ICdcIiArIF90aGlzLnByb2plY3RJRCArIFwiJyBjbG9zZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjdXJyZW50U3RhdHVzID0gXCJkaXNjb25uZWN0ZWRcIjtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXJsID0gZ2V0Q09SU3VybCh0aGlzLnNlcnZlciwgcGF0aCwgdGhpcy5zZWNyZXQsIHRoaXMucHJvamVjdElEKTtcbiAgICAgIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSh1cmwpO1xuICAgICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJGaXJlYmFzZTogTGlzdGVuaW5nIHRvIGNoYW5nZXMgbWFkZSB0byAnXCIgKyBwYXRoICsgXCInIFxcbiBVUkw6ICdcIiArIHVybCArIFwiJ1wiKTtcbiAgICAgIH1cbiAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwicHV0XCIsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgY2FsbGJhY2soSlNPTi5wYXJzZShldi5kYXRhKS5kYXRhLCBcInB1dFwiLCBKU09OLnBhcnNlKGV2LmRhdGEpLnBhdGNoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKF90aGlzLmRlYnVnKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coXCJGaXJlYmFzZTogUmVjZWl2ZWQgY2hhbmdlcyBtYWRlIHRvICdcIiArIHBhdGggKyBcIicgdmlhICdQVVQnOiBcIiArIChKU09OLnBhcnNlKGV2LmRhdGEpLmRhdGEpICsgXCIgXFxuIFVSTDogJ1wiICsgdXJsICsgXCInXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHJldHVybiBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcInBhdGNoXCIsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgY2FsbGJhY2soSlNPTi5wYXJzZShldi5kYXRhKS5kYXRhLCBcInBhdGNoXCIsIEpTT04ucGFyc2UoZXYuZGF0YSkucGF0Y2gpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoX3RoaXMuZGVidWcpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhcIkZpcmViYXNlOiBSZWNlaXZlZCBjaGFuZ2VzIG1hZGUgdG8gJ1wiICsgcGF0aCArIFwiJyB2aWEgJ1BBVENIJzogXCIgKyAoSlNPTi5wYXJzZShldi5kYXRhKS5kYXRhKSArIFwiIFxcbiBVUkw6ICdcIiArIHVybCArIFwiJ1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBGaXJlYmFzZUZyYW1lcjtcblxufSkoRnJhbWVyLkJhc2VDbGFzcyk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaUwxVnpaWEp6TDJwbFptWnlaWGt1YUdGeWNtbHpMMFJsZG1Wc2IzQnRaVzUwTDJaeVlXMWxjaTF6YTJWMFkyZ3RabWx5WldKaGMyVXRZbTlwYkdWeWNHeGhkR1V2YzNKakwyMXZaSFZzWlhNdlptbHlaV0poYzJWbWNtRnRaWEl1WTI5bVptVmxJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTWlPbHNpTDFWelpYSnpMMnBsWm1aeVpYa3VhR0Z5Y21sekwwUmxkbVZzYjNCdFpXNTBMMlp5WVcxbGNpMXphMlYwWTJndFptbHlaV0poYzJVdFltOXBiR1Z5Y0d4aGRHVXZjM0pqTDIxdlpIVnNaWE12Wm1seVpXSmhjMlZtY21GdFpYSXVZMjltWm1WbElsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lKQlFXbENRU3hKUVVGQk96czdRVUZCVFN4UFFVRlBMRU5CUVVNN1FVRkpZaXhOUVVGQk96czdPMFZCUVVFc1ZVRkJRU3hIUVVGaExGTkJRVU1zVFVGQlJDeEZRVUZUTEVsQlFWUXNSVUZCWlN4TlFVRm1MRVZCUVhWQ0xFOUJRWFpDTzBGQlJWb3NVVUZCUVR0QlFVRkJMRmxCUVU4c1MwRkJTeXhEUVVGRExGRkJRVTRzUTBGQlFTeERRVUZRTzBGQlFVRXNWMEZEVFN4SlFVUk9PMUZCUTJkQ0xFZEJRVUVzUjBGQlRTeFZRVUZCTEVkQlFWY3NUVUZCV0N4SFFVRnZRaXhKUVVGd1FpeEhRVUY1UWl4aFFVRjZRaXhIUVVGelF5eE5RVUYwUXl4SFFVRTJReXhOUVVFM1F5eEhRVUZ0UkN4UFFVRnVSQ3hIUVVFeVJEdEJRVUV6UlR0QlFVUk9PMUZCUldkQ0xFZEJRVUVzUjBGQlRTeFZRVUZCTEVkQlFWY3NUMEZCV0N4SFFVRnRRaXhwUWtGQmJrSXNSMEZCYjBNc1NVRkJjRU1zUjBGQmVVTXNZVUZCZWtNc1IwRkJjMFE3UVVGR05VVTdRVUZKUVN4WFFVRlBPMFZCVGtzN08wVkJVMklzWTBGQlF5eERRVUZETEUxQlFVWXNRMEZCVXl4UlFVRlVMRVZCUTBNN1NVRkJRU3hIUVVGQkxFVkJRVXNzVTBGQlFUdGhRVUZITEVsQlFVTXNRMEZCUVR0SlFVRktMRU5CUVV3N1IwRkVSRHM3UlVGSFlTeDNRa0ZCUXl4UFFVRkVPMEZCUTFvc1VVRkJRVHRKUVVSaExFbEJRVU1zUTBGQlFTdzBRa0ZCUkN4VlFVRlRPMGxCUTNSQ0xFbEJRVU1zUTBGQlFTeFRRVUZFTEdsRVFVRnhRaXhEUVVGRExHZENRVUZFTEVOQlFVTXNXVUZCWVR0SlFVTnVReXhKUVVGRExFTkJRVUVzVFVGQlJDeG5SRUZCY1VJc1EwRkJReXhqUVVGRUxFTkJRVU1zVTBGQllUdEpRVU51UXl4SlFVRkRMRU5CUVVFc1RVRkJSQ3huUkVGQmNVSXNRMEZCUXl4alFVRkVMRU5CUVVNc1UwRkJZVHRKUVVOdVF5eEpRVUZETEVOQlFVRXNTMEZCUkN3clEwRkJjVUlzUTBGQlF5eGhRVUZFTEVOQlFVTXNVVUZCWVRzN1RVRkRia01zU1VGQlF5eERRVUZCTEZWQlFXdERPenRKUVVOdVF5eHBSRUZCUVN4VFFVRkJPMGxCUjBFc1NVRkJSeXhKUVVGRExFTkJRVUVzVFVGQlJDeExRVUZYTEUxQlFXUTdUVUZEUXl4TFFVRkxMRU5CUVVNc1YwRkJUaXhEUVVGclFpeFZRVUZCTEVkQlFWY3NTVUZCUXl4RFFVRkJMRk5CUVZvc1IwRkJjMElzYzBOQlFYaERMRVZCUVN0RkxGTkJRVU1zUTBGQlJDeEZRVUZITEUxQlFVZzdRVUZET1VVc1dVRkJRVHRSUVVGQkxFdEJRVUVzUTBGQlRTeEhRVUZCTEVkQlFVMHNiMEpCUVVFc1IwRkJkVUlzVFVGQmRrSXNSMEZCWjBNc1RVRkJhRU1zUjBGQmVVTXNSMEZCZWtNc1IwRkJLME1zYzBOQlFUTkVPMUZCUTBFc1NVRkJhME1zU1VGQlF5eERRVUZCTEV0QlFXNURPMmxDUVVGQkxFOUJRVThzUTBGQlF5eEhRVUZTTEVOQlFWa3NXVUZCUVN4SFFVRmhMRWRCUVhwQ0xFVkJRVUU3TzAxQlJqaEZMRU5CUVM5RkxFVkJSRVE3TzBsQlRVRXNTVUZCZVVrc1NVRkJReXhEUVVGQkxFdEJRVEZKTzAxQlFVRXNUMEZCVHl4RFFVRkRMRWRCUVZJc1EwRkJXU3cwUTBGQlFTeEhRVUUyUXl4SlFVRkRMRU5CUVVFc1UwRkJPVU1zUjBGQmQwUXNhVUpCUVhoRUxFZEJRWGRGTEVOQlFVTXNWVUZCUVN4RFFVRlhMRWxCUVVNc1EwRkJRU3hOUVVGYUxFVkJRVzlDTEVkQlFYQkNMRVZCUVhsQ0xFbEJRVU1zUTBGQlFTeE5RVUV4UWl4RlFVRnJReXhKUVVGRExFTkJRVUVzVTBGQmJrTXNRMEZCUkN4RFFVRjRSU3hIUVVGMVNDeEhRVUZ1U1N4RlFVRkJPenRKUVVOQkxFbEJRVU1zUTBGQlF5eFJRVUZHTEVOQlFWY3NXVUZCV0R0RlFXaENXVHM3UlVGdFFtSXNUMEZCUVN4SFFVRlZMRk5CUVVNc1QwRkJSQ3hGUVVGVkxFMUJRVllzUlVGQmEwSXNTVUZCYkVJc1JVRkJkMElzVVVGQmVFSXNSVUZCYTBNc1RVRkJiRU1zUlVGQk1FTXNTVUZCTVVNc1JVRkJaMFFzVlVGQmFFUXNSVUZCTkVRc1MwRkJOVVE3UVVGRlZDeFJRVUZCTzBsQlFVRXNSMEZCUVN4SFFVRk5MRlZCUVVFc1IwRkJWeXhQUVVGWUxFZEJRVzFDTEdsQ1FVRnVRaXhIUVVGdlF5eEpRVUZ3UXl4SFFVRjVReXhoUVVGNlF5eEhRVUZ6UkR0SlFVYzFSQ3hKUVVGUExGVkJRVUVzUzBGQll5eE5RVUZ5UWp0TlFVTkRMRWxCUVVjc1ZVRkJWU3hEUVVGRExFOUJRV1E3VVVGQmMwTXNSMEZCUVN4SlFVRlBMR2RDUVVFM1F6czdUVUZEUVN4SlFVRkhMRlZCUVZVc1EwRkJReXhOUVVGWUxFdEJRWEZDTEZGQlFYaENPMUZCUVhORExFZEJRVUVzU1VGQlR5eHBRa0ZCTjBNN08wRkJSVUVzWTBGQlR5eFZRVUZWTEVOQlFVTXNTMEZCYkVJN1FVRkJRU3hoUVVOTkxGRkJSRTQ3VlVGRGIwSXNSMEZCUVN4SlFVRlBPMEZCUVhKQ08wRkJSRTRzWVVGRlRTeFJRVVpPTzFWQlJXOUNMRWRCUVVFc1NVRkJUenRCUVVZelFqdE5RVWxCTEVsQlFVY3NUMEZCVHl4VlFVRlZMRU5CUVVNc1VVRkJiRUlzUzBGQk9FSXNVVUZCYWtNN1VVRkRReXhIUVVGQkxFbEJRVThzV1VGQlFTeEhRVUZoTEZWQlFWVXNRMEZCUXp0UlFVTXZRaXhOUVVGTkxFTkJRVU1zU1VGQlVDeERRVUZaTEVkQlFWb3NSVUZCWjBJc1QwRkJhRUlzUlVGR1JEczdUVUZMUVN4SlFVRjFSQ3hQUVVGUExGVkJRVlVzUTBGQlF5eFBRVUZzUWl4TFFVRnJReXhSUVVGNlJqdFJRVUZCTEVkQlFVRXNTVUZCVHl4WFFVRkJMRWRCUVdNc1IwRkJaQ3hIUVVGdlFpeFZRVUZWTEVOQlFVTXNUMEZCTDBJc1IwRkJlVU1zU1VGQmFFUTdPMDFCUTBFc1NVRkJkVVFzVDBGQlR5eFZRVUZWTEVOQlFVTXNXVUZCYkVJc1MwRkJhME1zVVVGQmVrWTdVVUZCUVN4SFFVRkJMRWxCUVU4c1owSkJRVUVzUjBGQmFVSXNWVUZCVlN4RFFVRkRMR0ZCUVc1RE96dE5RVU5CTEVsQlFYVkVMRTlCUVU4c1ZVRkJWU3hEUVVGRExGZEJRV3hDTEV0QlFXdERMRkZCUVhwR08xRkJRVUVzUjBGQlFTeEpRVUZQTEdWQlFVRXNSMEZCWjBJc1ZVRkJWU3hEUVVGRExGbEJRV3hET3p0TlFVTkJMRWxCUVhWRUxFOUJRVThzVlVGQlZTeERRVUZETEU5QlFXeENMRXRCUVd0RExGRkJRWHBHTzFGQlFVRXNSMEZCUVN4SlFVRlBMRmRCUVVFc1IwRkJXU3hWUVVGVkxFTkJRVU1zVVVGQk9VSTdPMDFCUTBFc1NVRkJkVVFzVDBGQlR5eFZRVUZWTEVOQlFVTXNTMEZCYkVJc1MwRkJhME1zVVVGQmVrWTdVVUZCUVN4SFFVRkJMRWxCUVU4c1UwRkJRU3hIUVVGVkxGVkJRVlVzUTBGQlF5eE5RVUUxUWpzN1RVRkRRU3hKUVVGMVJDeFBRVUZQTEZWQlFWVXNRMEZCUXl4UFFVRnNRaXhMUVVGclF5eFJRVUY2Ump0UlFVRkJMRWRCUVVFc1NVRkJUeXhYUVVGQkxFZEJRVmtzVlVGQlZTeERRVUZETEZGQlFUbENPMDlCYkVKRU96dEpRWEZDUVN4TFFVRkJMRWRCUVZFc1NVRkJTVHRKUVVOYUxFbEJRWGxITEV0QlFYcEhPMDFCUVVFc1QwRkJUeXhEUVVGRExFZEJRVklzUTBGQldTeHBRa0ZCUVN4SFFVRnJRaXhOUVVGc1FpeEhRVUY1UWl4M1FrRkJla0lzUjBGQlowUXNRMEZCUXl4SlFVRkpMRU5CUVVNc1UwRkJUQ3hEUVVGbExFbEJRV1lzUTBGQlJDeERRVUZvUkN4SFFVRnpSU3hoUVVGMFJTeEhRVUZ0Uml4SFFVRnVSaXhIUVVGMVJpeEhRVUZ1Unl4RlFVRkJPenRKUVVOQkxFdEJRVXNzUTBGQlF5eHJRa0ZCVGl4SFFVRXlRaXhEUVVGQkxGTkJRVUVzUzBGQlFUdGhRVUZCTEZOQlFVRTdVVUZGTVVJc1NVRkJUeXhWUVVGQkxFdEJRV01zVFVGQmNrSTdWVUZEUXl4SlFVRkhMRlZCUVZVc1EwRkJReXhMUVVGWUxFdEJRVzlDTEZGQlFYQkNMRWxCUVdkRExFOUJRVThzVlVGQlZTeERRVUZETEZGQlFXeENMRXRCUVRoQ0xGRkJRV3BGTzBGQlFTdEZMRzFDUVVFdlJUdFhRVVJFT3p0QlFVZEJMR2RDUVVGUExFdEJRVXNzUTBGQlF5eFZRVUZpTzBGQlFVRXNaVUZEVFN4RFFVUk9PMWxCUTJFc1NVRkJNRVVzUzBGQk1VVTdZMEZCUVN4UFFVRlBMRU5CUVVNc1IwRkJVaXhEUVVGWkxEWkRRVUZCTEVkQlFUaERMRWRCUVRsRExFZEJRV3RFTEVkQlFUbEVMRVZCUVVFN08wRkJRVkE3UVVGRVRpeGxRVVZOTEVOQlJrNDdXVUZGWVN4SlFVRXdSU3hMUVVFeFJUdGpRVUZCTEU5QlFVOHNRMEZCUXl4SFFVRlNMRU5CUVZrc2JVUkJRVUVzUjBGQmIwUXNSMEZCY0VRc1IwRkJkMFFzUjBGQmNFVXNSVUZCUVRzN1FVRkJVRHRCUVVaT0xHVkJSMDBzUTBGSVRqdFpRVWRoTEVsQlFUQkZMRXRCUVRGRk8yTkJRVUVzVDBGQlR5eERRVUZETEVkQlFWSXNRMEZCV1N4elEwRkJRU3hIUVVGMVF5eEhRVUYyUXl4SFFVRXlReXhIUVVGMlJDeEZRVUZCT3p0QlFVRlFPMEZCU0U0c1pVRkpUU3hEUVVwT08xbEJTV0VzU1VGQk1FVXNTMEZCTVVVN1kwRkJRU3hQUVVGUExFTkJRVU1zUjBGQlVpeERRVUZaTEhkRFFVRkJMRWRCUVhsRExFZEJRWHBETEVkQlFUWkRMRWRCUVhwRUxFVkJRVUU3TzBGQlFWQTdRVUZLVGl4bFFVdE5MRU5CVEU0N1dVRk5SU3hKUVVFMFF5eG5Ra0ZCTlVNN1kwRkJRU3hSUVVGQkxFTkJRVk1zU1VGQlNTeERRVUZETEV0QlFVd3NRMEZCVnl4TFFVRkxMRU5CUVVNc1dVRkJha0lzUTBGQlZDeEZRVUZCT3p0WlFVTkJMRWxCUVRSSExFdEJRVFZITzJOQlFVRXNUMEZCVHl4RFFVRkRMRWRCUVZJc1EwRkJXU3g1UTBGQlFTeEhRVUY1UXl4RFFVRkRMRWxCUVVrc1EwRkJReXhMUVVGTUxFTkJRVmNzUzBGQlN5eERRVUZETEZsQlFXcENMRU5CUVVRc1EwRkJla01zUjBGQmVVVXNZVUZCZWtVc1IwRkJjMFlzUjBGQmRFWXNSMEZCTUVZc1IwRkJkRWNzUlVGQlFUczdRVUZRUmp0UlFWTkJMRWxCUVVjc1MwRkJTeXhEUVVGRExFMUJRVTRzUzBGQlowSXNTMEZCYmtJN1ZVRkRReXhKUVVFMlJTeExRVUUzUlR0dFFrRkJRU3hQUVVGUExFTkJRVU1zU1VGQlVpeERRVUZoTEhGRVFVRkJMRWRCUVhORUxFZEJRWFJFTEVkQlFUQkVMRWRCUVhaRkxFVkJRVUU3VjBGRVJEczdUVUZrTUVJN1NVRkJRU3hEUVVGQkxFTkJRVUVzUTBGQlFTeEpRVUZCTzBsQmEwSXpRaXhMUVVGTExFTkJRVU1zU1VGQlRpeERRVUZYTEUxQlFWZ3NSVUZCYlVJc1IwRkJia0lzUlVGQmQwSXNTVUZCZUVJN1NVRkRRU3hMUVVGTExFTkJRVU1zWjBKQlFVNHNRMEZCZFVJc1kwRkJka0lzUlVGQmRVTXNhVU5CUVhaRE8xZEJRMEVzUzBGQlN5eERRVUZETEVsQlFVNHNRMEZCVnl4SlFVRkJMRWRCUVU4c1JVRkJRU3hIUVVGRkxFTkJRVU1zU1VGQlNTeERRVUZETEZOQlFVd3NRMEZCWlN4SlFVRm1MRU5CUVVRc1EwRkJjRUk3UlVGb1JGTTdPekpDUVhORVZpeEhRVUZCTEVkQlFWRXNVMEZCUXl4SlFVRkVMRVZCUVU4c1VVRkJVQ3hGUVVGMVFpeFZRVUYyUWp0WFFVRnpReXhQUVVGQkxFTkJRVkVzU1VGQlF5eERRVUZCTEZOQlFWUXNSVUZCYjBJc1NVRkJReXhEUVVGQkxFMUJRWEpDTEVWQlFUWkNMRWxCUVRkQ0xFVkJRVzFETEZGQlFXNURMRVZCUVRaRExFdEJRVGRETEVWQlFYVkVMRWxCUVhaRUxFVkJRVFpFTEZWQlFUZEVMRVZCUVhsRkxFbEJRVU1zUTBGQlFTeExRVUV4UlR0RlFVRjBRenM3TWtKQlExSXNSMEZCUVN4SFFVRlJMRk5CUVVNc1NVRkJSQ3hGUVVGUExFbEJRVkFzUlVGQllTeFJRVUZpTEVWQlFYVkNMRlZCUVhaQ08xZEJRWE5ETEU5QlFVRXNRMEZCVVN4SlFVRkRMRU5CUVVFc1UwRkJWQ3hGUVVGdlFpeEpRVUZETEVOQlFVRXNUVUZCY2tJc1JVRkJOa0lzU1VGQk4wSXNSVUZCYlVNc1VVRkJia01zUlVGQk5rTXNTMEZCTjBNc1JVRkJkVVFzU1VGQmRrUXNSVUZCTmtRc1ZVRkJOMFFzUlVGQmVVVXNTVUZCUXl4RFFVRkJMRXRCUVRGRk8wVkJRWFJET3pzeVFrRkRVaXhKUVVGQkxFZEJRVkVzVTBGQlF5eEpRVUZFTEVWQlFVOHNTVUZCVUN4RlFVRmhMRkZCUVdJc1JVRkJkVUlzVlVGQmRrSTdWMEZCYzBNc1QwRkJRU3hEUVVGUkxFbEJRVU1zUTBGQlFTeFRRVUZVTEVWQlFXOUNMRWxCUVVNc1EwRkJRU3hOUVVGeVFpeEZRVUUyUWl4SlFVRTNRaXhGUVVGdFF5eFJRVUZ1UXl4RlFVRTJReXhOUVVFM1F5eEZRVUYxUkN4SlFVRjJSQ3hGUVVFMlJDeFZRVUUzUkN4RlFVRjVSU3hKUVVGRExFTkJRVUVzUzBGQk1VVTdSVUZCZEVNN096SkNRVU5TTEV0QlFVRXNSMEZCVVN4VFFVRkRMRWxCUVVRc1JVRkJUeXhKUVVGUUxFVkJRV0VzVVVGQllpeEZRVUYxUWl4VlFVRjJRanRYUVVGelF5eFBRVUZCTEVOQlFWRXNTVUZCUXl4RFFVRkJMRk5CUVZRc1JVRkJiMElzU1VGQlF5eERRVUZCTEUxQlFYSkNMRVZCUVRaQ0xFbEJRVGRDTEVWQlFXMURMRkZCUVc1RExFVkJRVFpETEU5QlFUZERMRVZCUVhWRUxFbEJRWFpFTEVWQlFUWkVMRlZCUVRkRUxFVkJRWGxGTEVsQlFVTXNRMEZCUVN4TFFVRXhSVHRGUVVGMFF6czdORUpCUTFJc1VVRkJRU3hIUVVGUkxGTkJRVU1zU1VGQlJDeEZRVUZQTEZGQlFWQXNSVUZCZFVJc1ZVRkJka0k3VjBGQmMwTXNUMEZCUVN4RFFVRlJMRWxCUVVNc1EwRkJRU3hUUVVGVUxFVkJRVzlDTEVsQlFVTXNRMEZCUVN4TlFVRnlRaXhGUVVFMlFpeEpRVUUzUWl4RlFVRnRReXhSUVVGdVF5eEZRVUUyUXl4UlFVRTNReXhGUVVGMVJDeEpRVUYyUkN4RlFVRTJSQ3hWUVVFM1JDeEZRVUY1UlN4SlFVRkRMRU5CUVVFc1MwRkJNVVU3UlVGQmRFTTdPekpDUVVsU0xGRkJRVUVzUjBGQlZTeFRRVUZETEVsQlFVUXNSVUZCVHl4UlFVRlFPMEZCUjFRc1VVRkJRVHRKUVVGQkxFbEJRVWNzU1VGQlFTeExRVUZSTEZsQlFWZzdUVUZGUXl4SFFVRkJMRWRCUVUwc1ZVRkJRU3hEUVVGWExFbEJRVU1zUTBGQlFTeE5RVUZhTEVWQlFXOUNMRWRCUVhCQ0xFVkJRWGxDTEVsQlFVTXNRMEZCUVN4TlFVRXhRaXhGUVVGclF5eEpRVUZETEVOQlFVRXNVMEZCYmtNN1RVRkRUaXhoUVVGQkxFZEJRV2RDTzAxQlEyaENMRTFCUVVFc1IwRkJVeXhKUVVGSkxGZEJRVW9zUTBGQlowSXNSMEZCYUVJN1RVRkZWQ3hOUVVGTkxFTkJRVU1zWjBKQlFWQXNRMEZCZDBJc1RVRkJlRUlzUlVGQlowTXNRMEZCUVN4VFFVRkJMRXRCUVVFN1pVRkJRU3hUUVVGQk8xVkJReTlDTEVsQlFVY3NZVUZCUVN4TFFVRnBRaXhqUVVGd1FqdFpRVU5ETEV0QlFVTXNRMEZCUXl4UFFVRkdMRWRCUVZrN1dVRkRXaXhKUVVGNVFpeG5Ra0ZCZWtJN1kwRkJRU3hSUVVGQkxFTkJRVk1zVjBGQlZDeEZRVUZCT3p0WlFVTkJMRWxCUVhOR0xFdEJRVU1zUTBGQlFTeExRVUYyUmp0alFVRkJMRTlCUVU4c1EwRkJReXhIUVVGU0xFTkJRVmtzTkVOQlFVRXNSMEZCTmtNc1MwRkJReXhEUVVGQkxGTkJRVGxETEVkQlFYZEVMR1ZCUVhCRkxFVkJRVUU3WVVGSVJEczdhVUpCU1VFc1lVRkJRU3hIUVVGblFqdFJRVXhsTzAxQlFVRXNRMEZCUVN4RFFVRkJMRU5CUVVFc1NVRkJRU3hEUVVGb1F6dGhRVTlCTEUxQlFVMHNRMEZCUXl4blFrRkJVQ3hEUVVGM1FpeFBRVUY0UWl4RlFVRnBReXhEUVVGQkxGTkJRVUVzUzBGQlFUdGxRVUZCTEZOQlFVRTdWVUZEYUVNc1NVRkJSeXhoUVVGQkxFdEJRV2xDTEZkQlFYQkNPMWxCUTBNc1MwRkJReXhEUVVGRExFOUJRVVlzUjBGQldUdFpRVU5hTEVsQlFUUkNMR2RDUVVFMVFqdGpRVUZCTEZGQlFVRXNRMEZCVXl4alFVRlVMRVZCUVVFN08xbEJRMEVzU1VGQmEwWXNTMEZCUXl4RFFVRkJMRXRCUVc1R08yTkJRVUVzVDBGQlR5eERRVUZETEVsQlFWSXNRMEZCWVN3MFEwRkJRU3hIUVVFMlF5eExRVUZETEVOQlFVRXNVMEZCT1VNc1IwRkJkMFFzVlVGQmNrVXNSVUZCUVR0aFFVaEVPenRwUWtGSlFTeGhRVUZCTEVkQlFXZENPMUZCVEdkQ08wMUJRVUVzUTBGQlFTeERRVUZCTEVOQlFVRXNTVUZCUVN4RFFVRnFReXhGUVdKRU8wdEJRVUVzVFVGQlFUdE5RWFZDUXl4SFFVRkJMRWRCUVUwc1ZVRkJRU3hEUVVGWExFbEJRVU1zUTBGQlFTeE5RVUZhTEVWQlFXOUNMRWxCUVhCQ0xFVkJRVEJDTEVsQlFVTXNRMEZCUVN4TlFVRXpRaXhGUVVGdFF5eEpRVUZETEVOQlFVRXNVMEZCY0VNN1RVRkRUaXhOUVVGQkxFZEJRVk1zU1VGQlNTeFhRVUZLTEVOQlFXZENMRWRCUVdoQ08wMUJRMVFzU1VGQmJVWXNTVUZCUXl4RFFVRkJMRXRCUVhCR08xRkJRVUVzVDBGQlR5eERRVUZETEVkQlFWSXNRMEZCV1N3d1EwRkJRU3hIUVVFeVF5eEpRVUV6UXl4SFFVRm5SQ3hoUVVGb1JDeEhRVUUyUkN4SFFVRTNSQ3hIUVVGcFJTeEhRVUUzUlN4RlFVRkJPenROUVVWQkxFMUJRVTBzUTBGQlF5eG5Ra0ZCVUN4RFFVRjNRaXhMUVVGNFFpeEZRVUVyUWl4RFFVRkJMRk5CUVVFc1MwRkJRVHRsUVVGQkxGTkJRVU1zUlVGQlJEdFZRVU01UWl4SlFVRjNSU3huUWtGQmVFVTdXVUZCUVN4UlFVRkJMRU5CUVZNc1NVRkJTU3hEUVVGRExFdEJRVXdzUTBGQlZ5eEZRVUZGTEVOQlFVTXNTVUZCWkN4RFFVRnRRaXhEUVVGRExFbEJRVGRDTEVWQlFXMURMRXRCUVc1RExFVkJRVEJETEVsQlFVa3NRMEZCUXl4TFFVRk1MRU5CUVZjc1JVRkJSU3hEUVVGRExFbEJRV1FzUTBGQmJVSXNRMEZCUXl4TFFVRTVSQ3hGUVVGQk96dFZRVU5CTEVsQlFYTklMRXRCUVVNc1EwRkJRU3hMUVVGMlNEdHRRa0ZCUVN4UFFVRlBMRU5CUVVNc1IwRkJVaXhEUVVGWkxITkRRVUZCTEVkQlFYVkRMRWxCUVhaRExFZEJRVFJETEdWQlFUVkRMRWRCUVRCRUxFTkJRVU1zU1VGQlNTeERRVUZETEV0QlFVd3NRMEZCVnl4RlFVRkZMRU5CUVVNc1NVRkJaQ3hEUVVGdFFpeERRVUZETEVsQlFYSkNMRU5CUVRGRUxFZEJRVzlHTEZsQlFYQkdMRWRCUVdkSExFZEJRV2hITEVkQlFXOUhMRWRCUVdoSUxFVkJRVUU3TzFGQlJqaENPMDFCUVVFc1EwRkJRU3hEUVVGQkxFTkJRVUVzU1VGQlFTeERRVUV2UWp0aFFVbEJMRTFCUVUwc1EwRkJReXhuUWtGQlVDeERRVUYzUWl4UFFVRjRRaXhGUVVGcFF5eERRVUZCTEZOQlFVRXNTMEZCUVR0bFFVRkJMRk5CUVVNc1JVRkJSRHRWUVVOb1F5eEpRVUV3UlN4blFrRkJNVVU3V1VGQlFTeFJRVUZCTEVOQlFWTXNTVUZCU1N4RFFVRkRMRXRCUVV3c1EwRkJWeXhGUVVGRkxFTkJRVU1zU1VGQlpDeERRVUZ0UWl4RFFVRkRMRWxCUVRkQ0xFVkJRVzFETEU5QlFXNURMRVZCUVRSRExFbEJRVWtzUTBGQlF5eExRVUZNTEVOQlFWY3NSVUZCUlN4RFFVRkRMRWxCUVdRc1EwRkJiVUlzUTBGQlF5eExRVUZvUlN4RlFVRkJPenRWUVVOQkxFbEJRWGRJTEV0QlFVTXNRMEZCUVN4TFFVRjZTRHR0UWtGQlFTeFBRVUZQTEVOQlFVTXNSMEZCVWl4RFFVRlpMSE5EUVVGQkxFZEJRWFZETEVsQlFYWkRMRWRCUVRSRExHbENRVUUxUXl4SFFVRTBSQ3hEUVVGRExFbEJRVWtzUTBGQlF5eExRVUZNTEVOQlFWY3NSVUZCUlN4RFFVRkRMRWxCUVdRc1EwRkJiVUlzUTBGQlF5eEpRVUZ5UWl4RFFVRTFSQ3hIUVVGelJpeFpRVUYwUml4SFFVRnJSeXhIUVVGc1J5eEhRVUZ6Unl4SFFVRnNTQ3hGUVVGQk96dFJRVVpuUXp0TlFVRkJMRU5CUVVFc1EwRkJRU3hEUVVGQkxFbEJRVUVzUTBGQmFrTXNSVUV2UWtRN08wVkJTRk03T3pzN1IwRnFSekJDTEUxQlFVMHNRMEZCUXlKOVxuIiwidmFyIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5leHBvcnRzLklucHV0ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKElucHV0LCBzdXBlckNsYXNzKTtcblxuICBJbnB1dC5kZWZpbmUoXCJzdHlsZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmlucHV0LnN0eWxlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIF8uZXh0ZW5kKHRoaXMuaW5wdXQuc3R5bGUsIHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuXG4gIElucHV0LmRlZmluZShcInZhbHVlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5wdXQudmFsdWU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gSW5wdXQob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuc2V0dXAgPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucy5zZXR1cCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy53aWR0aCA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zLndpZHRoID0gU2NyZWVuLndpZHRoO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5jbGlwID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMuY2xpcCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5oZWlnaHQgPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucy5oZWlnaHQgPSA2MDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuYmFja2dyb3VuZENvbG9yID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMuYmFja2dyb3VuZENvbG9yID0gb3B0aW9ucy5zZXR1cCA/IFwicmdiYSgyNTUsIDYwLCA0NywgLjUpXCIgOiBcInRyYW5zcGFyZW50XCI7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmZvbnRTaXplID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMuZm9udFNpemUgPSAzMDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMubGluZUhlaWdodCA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zLmxpbmVIZWlnaHQgPSAzMDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucGFkZGluZyA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zLnBhZGRpbmcgPSAxMDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZm9udEZhbWlseSA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zLmZvbnRGYW1pbHkgPSBcIlwiO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5vcGFjaXR5ID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnMub3BhY2l0eSA9IDE7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnRleHQgPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucy50ZXh0ID0gXCJcIjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucGxhY2Vob2xkZXIgPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucy5wbGFjZWhvbGRlciA9IFwiXCI7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnR5cGUgPT0gbnVsbCkge1xuICAgICAgb3B0aW9ucy50eXBlID0gXCJ0ZXh0XCI7XG4gICAgfVxuICAgIElucHV0Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLnBsYWNlaG9sZGVyQ29sb3IgIT0gbnVsbCkge1xuICAgICAgdGhpcy5wbGFjZWhvbGRlckNvbG9yID0gb3B0aW9ucy5wbGFjZWhvbGRlckNvbG9yO1xuICAgIH1cbiAgICB0aGlzLmlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHRoaXMuaW5wdXQuaWQgPSBcImlucHV0LVwiICsgKF8ubm93KCkpO1xuICAgIHRoaXMuaW5wdXQuc3R5bGUuY3NzVGV4dCA9IFwiZm9udC1zaXplOiBcIiArIG9wdGlvbnMuZm9udFNpemUgKyBcInB4OyBsaW5lLWhlaWdodDogXCIgKyBvcHRpb25zLmxpbmVIZWlnaHQgKyBcInB4OyBwYWRkaW5nOiBcIiArIG9wdGlvbnMucGFkZGluZyArIFwicHg7IHdpZHRoOiBcIiArIG9wdGlvbnMud2lkdGggKyBcInB4OyBoZWlnaHQ6IFwiICsgb3B0aW9ucy5oZWlnaHQgKyBcInB4OyBib3JkZXI6IG5vbmU7IG91dGxpbmUtd2lkdGg6IDA7IGJhY2tncm91bmQtaW1hZ2U6IHVybChhYm91dDpibGFuayk7IGJhY2tncm91bmQtY29sb3I6IFwiICsgb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgKyBcIjsgZm9udC1mYW1pbHk6IFwiICsgb3B0aW9ucy5mb250RmFtaWx5ICsgXCI7IG9wYWNpdHk6IFwiICsgb3B0aW9ucy5vcGFjaXR5ICsgXCI7XCI7XG4gICAgdGhpcy5pbnB1dC52YWx1ZSA9IG9wdGlvbnMudGV4dDtcbiAgICB0aGlzLmlucHV0LnR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgdGhpcy5pbnB1dC5wbGFjZWhvbGRlciA9IG9wdGlvbnMucGxhY2Vob2xkZXI7XG4gICAgdGhpcy5mb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XG4gICAgdGhpcy5mb3JtLmFwcGVuZENoaWxkKHRoaXMuaW5wdXQpO1xuICAgIHRoaXMuX2VsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5mb3JtKTtcbiAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IFwidHJhbnNwYXJlbnRcIjtcbiAgICBpZiAodGhpcy5wbGFjZWhvbGRlckNvbG9yKSB7XG4gICAgICB0aGlzLnVwZGF0ZVBsYWNlaG9sZGVyQ29sb3Iob3B0aW9ucy5wbGFjZWhvbGRlckNvbG9yKTtcbiAgICB9XG4gIH1cblxuICBJbnB1dC5wcm90b3R5cGUudXBkYXRlUGxhY2Vob2xkZXJDb2xvciA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgdmFyIGNzcztcbiAgICB0aGlzLnBsYWNlaG9sZGVyQ29sb3IgPSBjb2xvcjtcbiAgICBpZiAodGhpcy5wYWdlU3R5bGUgIT0gbnVsbCkge1xuICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZCh0aGlzLnBhZ2VTdHlsZSk7XG4gICAgfVxuICAgIHRoaXMucGFnZVN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgIHRoaXMucGFnZVN0eWxlLnR5cGUgPSBcInRleHQvY3NzXCI7XG4gICAgY3NzID0gXCIjXCIgKyB0aGlzLmlucHV0LmlkICsgXCI6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIgeyBjb2xvcjogXCIgKyB0aGlzLnBsYWNlaG9sZGVyQ29sb3IgKyBcIjsgfVwiO1xuICAgIHRoaXMucGFnZVN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICAgIHJldHVybiBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMucGFnZVN0eWxlKTtcbiAgfTtcblxuICBJbnB1dC5wcm90b3R5cGUuZm9jdXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dC5mb2N1cygpO1xuICB9O1xuXG4gIHJldHVybiBJbnB1dDtcblxufSkoTGF5ZXIpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lMMVZ6WlhKekwycGxabVp5WlhrdWFHRnljbWx6TDBSbGRtVnNiM0J0Wlc1MEwyWnlZVzFsY2kxemEyVjBZMmd0Wm1seVpXSmhjMlV0WW05cGJHVnljR3hoZEdVdmMzSmpMMjF2WkhWc1pYTXZhVzV3ZFhSbWFXVnNaQzVqYjJabVpXVWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGN5STZXeUl2VlhObGNuTXZhbVZtWm5KbGVTNW9ZWEp5YVhNdlJHVjJaV3h2Y0cxbGJuUXZabkpoYldWeUxYTnJaWFJqYUMxbWFYSmxZbUZ6WlMxaWIybHNaWEp3YkdGMFpTOXpjbU12Ylc5a2RXeGxjeTlwYm5CMWRHWnBaV3hrTG1OdlptWmxaU0pkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lRVUZEUVN4SlFVRkJPenM3UVVGQlRTeFBRVUZQTEVOQlFVTTdPenRGUVVOaUxFdEJRVU1zUTBGQlFTeE5RVUZFTEVOQlFWRXNUMEZCVWl4RlFVTkRPMGxCUVVFc1IwRkJRU3hGUVVGTExGTkJRVUU3WVVGQlJ5eEpRVUZETEVOQlFVRXNTMEZCU3l4RFFVRkRPMGxCUVZZc1EwRkJURHRKUVVOQkxFZEJRVUVzUlVGQlN5eFRRVUZETEV0QlFVUTdZVUZEU2l4RFFVRkRMRU5CUVVNc1RVRkJSaXhEUVVGVExFbEJRVU1zUTBGQlFTeExRVUZMTEVOQlFVTXNTMEZCYUVJc1JVRkJkVUlzUzBGQmRrSTdTVUZFU1N4RFFVUk1PMGRCUkVRN08wVkJTMEVzUzBGQlF5eERRVUZCTEUxQlFVUXNRMEZCVVN4UFFVRlNMRVZCUTBNN1NVRkJRU3hIUVVGQkxFVkJRVXNzVTBGQlFUdGhRVUZITEVsQlFVTXNRMEZCUVN4TFFVRkxMRU5CUVVNN1NVRkJWaXhEUVVGTU8wbEJRMEVzUjBGQlFTeEZRVUZMTEZOQlFVTXNTMEZCUkR0aFFVTktMRWxCUVVNc1EwRkJRU3hMUVVGTExFTkJRVU1zUzBGQlVDeEhRVUZsTzBsQlJGZ3NRMEZFVER0SFFVUkVPenRGUVV0aExHVkJRVU1zVDBGQlJEczdUVUZCUXl4VlFVRlZPenM3VFVGRGRrSXNUMEZCVHl4RFFVRkRMRkZCUVZNN096dE5RVU5xUWl4UFFVRlBMRU5CUVVNc1VVRkJVeXhOUVVGTkxFTkJRVU03T3p0TlFVTjRRaXhQUVVGUExFTkJRVU1zVDBGQlVUczdPMDFCUTJoQ0xFOUJRVThzUTBGQlF5eFRRVUZWT3pzN1RVRkRiRUlzVDBGQlR5eERRVUZETEd0Q1FVRnpRaXhQUVVGUExFTkJRVU1zUzBGQldDeEhRVUZ6UWl4MVFrRkJkRUlzUjBGQmJVUTdPenROUVVNNVJTeFBRVUZQTEVOQlFVTXNWMEZCV1RzN08wMUJRM0JDTEU5QlFVOHNRMEZCUXl4aFFVRmpPenM3VFVGRGRFSXNUMEZCVHl4RFFVRkRMRlZCUVZjN096dE5RVU51UWl4UFFVRlBMRU5CUVVNc1lVRkJZenM3TzAxQlEzUkNMRTlCUVU4c1EwRkJReXhWUVVGWE96czdUVUZEYmtJc1QwRkJUeXhEUVVGRExFOUJRVkU3T3p0TlFVTm9RaXhQUVVGUExFTkJRVU1zWTBGQlpUczdPMDFCUTNaQ0xFOUJRVThzUTBGQlF5eFBRVUZST3p0SlFVVm9RaXgxUTBGQlRTeFBRVUZPTzBsQlJVRXNTVUZCWjBRc1owTkJRV2hFTzAxQlFVRXNTVUZCUXl4RFFVRkJMR2RDUVVGRUxFZEJRVzlDTEU5QlFVOHNRMEZCUXl4cFFrRkJOVUk3TzBsQlEwRXNTVUZCUXl4RFFVRkJMRXRCUVVRc1IwRkJVeXhSUVVGUkxFTkJRVU1zWVVGQlZDeERRVUYxUWl4UFFVRjJRanRKUVVOVUxFbEJRVU1zUTBGQlFTeExRVUZMTEVOQlFVTXNSVUZCVUN4SFFVRlpMRkZCUVVFc1IwRkJVU3hEUVVGRExFTkJRVU1zUTBGQlF5eEhRVUZHTEVOQlFVRXNRMEZCUkR0SlFVTndRaXhKUVVGRExFTkJRVUVzUzBGQlN5eERRVUZETEV0QlFVc3NRMEZCUXl4UFFVRmlMRWRCUVhWQ0xHRkJRVUVzUjBGQll5eFBRVUZQTEVOQlFVTXNVVUZCZEVJc1IwRkJLMElzYlVKQlFTOUNMRWRCUVd0RUxFOUJRVThzUTBGQlF5eFZRVUV4UkN4SFFVRnhSU3hsUVVGeVJTeEhRVUZ2Uml4UFFVRlBMRU5CUVVNc1QwRkJOVVlzUjBGQmIwY3NZVUZCY0Vjc1IwRkJhVWdzVDBGQlR5eERRVUZETEV0QlFYcElMRWRCUVN0SUxHTkJRUzlJTEVkQlFUWkpMRTlCUVU4c1EwRkJReXhOUVVGeVNpeEhRVUUwU2l3MFJrRkJOVW9zUjBGQmQxQXNUMEZCVHl4RFFVRkRMR1ZCUVdoUkxFZEJRV2RTTEdsQ1FVRm9VaXhIUVVGcFV5eFBRVUZQTEVOQlFVTXNWVUZCZWxNc1IwRkJiMVFzWVVGQmNGUXNSMEZCYVZVc1QwRkJUeXhEUVVGRExFOUJRWHBWTEVkQlFXbFdPMGxCUTNoWExFbEJRVU1zUTBGQlFTeExRVUZMTEVOQlFVTXNTMEZCVUN4SFFVRmxMRTlCUVU4c1EwRkJRenRKUVVOMlFpeEpRVUZETEVOQlFVRXNTMEZCU3l4RFFVRkRMRWxCUVZBc1IwRkJZeXhQUVVGUExFTkJRVU03U1VGRGRFSXNTVUZCUXl4RFFVRkJMRXRCUVVzc1EwRkJReXhYUVVGUUxFZEJRWEZDTEU5QlFVOHNRMEZCUXp0SlFVTTNRaXhKUVVGRExFTkJRVUVzU1VGQlJDeEhRVUZSTEZGQlFWRXNRMEZCUXl4aFFVRlVMRU5CUVhWQ0xFMUJRWFpDTzBsQlJWSXNTVUZCUXl4RFFVRkJMRWxCUVVrc1EwRkJReXhYUVVGT0xFTkJRV3RDTEVsQlFVTXNRMEZCUVN4TFFVRnVRanRKUVVOQkxFbEJRVU1zUTBGQlFTeFJRVUZSTEVOQlFVTXNWMEZCVml4RFFVRnpRaXhKUVVGRExFTkJRVUVzU1VGQmRrSTdTVUZGUVN4SlFVRkRMRU5CUVVFc1pVRkJSQ3hIUVVGdFFqdEpRVU51UWl4SlFVRnZSQ3hKUVVGRExFTkJRVUVzWjBKQlFYSkVPMDFCUVVFc1NVRkJReXhEUVVGQkxITkNRVUZFTEVOQlFYZENMRTlCUVU4c1EwRkJReXhuUWtGQmFFTXNSVUZCUVRzN1JVRTVRbGs3TzJ0Q1FXZERZaXh6UWtGQlFTeEhRVUYzUWl4VFFVRkRMRXRCUVVRN1FVRkRka0lzVVVGQlFUdEpRVUZCTEVsQlFVTXNRMEZCUVN4blFrRkJSQ3hIUVVGdlFqdEpRVU53UWl4SlFVRkhMSE5DUVVGSU8wMUJRME1zVVVGQlVTeERRVUZETEVsQlFVa3NRMEZCUXl4WFFVRmtMRU5CUVRCQ0xFbEJRVU1zUTBGQlFTeFRRVUV6UWl4RlFVUkVPenRKUVVWQkxFbEJRVU1zUTBGQlFTeFRRVUZFTEVkQlFXRXNVVUZCVVN4RFFVRkRMR0ZCUVZRc1EwRkJkVUlzVDBGQmRrSTdTVUZEWWl4SlFVRkRMRU5CUVVFc1UwRkJVeXhEUVVGRExFbEJRVmdzUjBGQmEwSTdTVUZEYkVJc1IwRkJRU3hIUVVGTkxFZEJRVUVzUjBGQlNTeEpRVUZETEVOQlFVRXNTMEZCU3l4RFFVRkRMRVZCUVZnc1IwRkJZeXgxUTBGQlpDeEhRVUZ4UkN4SlFVRkRMRU5CUVVFc1owSkJRWFJFTEVkQlFYVkZPMGxCUXpkRkxFbEJRVU1zUTBGQlFTeFRRVUZUTEVOQlFVTXNWMEZCV0N4RFFVRjFRaXhSUVVGUkxFTkJRVU1zWTBGQlZDeERRVUYzUWl4SFFVRjRRaXhEUVVGMlFqdFhRVU5CTEZGQlFWRXNRMEZCUXl4SlFVRkpMRU5CUVVNc1YwRkJaQ3hEUVVFd1FpeEpRVUZETEVOQlFVRXNVMEZCTTBJN1JVRlNkVUk3TzJ0Q1FWVjRRaXhMUVVGQkxFZEJRVThzVTBGQlFUdFhRVU5PTEVsQlFVTXNRMEZCUVN4TFFVRkxMRU5CUVVNc1MwRkJVQ3hEUVVGQk8wVkJSRTA3T3pzN1IwRnlSRzlDSW4wPVxuIl19"}